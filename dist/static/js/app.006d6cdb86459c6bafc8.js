webpackJsonp([3],{"+DKK":function(e,t){},"+EAg":function(e,t){},"+mPg":function(e,t){},"/5WI":function(e,t){},"/LEW":function(e,t){},"/NQd":function(e,t){},"0KAk":function(e,t){},"0Vyv":function(e,t){},"0fNN":function(e,t){},"16fS":function(e,t){},"2Q4D":function(e,t){},"2c+9":function(e,t){},"2ny2":function(e,t){},"3Ch6":function(e,t){},"3zoS":function(e,t){},"42TP":function(e,t){},"4BWr":function(e,t){},"4U5d":function(e,t){},"5Qkr":function(e,t){},"5S2R":function(e,t){},"5TlW":function(e,t){},"69lU":function(e,t){},"6XY1":function(e,t){},7954:function(e,t){},"7MvO":function(e,t){},"7eil":function(e,t){},"8C0e":function(e,t){},"8jDA":function(e,t){},"9L1L":function(e,t){},"9M+g":function(e,t){},"9pmV":function(e,t){},"A/9T":function(e,t){},AX4k:function(e,t,s){"use strict";var a=s("VBp3");t.a={name:"ListMixin",mixins:[a.a],data:function(){return{toastText:this.$route.params.toastText||null,toastVariant:this.$route.params.toastVariant||null}},methods:{},created:function(){this.toastText&&this.toastVariant&&this.showToast(this.toastText,"Uwaga!",this.toastVariant)}}},BwW3:function(e,t){},CT3Q:function(e,t){},DQ9D:function(e,t){},DmJO:function(e,t){},DtMO:function(e,t){},FlXV:function(e,t){},G1lq:function(e,t){},G9XT:function(e,t){},GCSl:function(e,t){},Gzte:function(e,t){},HEj7:function(e,t){},HeY8:function(e,t){},Hvo2:function(e,t){},IR1H:function(e,t){},IcnI:function(e,t,s){"use strict";var a=s("7+uW"),i=s("NYxO"),n=s("g7+j"),o=s("//Fk"),r=s.n(o),c=s("a/3G"),l={state:{users:[],user:null},getters:{users:function(e){return e.users},getUserById:function(e){return function(t){for(var s in e.users)if(parseInt(s.id)===parseInt(t))return s}},user:function(e){return e.user}},mutations:{setUsers:function(e,t){e.users=t},setUser:function(e,t){e.user=t}},actions:{getUser:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/user/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setUser",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getUsers:function(e,t){return new r.a(function(s,a){c.a("resource/user","get",!0,t,t,200).then(function(t){"error"!==t?(e.commit("setUsers",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},getAllUsers:function(e,t){return new r.a(function(e,t){c.a("resource/user/1","get",!0,null,null,200).then(function(t){"error"!==t?(console.log(t),e(t)):e("error")}).catch(function(e){console.log(e),t(e.response)})})},putUser:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/user/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(console.log(t),e.commit("setUser",t),e.commit("setAuthUser",{user:t}),a(t)):a("error")}).catch(function(e){console.log(e),i(e.response)})})},sendMailConfirmed:function(e,t){return new r.a(function(e,s){c.a("resource/mail","post",!0,t,t,200).then(function(t){"error"!==t?(console.log(t),e(t)):e("error")}).catch(function(e){console.log(e),s(e.response)})})},getMailConfirmed:function(e,t){return new r.a(function(e,s){c.a("resource/mail","get",!0,t,t,200).then(function(t){"error"!==t?(console.log(t),e(t)):e("error")}).catch(function(e){console.log(e),s(e.response)})})},getChangeMail:function(e,t){return new r.a(function(e,s){c.a("resource/mail","get",!0,t,t,200).then(function(t){"error"!==t?(console.log(t),e(t)):e("error")}).catch(function(e){console.log(e),s(e.response)})})},getPasswordReset:function(e,t){return new r.a(function(e,s){c.a("resource/mail","get",!0,t,t,200).then(function(t){"error"!==t?(console.log(t),e(t)):e("error")}).catch(function(e){console.log(e),s(e.response)})})},sendResetPassword:function(e,t){return new r.a(function(e,s){c.a("resource/mail","post",!0,t,t,200).then(function(t){"error"!==t?(console.log(t),e(t)):e("error")}).catch(function(e){console.log(e),s(e.response)})})},passwordReset:function(e,t){return new r.a(function(e,s){c.a("resource/mail","post",!0,t,t,200).then(function(t){"error"!==t?(console.log(t),e(t)):e("error")}).catch(function(e){console.log(e),s(e.response)})})},sendCreateSchool:function(e,t){return new r.a(function(e,s){c.a("resource/home-page","post",!0,t,t,200).then(function(t){"error"!==t?(console.log(t),e(t)):e("error")}).catch(function(e){console.log(e),s(e.response)})})},getCreateSchool:function(e,t){return new r.a(function(e,s){c.a("resource/home-page","get",!0,t,t,200).then(function(t){"error"!==t?(console.log(t),e(t)):e("error")}).catch(function(e){console.log(e),s(e.response)})})},putSchoolByEmail:function(e,t){return new r.a(function(e,s){c.a("resource/home-page","put",!0,t,t,200).then(function(t){"error"!==t?(console.log(t),e(t)):e("error")}).catch(function(e){console.log(e),s(e.response)})})},sendCreateLeader:function(e,t){return new r.a(function(e,s){c.a("resource/home-page","post",!0,t,t,200).then(function(t){"error"!==t?(console.log(t),e(t)):e("error")}).catch(function(e){console.log(e),s(e.response)})})}}},u={state:{schools:{confirmed:[],toConfirm:[]},school:null},getters:{schoolsConfirmed:function(e){return e.schools.confirmed},schoolsToConfirm:function(e){return e.schools.toConfirm},schools:function(e){return e.schools.confirmed.concat(e.schools.toConfirm)},school:function(e){return function(t,s){var a=[];a=void 0===t?e.schools.confirmed.concat(e.schools.toConfirm):t?e.schools.confirmed:e.schools.toConfirm;for(var i=0;i<a.length;i++){var n=a[i];if(!(void 0===n||null===n||n.length<1)&&parseInt(n.id)===parseInt(s))return n}}}},mutations:{setConfirmedSchools:function(e,t){e.schools.confirmed=t},setSchoolsToConfirm:function(e,t){e.schools.toConfirm=t},setSchools:function(e,t){var s=[],a=[];for(var i in t)t[i].confirmed?s.push(t[i]):a.push(t[i]);e.schools.confirmed=s,e.schools.toConfirm=a},setSchool:function(e,t){var s=t.id,a=t.confirmed,i=[];if(void 0!==s&&null!==s){i=a?e.schools.confirmed:e.schools.toConfirm;for(var n=0;n<i.length;n++){var o=i[n];if(parseInt(o.id)===parseInt(s))return i.splice(n,1,t),a?e.schools.confirmed=i:e.schools.toConfirm=i,void console.log(e.schools)}a?e.schools.confirmed.push(t):e.schools.toConfirm.push(t),console.log(e.schools)}},deleteSchool:function(e,t){}},actions:{getSchool:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/school/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSchool",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getSchools:function(e,t){return new r.a(function(s,a){c.a("resource/school","get",!0,t,t,200).then(function(a){"error"!==a?(t&&t.confirmed?1===t.confirmed?e.commit("setConfirmedSchools",a):e.commit("setSchoolsToConfirm",a):e.commit("setSchools",a),s(a)):s("error")}).catch(function(e){console.log(e),console.log(e.response),a(e.response)})})},postSchool:function(e,t){return console.log(t),new r.a(function(s,a){c.a("resource/school","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSchool",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putSchool:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/school/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSchool",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteSchool:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/school/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteSchool",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},d={state:{events:{confirmed:[],toConfirm:[]},event:null},getters:{eventsConfirmed:function(e){return e.events.confirmed},eventsToConfirm:function(e){return e.events.toConfirm},events:function(e){return e.events.confirmed.concat(e.events.toConfirm)},event:function(e){return function(t,s){var a=[];a=void 0===t?e.events.confirmed.concat(e.events.toConfirm):t?e.events.confirmed:e.events.toConfirm;for(var i=0;i<a.length;i++){var n=a[i];if(!(void 0===n||null===n||n.length<1)&&parseInt(n.id)===parseInt(s))return n}}}},mutations:{setConfirmedEvents:function(e,t){e.events.confirmed=t},setEventsToConfirm:function(e,t){e.events.toConfirm=t},setEvents:function(e,t){var s=[],a=[];for(var i in t)t[i].confirmed?s.push(t[i]):a.push(t[i]);e.events.confirmed=s,e.events.toConfirm=a},setEvent:function(e,t){var s=t.id,a=t.confirmed,i=[];if(void 0!==s&&null!==s){i=a?e.events.confirmed:e.events.toConfirm;for(var n=0;n<i.length;n++){var o=i[n];if(parseInt(o.id)===parseInt(s))return i.splice(n,1,t),void(a?e.events.confirmed=i:e.events.toConfirm=i)}a?e.events.confirmed.push(t):e.events.toConfirm.push(t)}},deleteEvent:function(e,t){}},actions:{getEvent:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/event/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setEvent",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getEvents:function(e,t){return new r.a(function(s,a){c.a("resource/event","get",!0,t,t,200).then(function(a){"error"!==a?(t&&t.confirmed?1===t.confirmed?e.commit("setConfirmedEvents",a):e.commit("setEventsToConfirm",a):e.commit("setEvents",a),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postEvent:function(e,t){return new r.a(function(s,a){c.a("resource/event","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setEvent",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putEvent:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/event/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setEvent",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteEvent:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/event/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteEvent",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},p={state:{groups:[],group:null},getters:{groups:function(e){return e.groups},group:function(e){return e.group}},mutations:{setGroups:function(e,t){e.groups=t.groups},setGroup:function(e,t){e.group=t},deleteGroup:function(e,t){}},actions:{getGroup:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/group/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setGroup",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getGroups:function(e,t){return new r.a(function(s,a){c.a("resource/group","get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setGroups",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postGroup:function(e,t){return new r.a(function(s,a){c.a("resource/group","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setGroup",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putGroup:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/group/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setGroup",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteGroup:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/group/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteGroup",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},m={state:{participants:[],participantsBySchoolId:[],participant:null},getters:{participants:function(e){return e.participants},participantsBySchoolId:function(e){return e.participantsBySchoolId},participant:function(e){return function(t){var s=e.participants;if(void 0!==t)for(var a=0;a<s.length;a++){var i=s[a];if(!(void 0===i||null===i||i.length<1)&&parseInt(i.id)===parseInt(t))return i}}}},mutations:{setParticipantsBySchoolId:function(e,t){e.participantsBySchoolId=t},setParticipants:function(e,t){e.participants=t},setParticipant:function(e,t){var s=t.id,a=e.participants;if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.participants=a)}e.participants.push(t)}},deleteParticipant:function(e,t){}},actions:{getParticipant:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/participant/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setParticipant",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getParticipantsBySchool:function(e,t){return new r.a(function(s,a){c.a("resource/participant","get",!0,t,t,200).then(function(t){"error"!==t?(e.commit("setParticipantsBySchoolId",t&&t.data?t.data:t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},getParticipants:function(e,t){return new r.a(function(s,a){c.a("resource/participant","get",!0,t,t,200).then(function(t){"error"!==t?(e.commit("setParticipants",t&&t.data?t.data:t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postParticipant:function(e,t){return new r.a(function(s,a){c.a("resource/participant","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setParticipant",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putParticipant:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/participant/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(console.log(t),e.commit("setParticipant",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteParticipant:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/participant/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteParticipant",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},h={state:{participantGroups:[],participantGroup:null},getters:{participantGroups:function(e){return e.participantGroups},participantGroup:function(e){return function(t){var s=[];void 0===t&&(s=e.participantGroups.concat(e.participantGroups));for(var a=0;a<s.length;a++){var i=s[a];if(!(void 0===i||null===i||i.length<1)&&parseInt(i.id)===parseInt(t))return i}}}},mutations:{setParticipantGroups:function(e,t){e.participantGroups=t},setParticipantGroup:function(e,t){var s=t.id,a=e.participantGroups;if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.participantGroups=a)}e.participantGroups.push(t)}},deleteParticipantGroup:function(e,t){}},actions:{getParticipantGroup:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/participant-group/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setParticipantGroup",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getParticipantGroups:function(e,t){return new r.a(function(s,a){c.a("resource/participant-group","get",!0,t,t,200).then(function(t){"error"!==t?(e.commit("setParticipantGroups",t&&t.data?t.data:t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postParticipantGroup:function(e,t){return new r.a(function(s,a){c.a("resource/participant-group","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setParticipantGroup",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putParticipantGroup:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/participant-group/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setParticipantGroup",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteParticipantGroup:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/participant-group/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteParticipantGroup",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},changeParticipantStatusInList:function(e,t){var s=t.listId;return new r.a(function(a,i){c.a("resource/participant-group/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setParticipantGroup",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},cloneParticipantGroup:function(e,t){var s=t.id;return t.actionType="cloneGroupWithParticipants",new r.a(function(a,i){c.a("resource/participant-group/"+s,"post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setParticipantGroup",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},f={state:{sportObjects:{confirmed:[],toConfirm:[]},sportObject:null},getters:{sportObjectsConfirmed:function(e){return e.sportObjects.confirmed},sportObjectsToConfirm:function(e){return e.sportObjects.toConfirm},sportObjects:function(e){return e.sportObjects.confirmed.concat(e.sportObjects.toConfirm)},sportObject:function(e){return function(t,s){var a=[];a=void 0===t?e.sportObjects.confirmed.concat(e.sportObjects.toConfirm):t?e.sportObjects.confirmed:e.sportObjects.toConfirm;for(var i=0;i<a.length;i++){var n=a[i];if(!(void 0===n||null===n||n.length<1)&&parseInt(n.id)===parseInt(s))return n}}}},mutations:{setConfirmedSportObjects:function(e,t){e.sportObjects.confirmed=t},setSportObjectsToConfirm:function(e,t){e.sportObjects.toConfirm=t},setSportObjects:function(e,t){var s=[],a=[];for(var i in t)1===parseInt(t[i].confirmed)?s.push(t[i]):a.push(t[i]);e.sportObjects.confirmed=s,e.sportObjects.toConfirm=a},setSportObject:function(e,t){var s=t.id,a=t.confirmed,i=[];if(void 0!==s&&null!==s){i=a?e.sportObjects.confirmed:e.sportObjects.toConfirm;for(var n=0;n<i.length;n++){if(i[n].id===s)return i.splice(n,1,t),void(a?e.sportObjects.confirmed=i:e.sportObjects.toConfirm=i)}a?e.sportObjects.confirmed.push(t):e.sportObjects.toConfirm.push(t)}},deleteSportObject:function(e,t){}},actions:{getSportObject:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/place/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSportObject",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getSportObjects:function(e,t){return new r.a(function(s,a){c.a("resource/place","get",!0,t,t,200).then(function(a){"error"!==a?(t?1===t.confirmed?e.commit("setConfirmedSportObjects",a&&a.data?a.data:a):e.commit("setSportObjectsToConfirm",a&&a.data?a.data:a):e.commit("setSportObjects",a&&a.data?a.data:a),s(a)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postSportObject:function(e,t){return new r.a(function(s,a){c.a("resource/place","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSportObject",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putSportObject:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/place/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSportObject",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteSportObject:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/place/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteSportObject",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},v=s("Gu7T"),b=s.n(v),g={state:{sportObjectTypes:[],sportObjectType:null},getters:{sportObjectTypes:function(e){return e.sportObjectTypes},sportObjectType:function(e){return function(t){for(var s=0;s<e.sportObjectTypes.length;s++){var a=e.sportObjectTypes[s];if(!(void 0===a||null===a||a.length<1)&&parseInt(a.id)===parseInt(t))return a}}}},mutations:{setSportObjectTypes:function(e,t){e.sportObjectTypes=t},setSportObjectType:function(e,t){var s=t.id,a=[].concat(b()(e.sportObjectTypes));if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.sportObjectTypes=a)}e.sportObjectTypes.push(t)}},deleteSportObjectType:function(e,t){for(var s=[].concat(b()(e.sportObjectTypes)),a=0;a<s.length;a++){if(s[a].id===t)return s.splice(a,1),void(e.sportObjectTypes=s)}}},actions:{getSportObjectType:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/placeType/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSportObjectType",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getSportObjectTypes:function(e,t){return new r.a(function(s,a){c.a("resource/placeType","get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSportObjectTypes",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postSportObjectType:function(e,t){return new r.a(function(s,a){c.a("resource/placeType","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSportObjectType",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putSportObjectType:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/placeType/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSportObjectType",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteSportObjectType:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/placeType/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteSportObjectType",s),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},y={state:{skills:[],skill:null},getters:{skills:function(e){return e.skills},skill:function(e){return e.skill}},mutations:{setSkills:function(e,t){e.skills=t.skills},setSkill:function(e,t){e.skill=t},deleteSkill:function(e,t){}},actions:{getSkill:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/skill/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSkill",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getSkills:function(e,t){return new r.a(function(s,a){c.a("resource/skill","get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSkills",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postSkill:function(e,t){return new r.a(function(s,a){c.a("resource/skill","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSkill",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putSkill:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/skill/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSkill",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteSkill:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/skill/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteSkill",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},_={state:{disciplines:[]},getters:{disciplines:function(e){return e.disciplines},discipline:function(e){return function(t){for(var s=0;s<e.disciplines.length;s++){var a=e.disciplines[s];if(!(void 0===a||null===a||a.length<1)&&parseInt(a.id)===parseInt(t))return a}}}},mutations:{setDisciplines:function(e,t){e.disciplines=t},setDiscipline:function(e,t){var s=t.id,a=[].concat(b()(e.disciplines));if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.disciplines=a)}e.disciplines.push(t)}},deleteDiscipline:function(e,t){for(var s=[].concat(b()(e.disciplines)),a=0;a<s.length;a++){if(s[a].id===t)return s.splice(a,1),void(e.disciplines=s)}}},actions:{getDiscipline:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/discipline/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setDiscipline",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getDisciplines:function(e,t){return new r.a(function(s,a){c.a("resource/discipline","get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setDisciplines",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postDiscipline:function(e,t){return new r.a(function(s,a){c.a("resource/discipline","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setDiscipline",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putDiscipline:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/discipline/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setDiscipline",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteDiscipline:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/discipline/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteDiscipline",s),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},k={state:{lessonCategories:[]},getters:{lessonCategories:function(e){return e.lessonCategories},lessonCategory:function(e){return function(t){for(var s=0;s<e.lessonCategories.length;s++){var a=e.lessonCategories[s];if(!(void 0===a||null===a||a.length<1)&&parseInt(a.id)===parseInt(t))return a}}}},mutations:{setLessonCategories:function(e,t){e.lessonCategories=t},setLessonCategory:function(e,t){var s=t.id,a=[].concat(b()(e.lessonCategories));if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.lessonCategories=a)}e.lessonCategories.push(t)}},deleteLessonCategory:function(e,t){for(var s=[].concat(b()(e.lessonCategories)),a=0;a<s.length;a++){if(s[a].id===t)return s.splice(a,1),void(e.lessonCategories=s)}}},actions:{getLessonCategory:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/lesson-category/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setLessonCategory",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getLessonCategories:function(e,t){return new r.a(function(s,a){c.a("resource/lesson-category","get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setLessonCategories",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postLessonCategory:function(e,t){return new r.a(function(s,a){c.a("resource/lesson-category","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setLessonCategory",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putLessonCategory:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/lesson-category/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setLessonCategory",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteLessonCategory:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/lesson-category/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteLessonCategory",s),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},C=s("Dd8w"),w=s.n(C),x=s("BO1k"),$=s.n(x),T=s("jFya"),S={state:{classes:[],classProfiles:[]},getters:{classes:function(e){return e.classes},classProfiles:function(e){return e.classProfiles},classItemPerId:function(e){return function(t){return e.classes.find(function(e){return parseFloat(e.id)===parseFloat(t)})}},classesAll:function(e){for(var t=e.classes,s=[],a=0;a<t.length;a++)parseInt(t[a].type)===parseInt(2)&&s.push(t[a]);return s}},mutations:{setClasses:function(e,t){e.classes=t},setClassProfiles:function(e,t){e.classProfiles=t},setClassAll:function(e,t){var s=t.id,a=[].concat(b()(e.classes));if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.classes=a)}e.classes.push(t)}},setClass:function(e,t){var s=t.id,a=t.oldId,i=t.profile.id,n=[].concat(b()(e.classes));if(void 0!==s&&null!==s){for(var o=!1,r=0;r<n.length;r++){if(n[r].id===s)return n.splice(r,1,t),o=!0,void(e.classes=n)}for(var c in o||e.classes.push(t),e.classProfiles){var l=e.classProfiles[c];if(l.id&&parseFloat(l.id)===parseFloat(i)){for(var u in l.classes){var d=l.classes[u];if(!d.id||parseFloat(d.id)===parseFloat(a))return void l.classes.splice(u,1,t)}l.classes.push(t)}}}},setClassProfile:function(e,t){var s=t.id,a=t.oldId,i=[].concat(b()(e.classProfiles));if(void 0!==s&&null!==s){for(var n=0;n<i.length;n++){if(i[n].id===a)return delete t.oldId,i.splice(n,1,t),void(e.classProfiles=i)}e.classProfiles.push(t)}},deleteClassProfile:function(e,t){for(var s=[].concat(b()(e.classProfiles)),a=0;a<s.length;a++){s[a].id===t.urlParams&&(s.splice(a,1),e.classProfiles=s)}},addEmptyProfile:function(e){var t=-1,s=!0,a=!1,i=void 0;try{for(var n,o=$()(e.classProfiles);!(s=(n=o.next()).done);s=!0){var r=n.value;parseFloat(r.id)<=t&&(t=r.id-1)}}catch(e){a=!0,i=e}finally{try{!s&&o.return&&o.return()}finally{if(a)throw i}}e.classProfiles.push({title:"",id:t,classes:[]})},addEmptyClassToProfile:function(e,t){if(!Object(T.b)(e.classProfiles)){var s=null,a=-1;for(var i in e.classProfiles){var n=e.classProfiles[i];parseFloat(n.id)===parseFloat(t)&&(a=i,s=n)}if(!Object(T.b)(s)){Object(T.b)(s.classes)&&(s.classes=[]);var o=-1,r=!0,c=!1,l=void 0;try{for(var u,d=$()(e.classes);!(r=(u=d.next()).done);r=!0){var p=u.value;parseFloat(p.id)<=o&&(o=p.id-1)}}catch(e){c=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(c)throw l}}s.classes.push({id:o}),e.classes.push({id:o,title:"",type:1,profile:{id:t}}),a<0?e.classProfiles.push(s):e.classProfiles.splice(a,1,s)}}},deleteClass:function(e,t){for(var s=t.id,a=t.profileId,i=[].concat(b()(e.classes)),n=0;n<i.length;n++){i[n].id===s&&(i.splice(n,1),e.classes=i)}for(var o in e.classProfiles){var r=e.classProfiles[o];if(r.id&&parseFloat(r.id)===parseFloat(a))for(var c in r.classes){var l=r.classes[c];l.id&&parseFloat(l.id)===parseFloat(s)&&r.classes.splice(c,1)}}}},actions:{addEmptyClassToProfile:function(e,t){e.commit("addEmptyClassToProfile",t)},addEmptyProfile:function(e,t){e.commit("addEmptyProfile",t)},getClass:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/class/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setClass",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getClasses:function(e,t){return new r.a(function(s,a){c.a("resource/class","get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setClasses",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},getClassProfiles:function(e,t){return new r.a(function(s,a){c.a("resource/class","get",!0,t,{profiles:!0},200).then(function(t){"error"!==t?(e.commit("setClassProfiles",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postClass:function(e,t){return console.log(t),new r.a(function(s,a){c.a("resource/class","post",!0,t,null,200).then(function(a){"error"!==a?(2===t.type?e.commit("setClassAll",a):e.commit("setClass",w()({},a,{oldId:t.id})),s(a)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postClassProfile:function(e,t){return new r.a(function(s,a){c.a("resource/class","post",!0,t,{profiles:!0},200).then(function(a){"error"!==a?(e.commit("setClassProfile",w()({},a,{oldId:t.id})),s(a)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putClass:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/class/"+s,"put",!0,t,null,200).then(function(s){"error"!==s?(2===t.type?e.commit("setClassAll",t):e.commit("setClass",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},putClassProfile:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/class/"+s,"put",!0,t,{profiles:!0},200).then(function(t){"error"!==t?(e.commit("setClassProfile",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteClass:function(e,t){var s=t.id;if(!(s<0))return new r.a(function(a,i){c.a("resource/class/"+s,"delete",!0,t,null,200).then(function(s){"error"!==s?(e.commit("deleteClass",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})});e.commit("deleteClass",t)},deleteClassProfName:function(e,t){var s=t.urlParams;if(!(s<0))return new r.a(function(a,i){c.a("resource/class/","delete",!0,null,{profileId:s},200).then(function(s){"error"!==s?(e.commit("deleteClassProfile",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})});e.commit("deleteClassProfile",t)}}},P={state:{seasons:[]},getters:{seasons:function(e){return e.seasons},season:function(e){return function(t){for(var s=0;s<e.seasons.length;s++){var a=e.seasons[s];if(!(void 0===a||null===a||a.length<1)&&parseInt(a.id)===parseInt(t))return a}}}},mutations:{setSeasons:function(e,t){e.seasons=t},setSeason:function(e,t){var s=t.id,a=t.oldId,i=[].concat(b()(e.seasons));if(void 0!==s&&null!==s){for(var n=0;n<i.length;n++){if(i[n].id===a)return delete t.oldId,i.splice(n,1,t),void(e.seasons=i)}e.seasons.push(t)}},deleteSeason:function(e,t){for(var s=[].concat(b()(e.seasons)),a=0;a<s.length;a++){if(s[a].id===t.urlParams)return s.splice(a,1),void(e.seasons=s)}},addEmptySeason:function(e){var t=-1,s=!0,a=!1,i=void 0;try{for(var n,o=$()(e.seasons);!(s=(n=o.next()).done);s=!0){var r=n.value;parseFloat(r.id)<=t&&(t=r.id-1)}}catch(e){a=!0,i=e}finally{try{!s&&o.return&&o.return()}finally{if(a)throw i}}e.seasons.push({id:t,title:"",from:null,to:null})}},actions:{addEmptySeason:function(e,t){e.commit("addEmptySeason",t)},getSeason:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/season/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSeason",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getSeasons:function(e,t){return new r.a(function(s,a){c.a("resource/season","get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSeasons",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postSeason:function(e,t){return new r.a(function(s,a){c.a("resource/season","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSeason",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putSeason:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/season/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSeason",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteSeason:function(e,t){var s=t.urlParams;if(!(s<0))return new r.a(function(a,i){c.a("resource/season/"+s,"delete",!0,t,null,200).then(function(s){"error"!==s?(e.commit("deleteSeason",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})});e.commit("deleteSeason",t)}}},j={state:{leaders:{confirmed:[],toConfirm:[]}},getters:{leadersConfirmed:function(e){return e.leaders.confirmed},leadersToConfirm:function(e){return e.leaders.toConfirm},leaders:function(e){return e.leaders.confirmed.concat(e.leaders.toConfirm)},leaderById:function(e){return function(t){var s=!0,a=!1,i=void 0;try{for(var n,o=$()(e.leaders.confirmed);!(s=(n=o.next()).done);s=!0){var r=n.value;if(parseInt(r.id)===parseInt(t))return r}}catch(e){a=!0,i=e}finally{try{!s&&o.return&&o.return()}finally{if(a)throw i}}}},leader:function(e){return function(t,s){var a=[];a=void 0===s?e.leaders.confirmed.concat(e.leaders.toConfirm):s?e.leaders.confirmed:e.leaders.toConfirm;for(var i=0;i<a.length;i++){var n=a[i];if(!(void 0===n||null===n||n.length<1)&&parseInt(n.id)===parseInt(t))return n}}}},mutations:{setConfirmedLeaders:function(e,t){e.leaders.confirmed=t},setLeadersToConfirm:function(e,t){e.leaders.toConfirm=t},setLeader:function(e,t){var s=t.id,a=t.confirmed,i=[];if(void 0!==s&&null!==s){i=a?e.leaders.confirmed:e.leaders.toConfirm;for(var n=0;n<i.length;n++){if(i[n].id===s)return i.splice(n,1,t),void(a?e.leaders.confirmed=i:e.leaders.toConfirm=i)}a?e.leaders.confirmed.push(t):e.leaders.toConfirm.push(t)}},deleteLeader:function(e,t){}},actions:{getLeader:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/leader/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setLeader",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getLeaders:function(e,t){return new r.a(function(s,a){c.a("resource/leader","get",!0,t,t,200).then(function(a){"error"!==a?(1===t.confirmed?e.commit("setConfirmedLeaders",a):e.commit("setLeadersToConfirm",a),s()):s("error")}).catch(function(e){console.log(e),a(e.response)})})},postLeader:function(e,t){return new r.a(function(s,a){c.a("resource/leader","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setLeader",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putLeader:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/leader/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setLeader",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteLeader:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/leader/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteLeader",s),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},D={state:{lessons:[],lesson:null,lessonSportObjects:[],lessonParticipantLists:[]},getters:{lessonSportObjects:function(e){return e.lessonSportObjects},lessons:function(e){return e.lessons},lesson:function(e){return function(t){var s=[];void 0===t&&(s=e.lessons.concat(e.lessons));for(var a=0;a<s.length;a++){var i=s[a];if(!(void 0===i||null===i||i.length<1)&&parseInt(i.id)===parseInt(t))return i}}}},mutations:{addEmptyLessonSportObject:function(e){var t=-1,s=!0,a=!1,i=void 0;try{for(var n,o=$()(e.lessonSportObjects);!(s=(n=o.next()).done);s=!0){var r=n.value;parseInt(r.id)<=t&&(t=r.id-1)}}catch(e){a=!0,i=e}finally{try{!s&&o.return&&o.return()}finally{if(a)throw i}}e.lessonSportObjects.push({id:t,school:{id:null},place:{id:null}})},deleteLessonSportObject:function(e,t){for(var s=[].concat(b()(e.lessonSportObjects)),a=0;a<s.length;a++){if(s[a].id===t.id)return s.splice(a,1),void(e.lessonSportObjects=s)}},setLessonSportObjects:function(e,t){e.lessonSportObjects=t},setLessons:function(e,t){e.lessons=t},setLesson:function(e,t){var s=t.id,a=e.lessons||[];if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.lessons=a)}a.push(t)}},deleteLesson:function(e,t){for(var s=[].concat(b()(e.lessons)),a=0;a<s.length;a++){if(s[a].id===t)return s.splice(a,1),void(e.lessons=s)}}},actions:{addEmptyLessonSportObject:function(e){e.commit("addEmptyLessonSportObject")},deleteLessonSportObject:function(e,t){t.id;e.commit("deleteLessonSportObject",t)},getLesson:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/lesson/"+s,"get",!0,t,null,200).then(function(t){console.log(t),"error"!==t?(e.commit("setLesson",t),a(t)):a("error")}).catch(function(e){console.log(e),console.log(e.response),i(e.response)})})},getLessons:function(e,t){return new r.a(function(s,a){c.a("resource/lesson","get",!0,t,t,200).then(function(t){"error"!==t?(console.log(t),e.commit("setLessons",t&&t.data?t.data:t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postLesson:function(e,t){return new r.a(function(s,a){c.a("resource/lesson","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setLesson",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putLesson:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/lesson/"+s,"put",!0,t,null,200).then(function(t){console.log(t),"error"!==t?(e.commit("setLesson",t),a(t)):a("error")}).catch(function(e){console.log(e),console.log(e.response),i(e.response)})})},deleteLesson:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/lesson/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteLesson",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},L=s("7nRM"),z=s.n(L);function F(e){var t=z()(e).slice(0);for(var s in t){var a=[];for(var i in t[s].places)t[s].places[i]&&t[s].places[i].id&&a.push(t[s].places[i].id);t[s].places=a.length>0?a:t[s].places,"string"==typeof t[s].permissions&&(t[s].permissions=JSON.parse(t[s].permissions))}return t}var I={state:{permissions:[]},getters:{permissions:function(e){return e.permissions},permissionPerId:function(e){return function(t){return e.permissions.find(function(e){return parseFloat(e.id)===parseFloat(t)})}}},mutations:{clearPermissions:function(e,t){e.permissions=[]},setPermissions:function(e,t){console.log(t),e.permissions=t},setPermission:function(e,t){var s=t.id,a=t.oldId,i=[].concat(b()(e.permissions));if(void 0!==s&&null!==s){for(var n in i){var o=i[n];if(o.id&&parseFloat(o.id)===parseFloat(profileId)){for(var r in o.classes){var c=o.classes[r];if(!c.id||parseFloat(c.id)===parseFloat(a))return void o.classes.splice(r,1,t)}o.classes.push(t)}}for(var l=0;l<i.length;l++){if(i[l].id===a)return delete t.oldId,i.splice(l,1,t),void(e.permissions=i)}e.seasons.push(t)}},deletePermission:function(e,t){for(var s=[].concat(b()(e.permissions)),a=0;a<s.length;a++){if(s[a].id===t.id)return s.splice(a,1),void(e.permissions=s)}},deletePermissionRow:function(e,t){for(var s=[].concat(b()(e.permissions)),a=0;a<s.length;a++){var i=s[a];if(i.id===t.parentId)for(var n in i.permissions)parseInt(t.index)===parseInt(n)&&i.permissions.splice(t.index,1),s[a]=i}e.permissions=s},addEmptyPermissionRow:function(e,t){var s=!0,a=!1,i=void 0;try{for(var n,o=$()(e.permissions);!(s=(n=o.next()).done);s=!0){var r=n.value;parseFloat(r.id)===parseFloat(t.parentId)&&r.permissions.push({id:null,selected:[]})}}catch(e){a=!0,i=e}finally{try{!s&&o.return&&o.return()}finally{if(a)throw i}}},addEmptyPermission:function(e){var t=-1,s=!0,a=!1,i=void 0;try{for(var n,o=$()(e.permissions);!(s=(n=o.next()).done);s=!0){var r=n.value;parseFloat(r.id)<=t&&(t=r.id-1)}}catch(e){a=!0,i=e}finally{try{!s&&o.return&&o.return()}finally{if(a)throw i}}e.permissions.push({id:t,permissions:[{id:null,selected:[]}],status:!0,schoolUser:{school:{id:null}},places:[]})}},actions:{setPermissions:function(e,t){console.log(t)},addEmptyPermission:function(e){e.commit("addEmptyPermission")},addEmptyPermissionRow:function(e,t){e.commit("addEmptyPermissionRow",t)},getPermissionsByIds:function(e,t){var s=t.filter(Boolean);return console.log(s),!(void 0===s||null===s||s.length<1)&&new r.a(function(t,a){c.a("resource/permission","get",!0,s,{ids:s},200).then(function(s){if("error"!==s){var a=F(s);e.commit("setPermissions",a),t(s)}else t("error")}).catch(function(e){console.log(e.response),a(e.response)})})},deletePermission:function(e,t){var s=t.id;if(!(s<0))return console.log("remove from db"),new r.a(function(a,i){c.a("resource/permission/"+s,"delete",!0,t,null,200).then(function(s){"error"!==s?(e.commit("deletePermission",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})});e.commit("deletePermission",t)},deletePermissionRow:function(e,t){e.commit("deletePermissionRow",t)},putPermissions:function(e,t){var s=t.id,a=t.permissions;return new r.a(function(i,n){console.log(a),c.a("resource/permission/"+s,"put",!0,a,null,200).then(function(s){if("error"!==s){var a=F(s);console.log(a),e.commit("setPermissions",a),i(t)}else i("error")}).catch(function(e){console.log(e.response),n(e.response)})})},clearPermissions:function(e){e.commit("clearPermissions")}}},N={state:{administrators:[],administrator:null},getters:{administrators:function(e){return e.administrators},administrator:function(e){return function(t){var s=[];void 0===t&&(s=e.administrators.concat(e.administrators));for(var a=0;a<s.length;a++){var i=s[a];if(!(void 0===i||null===i||i.length<1)&&parseInt(i.id)===parseInt(t))return i}}}},mutations:{setAdministrators:function(e,t){e.administrators=t},setAdministrator:function(e,t){var s=t.id,a=e.administrators||[];if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.administrators=a)}a.push(t)}},deleteAdministrator:function(e,t){for(var s=[].concat(b()(e.administrators)),a=0;a<s.length;a++){if(s[a].id===t)return s.splice(a,1),void(e.administrators=s)}}},actions:{getAdministrator:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/administrator/"+s,"get",!0,t,null,200).then(function(t){console.log(t),"error"!==t?(e.commit("setLesson",t),a(t)):a("error")}).catch(function(e){console.log(e),console.log(e.response),i(e.response)})})},getAdministrators:function(e,t){return new r.a(function(s,a){c.a("resource/administrator","get",!0,t,t,200).then(function(t){"error"!==t?(console.log(t),e.commit("setAdministrators",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postAdministrator:function(e,t){return new r.a(function(s,a){c.a("resource/administrator","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setAdministrator",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putAdministrator:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/administrator/"+s,"put",!0,t,null,200).then(function(t){console.log(t),"error"!==t?(e.commit("setAdministrator",t),a(t)):a("error")}).catch(function(e){console.log(e),console.log(e.response),i(e.response)})})},deleteAdministrator:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/administrator/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteAdministrator",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},E={state:{logs:[]},getters:{logs:function(e){return e.logs},log:function(e){return function(t){for(var s=0;s<e.logs.length;s++){var a=e.logs[s];if(!(void 0===a||null===a||a.length<1)&&parseInt(a.id)===parseInt(t))return a}}}},mutations:{setLogs:function(e,t){e.seasons=t}},actions:{getLog:function(e,t){var s=t.id;return new r.a(function(e,a){c.a("resource/history/"+s,"get",!0,t,null,200).then(function(t){e("error"!==t?t:"error")}).catch(function(e){console.log(e.response),a(e.response)})})},getLogs:function(e,t){return new r.a(function(s,a){c.a("resource/history","get",!0,t,t,200).then(function(t){"error"!==t?(e.commit("setLogs",t.data),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})}}},O={state:{frequencies:[]},getters:{frequencies:function(e){return e.frequencies},frequency:function(e){return function(t){for(var s=0;s<e.frequencies.length;s++){var a=e.frequencies[s];if(!(void 0===a||null===a||a.length<1)&&parseInt(a.id)===parseInt(t))return a}}}},mutations:{setFrequencies:function(e,t){e.frequencies=t}},actions:{getFrequency:function(e,t){var s=t.id;return new r.a(function(e,a){c.a("resource/frequency/"+s,"get",!0,t,null,200).then(function(t){e("error"!==t?t:"error")}).catch(function(e){console.log(e.response),a(e.response)})})},getFrequencies:function(e,t){return new r.a(function(e,s){c.a("resource/frequency","get",!0,t,t,200).then(function(t){e("error"!==t?t:"error")}).catch(function(e){console.log(e.response),s(e.response)})})},putFrequency:function(e,t){var s=t.id;return new r.a(function(e,a){c.a("resource/frequency/"+s,"put",!0,t,null,200).then(function(t){console.log(t),e("error"!==t?t:"error")}).catch(function(e){console.log(e),console.log(e.response),a(e.response)})})}}},A={state:{mainPageData:{},frontLessons:{data:[],totalCount:1},frontEvents:[],frontSportProjects:[],frontSportClasses:{},frontDisciplines:[],menuAndFooter:[]},getters:{frontSportProjects:function(e){return e.frontSportProjects},frontSportClasses:function(e){return e.frontSportClasses},mainPageData:function(e){return e.mainPageData},frontLessons:function(e){return e.frontLessons},frontLesson:function(e){return function(t){if(void 0!==e.frontLessons.data&&null!==e.frontLessons.data)for(var s=0;s<e.frontLessons.data.length;s++){var a=e.frontLessons.data[s];if(!(void 0===a||null===a||a.length<1)&&parseInt(a.id)===parseInt(t))return a}}},frontEvent:function(e){return function(t){if(void 0!==e.frontEvents&&null!==e.frontEvents)for(var s=0;s<e.frontEvents.length;s++){var a=e.frontEvents[s];if(!(void 0===a||null===a||a.length<1)&&parseInt(a.id)===parseInt(t))return a}}},frontEvents:function(e){return e.frontEvents},frontDisciplines:function(e){return e.frontDisciplines},menuAndFooter:function(e){return e.menuAndFooter}},mutations:{setSportProjects:function(e,t){e.frontSportProjects=t},setSportClasses:function(e,t){e.frontSportClasses=t},setMainPageData:function(e,t){e.mainPageData=t},setFrontLessons:function(e,t){e.frontLessons=t},setFrontLesson:function(e,t){var s=t.id,a=e.frontLessons||[];if(void 0!==s&&null!==s){void 0!==a.data&&null!==a.data||(a.data=[]);for(var i=0;i<a.data.length;i++){if(a.data[i].id===s)return a.data.splice(i,1,t),void(e.frontLessons.data=a.data)}a.data.push(t)}},setFrontEvent:function(e,t){var s=t.id,a=e.frontEvents||[];if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.frontEvents=a)}a.push(t)}},setFrontEvents:function(e,t){e.frontEvents=t},setFrontDisciplines:function(e,t){e.frontDisciplines=t},setMenuAndFooter:function(e,t){e.menuAndFooter=t}},actions:{getMainPageData:function(e,t){return new r.a(function(s,a){c.a("main-mage/","get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setMainPageData",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},getFilteredLessons:function(e,t){return console.log(t),new r.a(function(s,a){c.a("main-mage/filtered-lessons","get",!0,t,t,200).then(function(t){"error"!==t?(e.commit("setFrontLessons",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},getFrontLesson:function(e,t){var s=t.id;return new r.a(function(t,a){c.a("main-mage/front-lesson/"+s,"get",!0,null,null,200).then(function(s){"error"!==s?(e.commit("setFrontLesson",s),t(s)):t("error")}).catch(function(e){console.log(e),a(e.response)})})},getFrontEvent:function(e,t){var s=t.id;return new r.a(function(t,a){c.a("main-mage/front-event/"+s,"get",!0,null,null,200).then(function(s){"error"!==s?(e.commit("setFrontEvent",s),t(s)):t("error")}).catch(function(e){console.log(e),a(e.response)})})},getFilteredEvents:function(e,t){return console.log(t),new r.a(function(s,a){c.a("main-mage/filtered-events","get",!0,t,t,200).then(function(t){"error"!==t?(e.commit("setFrontEvents",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},getMenuAndFooter:function(e,t){return console.log(t),new r.a(function(s,a){c.a("main-mage/menu-footer","get",!0,t,t,200).then(function(t){"error"!==t?(e.commit("setMenuAndFooter",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},getFrontDisciplines:function(e,t){return console.log(t),new r.a(function(s,a){c.a("front/disciplines","get",!0,t,t,200).then(function(t){"error"!==t?(e.commit("setFrontDisciplines",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},getSportProjects:function(e,t){return console.log(t),new r.a(function(s,a){c.a("front/sport-projects","get",!0,t,t,200).then(function(t){"error"!==t?(e.commit("setSportProjects",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},getSportClasses:function(e,t){return console.log(t),new r.a(function(s,a){c.a("front/sport-classes","get",!0,t,t,200).then(function(t){"error"!==t?(e.commit("setSportClasses",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},getSKS:function(e,t){return console.log(t),new r.a(function(e,s){c.a("front/sks","get",!0,t,t,200).then(function(t){e("error"!==t?t:"error")}).catch(function(e){console.log(e.response),s(e.response)})})},getNavbarItems:function(e,t){return console.log(t),new r.a(function(e,s){c.a("front/navbar-items","get",!0,t,t,200).then(function(t){e("error"!==t?t:"error")}).catch(function(e){console.log(e.response),s(e.response)})})},getRestPageFront:function(e,t){return console.log(t),new r.a(function(e,s){c.a("front/rest-page","get",!0,t,t,200).then(function(t){e("error"!==t?t:"error")}).catch(function(e){console.log(e.response),s(e.response)})})}}},M={state:{senders:[],sender:null,mails:{read:[],unread:[]},mail:null},getters:{mailsRead:function(e){return e.mails.read},mailsUnread:function(e){return e.mails.unread},mails:function(e){return e.mails.read.concat(e.mails.unread)},mail:function(e){return function(t,s){var a=[];a=void 0===s?e.mails.read.concat(e.mails.unread):s?e.mails.read:e.mails.unread;for(var i=0;i<a.length;i++){var n=a[i];if(!(void 0===n||null===n||n.length<1)&&parseInt(n.id)===parseInt(t))return n}}},sender:function(e){return console.log(e.sender),e.sender},senders:function(e){return e.senders},mailById:function(e){return function(t){for(var s in e.mails)if(parseInt(s.id)===parseInt(t))return s}}},mutations:{setReadMails:function(e,t){e.mails.read=t},setUnreadMails:function(e,t){e.mails.unread=t},setMails:function(e,t){var s=[],a=[];for(var i in t)t[i].read?s.push(t[i]):a.push(t[i]);e.mails.read=s,e.mails.unread=a},setMail:function(e,t){var s=t.id,a=t.read,i=[];if(void 0!==s&&null!==s){i=a?e.mails.read:e.mails.unread;for(var n=0;n<i.length;n++){if(i[n].id===s)return i.splice(n,1,t),void(a?e.mails.read=i:e.mails.unread=i)}a?e.mails.read.push(t):e.mails.unread.push(t)}},setSender:function(e,t){console.log(t),e.sender=t},deleteSender:function(e,t){for(var s=[].concat(b()(e.sender)),a=0;a<s.length;a++){if(s[a].id===t)return s.splice(a,1),void(e.sender=s)}}},actions:{getSender:function(e,t){return new r.a(function(s,a){c.a("resource/sender/","get",!0,t,null,200).then(function(t){"error"!==t?(console.log(t),e.commit("setSender",t.sender),e.commit("setMails",t.mails),s(t)):s("error")}).catch(function(t){console.log(t.response),e.commit("setSender",[]),a(t.response)})})},postSender:function(e,t){return console.log(t),new r.a(function(e,s){c.a("resource/sender","post",!0,t,null,200).then(function(t){e("error"!==t?t:"error")}).catch(function(e){console.log(e.response),s(e.response)})})},deleteSender:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/sender/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteSender",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},q=s("mvHQ"),R=s.n(q),G=s("mtWM"),U=s.n(G),B=s("Nz3/"),V={state:{isLoading:!1,errorCached:!1},getters:{isLoading:function(e){return e.isLoading},errorCached:function(e){return e.errorCached}},mutations:{isLoading:function(e,t){e.isLoading=t},errorCached:function(e,t){e.errorCached=!e.errorCached}},actions:{getPDF:function(e,t){var s=t.type,a=R()(t);e.commit("isLoading",!0);var i=B.b;console.log(i),function(t,s){fetch(t,{headers:{"X-AUTH-Token":n.a.state.authToken}}).then(function(t){return 400===t.status||401===t.status||402===t.status?(e.commit("isLoading",!1),void e.commit("errorCached",!1)):t.blob().then(function(t){var a=document.createElement("a");a.href=URL.createObjectURL(t),a.setAttribute("download",s),a.click(),e.commit("isLoading",!1)})})}(i+a,s+".pdf")},getExcel:function(e,t){var s=t.type,a=R()(t),i=B.a;e.commit("isLoading",!0),U.a.get(i+a,{responseType:"blob"}).then(function(t){console.log(t);var a=new Blob([t.data],{type:"application/vnd.ms-excel"}),i=window.URL.createObjectURL(a),n=document.createElement("a");n.href=i,n.setAttribute("download",s+".xlsx"),n.click(),window.URL.revokeObjectURL(i),e.commit("isLoading",!1)}).catch(function(t){400!==t.response.status&&401!==t.response.status&&402!==t.response.status||(e.commit("isLoading",!1),e.commit("errorCached",!1))})}}},Y={state:{mtsfDataList:[],mtsfList:[],mtsf:null},getters:{mtsfDataList:function(e){return e.mtsfDataList},mtsfList:function(e){return e.mtsfList},mtsf:function(e){return function(t){var s=e.mtsfList;if(void 0!==t)for(var a=0;a<s.length;a++){var i=s[a];if(!(void 0===i||null===i||i.length<1)&&parseInt(i.id)===parseInt(t))return i}}},mtsfData:function(e){return function(t){var s=e.mtsfDataList;if(void 0!==t)for(var a=0;a<s.length;a++){var i=s[a];if(!(void 0===i||null===i||i.length<1)&&parseInt(i.id)===parseInt(t))return i}}}},mutations:{setMtsfDataList:function(e,t){e.mtsfDataList=t},setMtsfList:function(e,t){console.log(t),e.mtsfList=t},setMtsf:function(e,t){console.log(t);var s=t.id,a=e.mtsfList;if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.mtsfList=a)}e.mtsfList.push(t)}},setMtsfData:function(e,t){var s=t.id,a=e.mtsfDataList;if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.mtsfDataList=a)}e.mtsfDataList.push(t)}}},actions:{getMtsf:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/mtsf/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setMtsf",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getMtsfList:function(e,t){return new r.a(function(s,a){c.a("resource/mtsf","get",!0,t,t,200).then(function(t){"error"!==t?(e.commit("setMtsfList",t&&t.data?t.data:t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postMtsf:function(e,t){return new r.a(function(s,a){c.a("resource/mtsf/"+t.id,"post",!0,t.data,null,200).then(function(t){"error"!==t?(e.commit("setMtsf",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putMtsf:function(e,t){return new r.a(function(s,a){c.a("resource/mtsf/"+t.id,"put",!0,t.data,null,200).then(function(t){"error"!==t?(console.log(t),e.commit("setMtsf",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},checkMtsfPoints:function(e,t){return new r.a(function(s,a){c.a("resource/mtsf","put",!0,t.data,null,200).then(function(t){"error"!==t?(console.log(t),e.commit("setMtsf",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},getMtsfDataList:function(e,t){return new r.a(function(s,a){c.a("resource/mtsf-data","get",!0,t,t,200).then(function(t){"error"!==t?(e.commit("setMtsfDataList",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putMtsfData:function(e,t){return new r.a(function(s,a){c.a("resource/mtsf-data/"+t.id,"put",!0,t,null,200).then(function(t){"error"!==t?(console.log(t),e.commit("setMtsfData",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})}}},Z={state:{sections:[],section:null},getters:{sections:function(e){return e.sections},section:function(e){return function(t){for(var s=0;s<e.sections.length;s++){var a=e.sections[s];if(!(void 0===a||null===a||a.length<1)&&parseInt(a.id)===parseInt(t))return a}}}},mutations:{setSections:function(e,t){e.sections=t},setSection:function(e,t){var s=t.id,a=[].concat(b()(e.sections));if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.sections=a)}e.sections.push(t)}},deleteSection:function(e,t){for(var s=[].concat(b()(e.sections)),a=0;a<s.length;a++){if(s[a].id===t)return s.splice(a,1),void(e.sections=s)}}},actions:{getSection:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/section/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSection",t),e.commit("setSectionDescription",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getSections:function(e,t){return new r.a(function(s,a){c.a("resource/section","get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSections",t),e.commit("setSectionDescriptions",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postSection:function(e,t){return new r.a(function(s,a){c.a("resource/section","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSection",t),e.commit("setSectionDescription",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putSection:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/section/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSection",t),e.commit("setSectionDescription",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteSection:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/section/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteSection",s),e.commit("deleteSectionDescription",s),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},K={state:{restPages:[],restPage:null},getters:{restPages:function(e){return e.restPages},restPage:function(e){return function(t){for(var s=0;s<e.restPages.length;s++){var a=e.restPages[s];if(!(void 0===a||null===a||a.length<1)&&parseInt(a.id)===parseInt(t))return a}}}},mutations:{setRestPages:function(e,t){e.restPages=t},setRestPage:function(e,t){var s=t.id,a=[].concat(b()(e.restPages));if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.restPages=a)}e.restPages.push(t)}},deleteRestPage:function(e,t){for(var s=[].concat(b()(e.restPages)),a=0;a<s.length;a++){if(s[a].id===t)return s.splice(a,1),void(e.restPages=s)}}},actions:{getRestPage:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/rest-page/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setRestPage",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getRestPages:function(e,t){return new r.a(function(s,a){c.a("resource/rest-page","get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setRestPages",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postRestPage:function(e,t){return new r.a(function(s,a){c.a("resource/rest-page","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setRestPage",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putRestPage:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/rest-page/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setRestPage",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteRestPage:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/rest-page/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteRestPage",s),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},W={state:{sectionDescriptions:[],sectionDescription:null},getters:{sectionDescriptions:function(e){return e.sectionDescriptions},sectionDescription:function(e){return function(t){for(var s=0;s<e.sectionDescriptions.length;s++){var a=e.sectionDescriptions[s];if(!(void 0===a||null===a||a.length<1)&&parseInt(a.id)===parseInt(t))return a}}}},mutations:{setSectionDescriptions:function(e,t){e.sectionDescriptions=t},setSectionDescription:function(e,t){var s=t.id,a=[].concat(b()(e.sectionDescriptions));if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.sectionDescriptions=a)}e.sectionDescriptions.push(t)}},deleteSectionDescription:function(e,t){for(var s=[].concat(b()(e.sectionDescriptions)),a=0;a<s.length;a++){if(s[a].id===t)return s.splice(a,1),void(e.sectionDescriptions=s)}}},actions:{getSectionDescription:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/section-description/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSectionDescription",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getSectionDescriptions:function(e,t){return new r.a(function(s,a){c.a("resource/section-description","get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSectionDescriptions",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postSectionDescription:function(e,t){return new r.a(function(s,a){c.a("resource/section-description","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSectionDescription",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putSectionDescription:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/section-description/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSectionDescription",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteSectionDescription:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/section-description/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteSectionDescription",s),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},H={state:{menus:[],menu:null},getters:{menus:function(e){return e.menus},menu:function(e){return function(t){for(var s=0;s<e.menus.length;s++){var a=e.menus[s];if(!(void 0===a||null===a||a.length<1)&&parseInt(a.id)===parseInt(t))return a}}}},mutations:{setMenus:function(e,t){e.menus=t},setMenu:function(e,t){var s=t.id,a=[].concat(b()(e.menus));if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.menus=a)}e.menus.push(t)}},deleteMenu:function(e,t){for(var s=[].concat(b()(e.menus)),a=0;a<s.length;a++){if(s[a].id===t)return s.splice(a,1),void(e.menus=s)}}},actions:{getMenu:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/menu/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setMenu",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getMenus:function(e,t){return new r.a(function(s,a){c.a("resource/menu","get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setMenus",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postMenu:function(e,t){return new r.a(function(s,a){c.a("resource/menu","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setMenu",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putMenu:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/menu/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setMenu",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteMenu:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/menu/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteMenu",s),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},J={state:{menuItems:[],menuItem:null},getters:{menuItems:function(e){return e.menuItems},menuItem:function(e){return function(t){var s=e.menuItems;if(void 0!==t)for(var a=0;a<s.length;a++){var i=e.menuItems[a];if(!(void 0===i||null===i||i.length<1)&&parseInt(i.id)===parseInt(t))return i}}}},mutations:{setMenuItems:function(e,t){e.menuItems=t},setMenuItem:function(e,t){var s=t.id,a=e.menuItems;if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.menuItems=a)}e.menuItems.push(t)}},deleteMenuItem:function(e,t){for(var s=[].concat(b()(e.menuItems)),a=0;a<s.length;a++){if(s[a].id===t)return s.splice(a,1),void(e.menuItems=s)}}},actions:{getMenuItem:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/menu-item/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setMenuItem",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getMenuItems:function(e,t){return new r.a(function(s,a){c.a("resource/menu-item","get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setMenuItems",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postMenuItem:function(e,t){return new r.a(function(s,a){c.a("resource/menu-item","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setMenuItem",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putMenuItem:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/menu-item/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setMenuItem",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteMenuItem:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/menu-item/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteMenuItem",s),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},Q={state:{footers:[],footer:null},getters:{footers:function(e){return e.footers},footer:function(e){return e.footer}},mutations:{setFooters:function(e,t){e.footers=t},setFooter:function(e,t){console.log(t),e.footer=t},deleteFooter:function(e,t){for(var s=[].concat(b()(e.footers)),a=0;a<s.length;a++){if(s[a].id===t)return s.splice(a,1),void(e.footers=s)}}},actions:{getFooter:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/footer/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setFooter",t),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getFooters:function(e,t){return new r.a(function(s,a){c.a("resource/footer","get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setFooters",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postFooter:function(e,t){return new r.a(function(s,a){c.a("resource/footer","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setFooter",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putFooter:function(e,t){return new r.a(function(s,a){c.a("resource/footer/1","put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setFooter",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},deleteFooter:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/footer/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteFooter",s),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}},X={state:{sportProjects:[],sportProject:null},getters:{sportProjects:function(e){return e.sportProjects},sportProject:function(e){return function(t){for(var s=0;s<e.sportProjects.length;s++){var a=e.sportProjects[s];if(!(void 0===a||null===a||a.length<1)&&parseInt(a.id)===parseInt(t))return a}}}},mutations:{setSportProjects:function(e,t){e.sportProjects=t},setSportProject:function(e,t){var s=t.id,a=[].concat(b()(e.sportProjects));if(void 0!==s&&null!==s){for(var i=0;i<a.length;i++){if(a[i].id===s)return a.splice(i,1,t),void(e.sportProjects=a)}e.sportProjects.push(t)}},deleteSportProject:function(e,t){for(var s=[].concat(b()(e.sportProjects)),a=0;a<s.length;a++){if(s[a].id===t)return s.splice(a,1),void(e.sportProjects=s)}}},actions:{getSportProject:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/sport-project/"+s,"get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSportProjects",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},getSportProjects:function(e,t){return new r.a(function(s,a){c.a("resource/sport-project","get",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSportProject",t),s()):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},postSportProject:function(e,t){return new r.a(function(s,a){c.a("resource/sport-project","post",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSportProject",t),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},putSportProject:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/sport-project/"+s,"put",!0,t,null,200).then(function(t){"error"!==t?(e.commit("setSportProject",t),a(t)):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})},deleteSportProject:function(e,t){var s=t.id;return new r.a(function(a,i){c.a("resource/sport-project/"+s,"delete",!0,t,null,200).then(function(t){"error"!==t?(e.commit("deleteSportProject",s),a()):a("error")}).catch(function(e){console.log(e.response),i(e.response)})})}}};a.default.use(i.a);t.a=new i.a.Store({modules:{authModule:n.a,userModule:l,schoolClubModule:u,eventModule:d,groupModule:p,participantModule:m,participantGroupModule:h,sportObjectModule:f,sportObjectTypeModule:g,disciplineModule:_,lessonCategoryModule:k,classModule:S,seasonModule:P,leaderModule:j,skillModule:y,permissionModule:I,administratorModule:N,lessonModule:D,frequencyModule:O,historyModule:E,mainPageModule:A,senderModule:M,generateDocumentsModule:V,mtsfModule:Y,restPageModule:K,sectionModule:Z,sectionDescriptionModule:W,menuModule:H,menuItemModule:J,sportProjectModule:X,footerModule:Q}})},Io6f:function(e,t){},J0c2:function(e,t){},JkfO:function(e,t){},Jmt5:function(e,t){},K0hX:function(e,t){},K2AU:function(e,t){},KWGt:function(e,t){},"KhU/":function(e,t){},LbBg:function(e,t){},MGGt:function(e,t){},MUfn:function(e,t){},MlTh:function(e,t){},"N+Ai":function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),i=s("Dd8w"),n=s.n(i),o=s("woOf"),r=s.n(o),c=s("Usg1"),l=s("VBp3"),u={name:"ConfirmDeleteModal",mixins:[l.a],data:function(){return{toDeleteWord:"",method:null,id:null,routeToPush:!1,routeParams:{},urlParams:{}}},methods:{showModal:function(){!1!==this.checkModal()&&this.$refs.confirmDeleteModal.show()},hideModal:function(){!1!==this.checkModal()&&this.$refs.confirmDeleteModal.hide()},checkModal:function(){return!(null==this.$refs||this.$refs.length<1)&&(void 0!==this.$refs.confirmDeleteModal&&null!==this.$refs.confirmDeleteModal)},reset:function(){r()(this.$data,this.$options.data.call(this))},submitForm:function(){var e=this;this.$store.dispatch(this.method,n()({id:this.id},this.urlParams)).then(function(t){e.hideModal(),console.log(t),e.routeToPush?(console.log(e.routeParams),e.routeParams.toastText="Dane zostały usunięte",e.routeParams.toastVariant="success",console.log(e.routeParams),e.$router.push({name:e.routeToPush,params:e.routeParams})):e.showToast("Dane zostały usunięte","Uwaga!","success")}).catch(function(t){e.hideModal(),console.log(t),console.log(e.routeToPush),e.routeToPush,e.showToast(t&&t.data?t.data.error:"Wystąpil błąd","Uwaga!","danger")})}},created:function(){var e=this;c.a.$on("SHOW_CONFIRM_DELETE_MODAL",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments[2],i=arguments[3],n=arguments[4],o=arguments[5];e.reset(),e.urlParams=o,e.routeToPush=i,e.routeParams=n,e.toDeleteWord=a,e.method=t,e.id=s,e.showModal()})}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-form",[s("b-modal",{ref:"confirmDeleteModal",attrs:{"modal-class":"custom",centered:"",size:"sm","hide-footer":!0,"footer-class":"justify-content-between","title-tag":"h2","header-class":"pr-4 pb-0","no-close-on-backdrop":""}},[s("template",{slot:"modal-title"},[e._v("\n      Czy napewno chcesz usunąć "+e._s(e.toDeleteWord)+"?\n    ")]),e._v(" "),s("div",{staticClass:"d-flex justify-content-between",attrs:{slot:"default"},slot:"default"},[s("b-btn",{staticClass:"custom",attrs:{variant:"secondary"},on:{click:function(t){return t.preventDefault(),e.hideModal(t)}}},[e._v("\n        anuluj\n      ")]),e._v(" "),s("b-btn",{staticClass:"custom px-4",attrs:{variant:"danger"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("\n        usuń\n      ")])],1)],2)],1)},staticRenderFns:[]},p=s("VU/8")(u,d,!1,null,null,null).exports,m={name:"Cookies",mixins:[l.a],data:function(){return{cookieAccepted:!1}},methods:{closeToast:function(){localStorage.setItem("cookiesAccept","1"),this.cookieAccepted=!0}},created:function(){var e=localStorage.getItem("cookiesAccept");this.cookieAccepted=0!==e&&"0"!==e&&null!==e}},h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cookies-alert-bottom alert alert-info",class:{"d-none":this.cookieAccepted}},[t("a",{staticClass:"close",attrs:{href:"#","data-dismiss":"alert",id:"cookiesCloser","aria-label":"close"},on:{click:this.closeToast}},[this._v("×")]),this._v("\n  W ramach naszej witryny stosujemy pliki cookies w celu świadczenia Państwu usług na najwyższym poziomie, w\n  tym w sposób dostosowany do indywidualnych potrzeb. Korzystanie z witryny bez zmiany ustawień dotyczących\n  cookies oznacza, że będą one zamieszczane w Państwa urządzeniu końcowym. Możecie Państwo dokonać w\n  każdym czasie zmiany ustawień dotyczących cookies. Więcej informacji na ten temat znajdziecie Państwo w\n  naszej polityce prywatności.\n")])},staticRenderFns:[]};var f={name:"App",components:{Cookies:s("VU/8")(m,h,!1,function(e){s("m6Bl")},null,null).exports,ConfirmDeleteModal:p},data:function(){return{}},computed:{authUser:function(){return this.$store.getters.authUser}},watch:{authUser:function(e){var t=this;if(e.schoolsUsers.length>0&&1===e.schoolsUsers[0].role&&this.$store.dispatch("getSchool",{id:e.schoolsUsers[0].school.id}).then(function(e){var s=e;if(s.invitations&&s.invitations.length>0)for(var a in s.invitations)!1===s.invitations[a].active&&t.$bvToast.toast("Masz nowe zgłoszenie od prowadzącego, by je zaakceptować przejdź do zakładki „Kluby i Szkoły – Prowadzący.”",{title:"Uwaga!",toaster:"b-toaster-bottom-right",solid:!0,variant:"info",appendToast:!1,autoHideDelay:5e6})}),e.replacements&&e.replacements.length>0){for(var s in e.replacements)if(!1===e.replacements[s].checked)return void this.$bvToast.toast('Masz nowe zastępstwa. Sprawdż w zakładce "Moj profil"',{title:"Uwaga!",toaster:"b-toaster-bottom-right",solid:!0,variant:"info",appendToast:!1,autoHideDelay:5e6});this.showedForLeaders=!0,console.log(e.replacements)}}},mounted:function(){var e=this;window.setInterval(function(){e.$store.dispatch("getActualSidebarData")},6e4)},created:function(){this.$store.dispatch("getActualSidebarData"),this.$store.dispatch("getCurrentUser")}},v={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view"),this._v(" "),t("Cookies"),this._v(" "),t("ConfirmDeleteModal")],1)},staticRenderFns:[]};var b=s("VU/8")(f,v,!1,function(e){s("hui4")},null,null).exports,g=s("YaEn"),y=s("IcnI"),_=(s("Jmt5"),s("9M+g"),s("Tqaz")),k=s("EPAd"),C=s.n(k),w=(s("4U5d"),s("DmJO"),s("GXH0")),x=s.n(w),$=s("sRoY"),T=s.n($),S=(s("5Qkr"),s("Ppbp")),P=s.n(S),j=(s("pOKD"),{name:"pl",messages:{required:function(e){return"qqq"},email:function(e){return"Niepoprawny format adresu e-mail"}},attributes:{}}),D=s("sUu7"),L=s("jFya");D.a.use(function(e){var t=e.Validator;t.localize("pl",j),t.extend("pesel",{getMessage:function(e){return"Nieprawidłowy pesel"},validate:function(e){return Object(L.a)(e)}})}),a.default.use(D.a,{inject:!0,fieldsBagName:"veeFields",errorBagName:"veeErrors"}),a.default.use(C.a),a.default.use(_.a),a.default.use(x.a),a.default.component(P.a),a.default.component(T.a),a.default.config.productionTip=!1,new a.default({el:"#app",store:y.a,router:g.a,components:{App:b},template:"<App/>",created:function(){}})},NPHr:function(e,t){},NYxg:function(e,t){},NqTi:function(e,t){},"Nz3/":function(e,t,s){"use strict";s.d(t,"c",function(){return i}),s.d(t,"g",function(){return n}),s.d(t,"b",function(){return o}),s.d(t,"a",function(){return r}),s.d(t,"f",function(){return c}),s.d(t,"j",function(){return l}),s.d(t,"i",function(){return u}),s.d(t,"h",function(){return d}),s.d(t,"e",function(){return p}),s.d(t,"d",function(){return m});var a=s("c/Tr"),i="http://lublin.bbapp.pl/api/",n="AIzaSyAgdNrDmQgtOxOH7InkEzzHh1mmJuFGuz8",o="http://lublin.bbapp.pl/api/pdf-generate/?filters=",r="http://lublin.bbapp.pl/api/xlsx-generate/?filters=",c=[{id:0,label:"Abramowice"},{id:1,label:"Bronowice"},{id:2,label:"Czechów Południowy"},{id:3,label:"Czechów Północny"},{id:4,label:"Czuby Południowe"},{id:5,label:"Czuby Północne"},{id:6,label:"Dziesiąta"},{id:7,label:"Felin"},{id:8,label:"Głusk"},{id:9,label:"Hajdów-Zadębie"},{id:10,label:"Kalinowszczyzna"},{id:11,label:"Konstantynów"},{id:12,label:"Kośminek"},{id:13,label:"Ponikwoda"},{id:14,label:"Rury"},{id:15,label:"Sławin"},{id:16,label:"Sławinek"},{id:17,label:"Stare Miasto"},{id:18,label:"Szerokie"},{id:19,label:"Śródmieście"},{id:20,label:"Tatary"},{id:21,label:"Węglin Południowy"},{id:22,label:"Węglin Północny"},{id:23,label:"Wieniawa"},{id:24,label:"Wrotków"},{id:25,label:"Za Cukrownią"},{id:26,label:"Zemborzyce"}],l=[{id:2001,label:2001},{id:2002,label:2002},{id:2003,label:2003},{id:2004,label:2004},{id:2005,label:2005},{id:2006,label:2006},{id:2007,label:2007},{id:2008,label:2008},{id:2009,label:2009},{id:2010,label:2010},{id:2011,label:2011},{id:2012,label:2012},{id:2013,label:2013},{id:2014,label:2014},{id:2015,label:2015}],u=[{id:3,label:"Dodaje/aktualizuje dziennik uczestników"},{id:4,label:"Dodaje/aktualizuje frekwencję (listę obecności)"},{id:5,label:"Generuje raporty"},{id:8,label:"Wprowadza wyniki MTSF-u"},{id:9,label:"Archiwizuje listy zawodników z możliwością przeniesienia i edycji listy na kolejny rok/sezon"}],d=[{id:1,label:"1 tydz."},{id:2,label:"2 tyg."},{id:3,label:"3 tyg."},{id:4,label:"4 tyg."},{id:5,label:"5 tyg."},{id:6,label:"6 tyg."},{id:7,label:"7 tyg."},{id:8,label:"8 tyg."},{id:9,label:"9 tyg."},{id:10,label:"10 tyg."},{id:11,label:"11 tyg."},{id:12,label:"12 tyg."},{id:13,label:"13 tyg."},{id:14,label:"14 tyg."},{id:15,label:"15 tyg."},{id:16,label:"16 tyg."},{id:17,label:"17 tyg."},{id:18,label:"18 tyg."},{id:19,label:"19 tyg."},{id:20,label:"20 tyg."},{id:21,label:"21 tyg."},{id:22,label:"22 tyg."},{id:23,label:"23 tyg."},{id:24,label:"24 tyg."},{id:25,label:"25 tyg."}],p={lang:{days:["N","Pn","Wt","Śr","Cz","Pt","So"],months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],pickers:["next 7 days","next 30 days","previous 7 days","previous 30 days"],placeholder:{date:"Wybierz datę",dateRange:"Select Date Range"}},hours:s.n(a)()({length:10}).map(function(e,t){return t+8})},m={months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],weekdays:["N","Pn","Wt","Śr","Cz","Pt","So"]}},Ps2t:function(e,t){},Q05T:function(e,t){},QGL9:function(e,t){},ScoM:function(e,t){},SlFI:function(e,t){},Sndv:function(e,t){},TAPq:function(e,t){},TpfZ:function(e,t){},"U/iU":function(e,t){},UeXQ:function(e,t){},Usg1:function(e,t,s){"use strict";var a=new(s("7+uW").default);t.a=a},Ux0Z:function(e,t){},VBp3:function(e,t,s){"use strict";t.a={data:function(){return{}},methods:{showToast:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"danger";this.toast("b-toaster-bottom-right",!1,e,t,s)},toast:function(e,t,s,a,i){this.$bvToast.toast(s,{title:a,toaster:e,solid:!0,variant:i,appendToast:t})}}}},VfMT:function(e,t){},Wkf0:function(e,t){},XlhS:function(e,t){},"Y+JV":function(e,t){},"Y/Ny":function(e,t){},Y9a0:function(e,t){},YE2f:function(e,t){},YEAg:function(e,t){},YWYk:function(e,t){},YaEn:function(e,t,s){"use strict";var a=s("7+uW"),i=s("/ocq"),n=s("IcnI"),o=s("GXH0"),r=s.n(o),c=(s("DmJO"),s("Nz3/")),l={name:"Test",components:{Treeselect:r.a},data:function(){return{selectedDistrict:null,selectedDiscipline:null,options:[{text:"Klub",value:"0"},{text:"Szkoła",value:"1"}],selectedType:[],districts:c.f}},computed:{mainPageData:function(){return this.$store.getters.mainPageData},frontEvents:function(){return this.$store.getters.frontEvents},frontLessons:function(){return this.$store.getters.frontLessons},disciplinesTreeselect:function(){var e=this.$store.getters.frontDisciplines,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t}},methods:{filterLessons:function(){var e={type:this.selectedType,discipline:this.selectedDiscipline,district:this.selectedDistrict};this.$store.dispatch("getFilteredLessons",e)},getUser:function(){this.$store.dispatch("getAllUsers").then(function(e){console.log(e)}).catch(function(e){console.log(e)})},logout:function(){this.$store.dispatch("logout").then(function(e){console.log(e)})}},created:function(){this.$store.dispatch("getMenuAndFooter"),this.$store.dispatch("getFrontDisciplines"),this.$store.dispatch("getFilteredEvents",{maxResults:4}),this.filterLessons(),this.$store.dispatch("getMainPageData")}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrap"},[e.mainPageData&&e.mainPageData.slider&&e.mainPageData.slider.length>0?s("section",{staticClass:"header-slider"},[s("b-container",{},[s("b-carousel",{staticClass:"custom",attrs:{id:"carousel-fade",interval:4e8,fade:"",captions:!1,indicators:""}},e._l(e.mainPageData.slider,function(t,a){return s("b-carousel-slide",{key:a,scopedSlots:e._u([{key:"img",fn:function(){return[s("div",{staticClass:"slider-content pb-3"},[s("div",{staticClass:"slider-wrap-card"},[s("div",{staticClass:"slider-card"},[s("h2",[e._v(e._s(t.title))]),e._v(" "),s("p",[e._v(e._s(t.description))])])]),e._v(" "),s("div",{staticClass:"slider-wrap-img text-right"},[s("img",{attrs:{src:t.path,alt:"Slide 1"}})])])]},proxy:!0}],null,!0)})}),1)],1)],1):e._e(),e._v(" "),e.mainPageData&&e.mainPageData.event&&e.frontEvents&&e.frontEvents.length>0?s("section",[s("b-container",[s("div",{staticClass:"box-header -one text-center"},[s("h2",{staticClass:"main c-green mb-0"},[e._v("Imprezy sportowe")]),e._v(" "),s("b-btn",{staticClass:"custom",attrs:{variant:"icon",to:{name:"sportEvents"}}},[e._v("\n            zobacz wszystkie"),s("span",{staticClass:"icon icon-arrow_right pl-2 sm"})])],1)])],1):e._e(),e._v(" "),e.mainPageData&&e.mainPageData.event&&e.frontEvents&&e.frontEvents.length>0?s("section",{staticClass:"mb-3"},[s("b-container",[s("b-row",{staticClass:"justify-content-around"},e._l(e.frontEvents,function(t,a){return s("b-col",{key:a,staticClass:"mb-3",attrs:{cols:"12",md:"6",lg:"3"}},[s("b-card",{staticClass:"custom min-h-457",attrs:{"footer-class":"p-0","img-src":t.images.length>0&&t.images[0].path?t.images[0].path:"","body-class":"d-flex flex-column justify-content-between","img-alt":"Image","img-top":""}},[s("b-card-text",{staticClass:"height-hidden flex-grow-1",attrs:{"text-tag":"div"}},[s("h2",{staticClass:"card-title ",attrs:{title:"lorem8"}},[e._v(e._s(t.title))]),e._v(" "),s("p",{},[e._v(e._s(t.description))])]),e._v(" "),s("div",{staticClass:"box-sub d-flex justify-content-between"},[s("p",{staticClass:"card-signature mb-0"},[s("span",{staticClass:"icon icon-calendar pr-1"}),e._v("\n                  "+e._s(t.dateStart.split(" ")[0])+"\n                ")]),e._v(" "),s("b-btn",{staticClass:"custom card-arrow p-0 mb-n1",attrs:{variant:"icon",to:{name:"sportEventsInner",params:{id:t.id}}}},[s("span",{staticClass:"icon icon-arrow_right c-red"})])],1)],1)],1)}),1)],1)],1):e._e(),e._v(" "),e.mainPageData&&e.mainPageData.lesson&&e.frontLessons&&e.frontLessons.data&&e.frontLessons.data.length>0?s("section",[s("b-container",[s("div",{staticClass:"box-header -two text-center"},[s("h2",{staticClass:"main c-green mb-0"},[e._v("Zajęcia sportowe")]),e._v(" "),s("b-btn",{staticClass:"custom",attrs:{variant:"icon",to:{name:"sports"}}},[e._v("\n            zobacz wszystkie"),s("span",{staticClass:"pl-2 icon icon-arrow_right sm"})])],1)])],1):e._e(),e._v(" "),e.mainPageData&&e.mainPageData.lesson&&e.frontLessons&&e.frontLessons.data&&e.frontLessons.data.length>0?s("section",[s("b-container",[s("b-row",{staticClass:"mb-4"},[s("b-col",{staticClass:"mb-2 mb-lg-0 align-items-center pr-1 d-flex",attrs:{cols:"12",lg:"2"}},[s("b-form-group",{staticClass:"custom"},[s("b-form-checkbox-group",{staticClass:"fix-checkbox-home-page  ",attrs:{id:"checkbox-group-1",options:e.options,name:"flavour-1"},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1)],1),e._v(" "),s("b-col",{staticClass:"mb-3 mb-lg-0",attrs:{cols:"12",sm:"6",lg:"4"}},[s("treeselect",{staticClass:"custom bg-transparent",attrs:{multiple:!0,placeholder:"Dyscyplina",options:e.disciplinesTreeselect},model:{value:e.selectedDiscipline,callback:function(t){e.selectedDiscipline=t},expression:"selectedDiscipline"}})],1),e._v(" "),s("b-col",{staticClass:"mb-3 mb-lg-0",attrs:{cols:"12",sm:"6",lg:"4"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Dzielnica",options:e.districts},model:{value:e.selectedDistrict,callback:function(t){e.selectedDistrict=t},expression:"selectedDistrict"}})],1),e._v(" "),s("b-col",{staticClass:"mb-3 mb-lg-0",attrs:{cols:"12",sm:"6",lg:"2"}},[s("b-btn",{staticClass:"custom",attrs:{variant:"primary",block:""},on:{click:e.filterLessons}},[s("span",{staticClass:"icon icon-iconm_search"}),e._v("szukaj\n            ")])],1)],1),e._v(" "),s("b-row",e._l(e.frontLessons.data,function(t,a){return s("b-col",{key:a,staticClass:"mb-3",attrs:{cols:"12",md:"6",lg:"4"}},[s("b-card",{staticClass:"custom",attrs:{"footer-class":"p-0"}},[s("h2",{staticClass:"card-title nowrap",attrs:{title:"lorem8"}},[e._v(e._s(t.title))]),e._v(" "),s("p",{staticClass:"mb-0"},[e._v(e._s(t.place.address))]),e._v(" "),s("div",{staticClass:"d-flex justify-content-between align-items-center"},[e.$store.getters.frontDisciplines?s("p",{staticClass:"card-signature mb-0"},[s("span",{staticClass:"icon icon-discipline pr-1"}),e._v("\n                  "+e._s(e.$store.getters.frontDisciplines.find(function(e){return e.id===t.discipline.id}).title)+"\n                ")]):e._e(),e._v(" "),s("b-btn",{staticClass:"p-0",attrs:{variant:"arrow",to:{name:"sportsInner",params:{id:t.id}}}},[s("span",{staticClass:"icon icon-arrow_right c-red"})])],1),e._v(" "),s("template",{slot:"footer"},[s("div",{staticClass:"d-inline-block type-card float-right"},[e._v(e._s(0===t.school.type?"KLUB":"SZKOŁA"))])])],2)],1)}),1)],1)],1):e._e(),e._v(" "),e.mainPageData&&e.mainPageData.sportProjects&&e.mainPageData.sportProjects.length>0?s("section",[s("b-container",[s("div",{staticClass:"box-header -three text-center"},[s("h2",{staticClass:"main c-green mb-0"},[e._v("Projekty sportowe")]),e._v(" "),s("b-btn",{staticClass:"custom",attrs:{variant:"icon",to:{name:"sportProjects"}}},[e._v("\n            zobacz wszystkie"),s("span",{staticClass:"pl-2 icon icon-arrow_right sm"})])],1)])],1):e._e(),e._v(" "),e.mainPageData&&e.mainPageData.sportProjects&&e.mainPageData.sportProjects.length>0?s("section",{staticClass:"mb-3"},[s("b-container",[s("b-row",{staticClass:"justify-content-around"},e._l(e.mainPageData.sportProjects,function(t,a){return s("b-col",{key:a,staticClass:"mb-3",attrs:{cols:"12",md:"6",lg:"3"}},[s("b-card",{staticClass:"custom min-h-457",attrs:{"footer-class":"p-0","img-src":t.image,"body-class":"d-flex flex-column justify-content-between","img-alt":"Image","img-top":""}},[s("b-card-text",{staticClass:"height-hidden flex-grow-1",attrs:{"text-tag":"div"}},[s("h2",{staticClass:"card-title ",attrs:{title:"lorem8"}},[e._v(e._s(t.title))]),e._v(" "),s("p",{},[e._v(e._s(t.description))])]),e._v(" "),s("div",{staticClass:"box-sub d-flex justify-content-end"},[s("b-btn",{staticClass:"custom card-arrow p-0 mb-n1",attrs:{variant:"icon",to:{name:"sportEventsInner"}}},[s("span",{staticClass:"icon icon-arrow_right c-red"})])],1)],1)],1)}),1)],1)],1):e._e()])},staticRenderFns:[]};var d=s("VU/8")(l,u,!1,function(e){s("9L1L")},"data-v-0b1c6893",null).exports,p={name:"Test",data:function(){return{msg:"TEST"}},methods:{getUser:function(){this.$store.dispatch("getAllUsers").then(function(e){console.log(e)}).catch(function(e){console.log(e)})},logout:function(){this.$store.dispatch("logout").then(function(e){console.log(e)})}},created:function(){}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello Cc"},[s("h1",[e._v(e._s(e.msg))]),e._v(" "),s("b-button",{on:{click:e.getUser}},[e._v("GET USER")]),e._v(" "),s("b-button",{on:{click:e.logout}},[e._v("Logout")])],1)},staticRenderFns:[]};var h=s("VU/8")(p,m,!1,function(e){s("0KAk")},"data-v-84f1f790",null).exports,f={name:"Test",components:{Treeselect:r.a},data:function(){return{currentPage:1,perPage:16,totalRows:0,selectedDistrict:null,selectedDiscipline:null,options:[{text:"Klub",value:"0"},{text:"Szkoła",value:"1"}],selectedType:[],districts:c.f}},computed:{mainPageData:function(){return this.$store.getters.mainPageData},frontLessons:function(){return this.$store.getters.frontLessons},frontDisciplines:function(){return this.$store.getters.frontDisciplines},disciplinesTreeselect:function(){var e=this.frontDisciplines,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t}},methods:{changePage:function(e){var t=Math.ceil(this.frontLessons.totalCount/this.perPage),s=e?this.currentPage+1:this.currentPage-1;s>t||s<=0||(this.currentPage=s,this.filterLessons())},filterLessons:function(e){e&&(this.currentPage=1);var t={type:this.selectedType,discipline:this.selectedDiscipline,district:this.selectedDistrict,maxResult:this.perPage,currentPage:this.currentPage,perPage:this.perPage};this.$store.dispatch("getFilteredLessons",t).then(function(e){})}},created:function(){this.$store.dispatch("getMenuAndFooter"),this.$store.dispatch("getFrontDisciplines"),this.filterLessons()}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrap"},[s("section",[s("b-container",[s("h2",{staticClass:"main c-green mb-3"},[e._v("Zajęcia sportowe")])])],1),e._v(" "),s("section",[s("b-container",[s("b-row",{staticClass:"mb-4"},[s("b-col",{staticClass:"mb-2 mb-lg-0 align-items-center pr-1 d-flex",attrs:{cols:"12",lg:"2"}},[s("b-form-group",{staticClass:"custom"},[s("b-form-checkbox-group",{staticClass:"fix-checkbox-home-page  ",attrs:{id:"checkbox-group-1",options:e.options,name:"flavour-1"},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1)],1),e._v(" "),s("b-col",{staticClass:"mb-3 mb-lg-0",attrs:{cols:"12",sm:"6",lg:"4"}},[s("treeselect",{staticClass:"custom bg-transparent",attrs:{multiple:!0,placeholder:"Dyscyplina",options:e.disciplinesTreeselect},model:{value:e.selectedDiscipline,callback:function(t){e.selectedDiscipline=t},expression:"selectedDiscipline"}})],1),e._v(" "),s("b-col",{staticClass:"mb-3 mb-lg-0",attrs:{cols:"12",sm:"6",lg:"4"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Dzielnica",options:e.districts},model:{value:e.selectedDistrict,callback:function(t){e.selectedDistrict=t},expression:"selectedDistrict"}})],1),e._v(" "),s("b-col",{staticClass:"mb-3 mb-lg-0",attrs:{cols:"12",sm:"6",lg:"2"}},[s("b-btn",{staticClass:"custom",attrs:{variant:"primary",block:""},on:{click:function(t){return e.filterLessons(!0)}}},[s("span",{staticClass:"icon icon-iconm_search"}),e._v("szukaj\n          ")])],1)],1),e._v(" "),s("b-row",[e._l(e.frontLessons.data,function(t,a){return s("b-col",{key:a,staticClass:"mb-3",attrs:{cols:"12",md:"6",lg:"4"}},[s("b-card",{staticClass:"custom",attrs:{"footer-class":"p-0"}},[s("h2",{staticClass:"card-title nowrap",attrs:{title:"lorem8"}},[e._v(e._s(t.title))]),e._v(" "),s("p",{staticClass:"mb-0"},[e._v(e._s(t.place.address))]),e._v(" "),s("div",{staticClass:"d-flex justify-content-between align-items-center"},[e.frontDisciplines?s("p",{staticClass:"card-signature mb-0"},[s("span",{staticClass:"icon icon-discipline pr-1"}),e._v("\n                "+e._s(e.frontDisciplines.find(function(e){return e.id===t.discipline.id}).title)+"\n              ")]):e._e(),e._v(" "),s("b-btn",{staticClass:"p-0",attrs:{variant:"arrow",to:{name:"sportsInner",params:{id:t.id}}}},[s("span",{staticClass:"icon icon-arrow_right c-red"})])],1),e._v(" "),s("template",{slot:"footer"},[s("div",{staticClass:"d-inline-block type-card float-right"},[e._v(e._s(0===t.school.type?"KLUB":"SZKOŁA"))])])],2)],1)}),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("div",{staticClass:"wrap-box-btn"},[s("div",{staticClass:"pagination-box"},[s("div",{staticClass:"pagination-items active"},[e._v(e._s(e.currentPage))]),e._v(" "),s("div",{staticClass:"pagination-items"},[e._v("z "+e._s(Math.ceil(e.frontLessons.totalCount/e.perPage)))])]),e._v(" "),s("b-btn",{attrs:{variant:"arrow"},on:{click:function(t){return e.changePage(!1)}}},[s("span",{staticClass:"icon icon-bracket_left sm"})]),e._v(" "),s("b-btn",{attrs:{variant:"arrow"},on:{click:function(t){return e.changePage(!0)}}},[s("span",{staticClass:"icon icon-bracket_right sm"})])],1)])],2)],1)],1)])},staticRenderFns:[]};var b=s("VU/8")(f,v,!1,function(e){s("Zrmn")},"data-v-6578d8fc",null).exports,g=s("Xxa5"),y=s.n(g),_=s("exGp"),k=s.n(_),C=s("AA8V"),w=s.n(C),x=(s("DQ9D"),s("W3Iv")),$=s.n(x),T=s("BO1k"),S=s.n(T),P=s("d7EF"),j=s.n(P),D=s("Dd8w"),L=s.n(D),z=s("Usg1"),F={name:"EventBusEmit",data:function(){return{}},methods:{changeAdminNavbarButton:function(e){z.a.$emit("NAVBAR_BUTTON_LINK",e)},changeAdminNavbarBreadcrumbs:function(e){z.a.$emit("NAVBAR_CHANGE_BREADCRUMBS",e)}}},I=s("NYxO"),N={components:{Treeselect:r.a,DatePick:w.a},mixins:[F],props:["lessons","events","dateFrom","splitComponents","calendarFront","parentDate","dateTo","showLessons","showEvents","participantGroupId","calendarFrontLessons"],data:function(){return{date:"2019-09-01",params:c.d,dates:{},lessonsFields:[{key:"school",label:"Szkoła / Klub",sortable:!0},{key:"title",label:"Nazwa zajęcia",sortable:!0},{key:"time",label:"Czas",sortable:!0},{key:"leaders",label:"Prowadzący",sortable:!1},{key:"status",label:"Status w systemie",sortable:!1},{key:"edit",label:""}],eventsFields:[{key:"dateStart",label:"Data rozpoczęcia",sortable:!0},{key:"title",label:"Nazwa",sortable:!0},{key:"organization",label:"Organizator",sortable:!0},{key:"edit",label:" ",sortable:!0}]}},computed:L()({},Object(I.c)(["leaderById"]),{storeLessons:function(){var e=this.$store.getters.lessons,t=[];for(var s in e){var a=null===e[s].newDate?new Date(e[s].date):new Date(e[s].newDate);(a=a.getFullYear()+"-"+(a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-"+(a.getDate()<10?"0"+a.getDate():a.getDate()))===this.date&&t.push(e[s])}return t},storeEvents:function(){var e=this.$store.getters.eventsConfirmed,t=[];for(var s in e){var a=this.calculateDatesDifference(e[s].dateStart,e[s].dateEnd,!0);for(var i in a)a[i]===this.date&&t.push(e[s])}return t},schoolsAndClubs:function(){return this.$store.getters.schools},buildUserNames:function(){return function(e){return void 0===e||null===e?null:e.firstName+" "+e.lastName}}}),watch:{parentDate:function(e){this.date=e},date:function(e){this.calendarFront&&this.$emit("dayChanged",e)},showLessons:function(){this.recalculateCalendar()},showEvents:function(){this.recalculateCalendar()},dates:{handler:function(e){var t=document.getElementsByClassName("vdpCell");for(var s in t)t[s].dataset&&t[s].dataset.days&&delete t[s].dataset.days;var a=!0,i=!1,n=void 0;try{for(var o,r=S()($()(e));!(a=(o=r.next()).done);a=!0){var c=o.value,l=j()(c,2),u=l[0],d=l[1],p=document.querySelector('[data-id="'+u+'"]');p&&p.setAttribute("data-days",d)}}catch(e){i=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(i)throw n}}},deep:!0},events:function(e){this.recalculateCalendar()},lessons:function(e){this.recalculateCalendar()}},methods:{rowRedirectEvent:function(e){(this.$store.getters.isAdmin||this.$store.getters.isDirector)&&this.$router.push({name:"event",params:{tab:"main-data",id:e.id,isConfirmed:!0}})},rowRedirectLesson:function(e){this.$router.push({name:"lesson",params:{tab:"main-data",id:e.id}})},getSchoolNameById:function(e){if(void 0===this.schoolsAndClubs||null===this.schoolsAndClubs||this.schoolsAndClubs.length<1)return"";var t=this.schoolsAndClubs.find(function(t){return t.id===e});return t?t.name:""},disableDates:function(e){var t=new Date(e).getTime();if(this.dateFrom){var s=new Date(this.dateFrom);if(s.setDate(s.getDate()-1),(s=s.getTime())>=t)return!0}if(this.dateTo&&new Date(this.dateTo).getTime()<=t)return!0},isFutureDate:function(e){return e>new Date},recalculateCalendar:function(){var e={};(this.showEvents&&this.showEvents.length>0||this.calendarFront)&&this.calculateCalendarDayEvents(this.events,e),(this.showLessons&&this.showLessons.length>0||this.calendarFrontLessons)&&this.calculateCalendarDayLessons(this.lessons,e),this.dates=L()({},e)},calculateCalendarDayEvents:function(e,t){for(var s in e){var a=this.calculateDatesDifference(e[s].dateStart,e[s].dateEnd);for(var i in a)void 0===t[a[i]]?t[a[i]]=1:t[a[i]]+=1}},calculateCalendarDayLessons:function(e,t){for(var s in e){var a=null===e[s].newDate?new Date(e[s].date):new Date(e[s].newDate),i=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();void 0===t[i]?t[i]=1:t[i]+=1}},calculateDatesDifference:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e.replace(/-/g,"/"),t=t.replace(/-/g,"/");return function(e,t){for(var a=[],i=e;i<=t;i.setDate(i.getDate()+1)){var n=new Date(i),o="";o=s?n.getFullYear()+"-"+(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-"+(n.getDate()<10?"0"+n.getDate():n.getDate()):n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate(),a.push(o)}return a}(new Date(e),new Date(t))}},mounted:function(){var e=this,t=document.querySelector(".vdpPeriodControl");new MutationObserver(function(t){e.recalculateCalendar(),e.calendarFront&&e.$emit("monthOrYearChanged")}).observe(t,{attributes:!0,childList:!0,subtree:!0})},created:function(){this.recalculateCalendar();var e=new Date;this.date=e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate()),this.parentDate&&(this.date=this.parentDate)}},E={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-col",{attrs:{cols:"12"}},[s("b-row",[s("b-col",{attrs:{sm:12,md:12,lg:e.splitComponents?6:12,xl:e.splitComponents?6:12}},[[s("date-pick",{attrs:{hasInputElement:!1,weekdays:e.params.weekdays,months:e.params.months,isDateDisabled:e.disableDates},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})]],2),e._v(" "),s("b-col",{attrs:{sm:12,md:12,lg:e.splitComponents?6:12,xl:e.splitComponents?6:12}},[e.showLessons&&e.showLessons.length>0?s("div",[s("h4",[e._v("Zajęcia")]),e._v(" "),s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.storeLessons,fields:e.lessonsFields,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.rowRedirectLesson},scopedSlots:e._u([{key:"school",fn:function(t){return[t.item&&t.item.school?s("span",[e._v("\n            "+e._s(e.getSchoolNameById(t.item.school.id))+"\n          ")]):e._e()]}},{key:"time",fn:function(t){return[t.item&&t.item.school?s("span",[e._v("\n            "+e._s(t.item.timeRange[0]+" - "+t.item.timeRange[1])+"\n          ")]):e._e()]}},{key:"leaders",fn:function(t){return[t.item&&t.item.leader?s("span",[e._v("\n            "+e._s(e.buildUserNames(e.leaderById(t.item.leader.id)))+"\n          ")]):e._e()]}},{key:"status",fn:function(t){return[s("span",{staticClass:"status",class:{active:t.item.active}},[e._v(e._s(1==t.item.active?"aktywny":"nieaktywny"))])]}},{key:"edit",fn:function(e){return[s("b-link",{staticClass:"icon-link"},[s("span",{staticClass:"icon icon-iconm_search"})])]}}],null,!1,4193508014)})],1)],1)],1):e._e(),e._v(" "),e.showEvents&&e.showEvents.length>0?s("div",[s("h4",{staticClass:"my-3"},[e._v("Imprezy sportowe")]),e._v(" "),s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.storeEvents,fields:e.eventsFields,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.rowRedirectEvent},scopedSlots:e._u([{key:"dateStart",fn:function(t){return[s("span",[e._v(e._s(t.item.dateStart.substr(0,t.item.dateStart.indexOf(" "))))])]}},{key:"organization",fn:function(t){return[t.item.organization?s("span",[e._v(e._s(t.item.organization))]):t.item.school&&t.item.school.id?s("span",[e._v("\n          "+e._s(e.getSchoolNameById(t.item.school.id))+"\n        ")]):e._e()]}},{key:"edit",fn:function(t){return[s("span",{staticClass:"c-pointer"},[e._v("Szczegóły")])]}}],null,!1,245681500)})],1)],1)],1):e._e()])],1)],1)},staticRenderFns:[]};var O=s("VU/8")(N,E,!1,function(e){s("JkfO")},"data-v-442fb1ea",null).exports,A=s("//Fk"),M=s.n(A),q=c.g,R="gmapsCallback",G=!!window.google,U=void 0,B=void 0,V=new M.a(function(e,t){U=e,B=t});function Y(){if(G)return V;G=!0,window[R]=function(){return U(window.google)};var e=document.createElement("script");return e.async=!0,e.defer=!0,e.src="https://maps.googleapis.com/maps/api/js?key="+q+"&libraries=places&language=pl-PL&callback="+R,e.onerror=B,document.querySelector("head").appendChild(e),V}var Z={name:"SportEvents",components:{DatePick:w.a,Treeselect:r.a,Calendar:O},data:function(){return{id:this.$route.params.id,google:null}},computed:{frontLesson:function(){return this.$store.getters.frontLesson(this.id)}},methods:{setLocation:function(e){var t=[e],s=[];for(var a in t)console.log(t[a]),s.push({query:"Lublin, "+t[a].place.address,dataToShow:{title:t[a].title,placeTitle:t[a].place.title,school:t[a].school.name,time:null===t[a].newTimeRange?t[a].timeRange:t[a].newTimeRange},fields:["name","geometry"]});var i=this.google,n=(new i.maps.InfoWindow,document.getElementById("map")),o=new i.maps.LatLng(51.246,22.568),r=new i.maps.Map(n,{center:o,zoom:15,gestureHandling:"cooperative"}),c=new i.maps.LatLngBounds,l=new i.maps.places.PlacesService(r),u=function(e){s[e].dataToShow;delete s[e].dataToShow,l.findPlaceFromQuery(s[e],function(e,t){if(t===i.maps.places.PlacesServiceStatus.OK){console.log(e);for(var s=0;s<e.length;s++)a=e[s],n=void 0,void 0,n=new i.maps.Marker({map:r,position:a.geometry.location}),o=new i.maps.LatLng(n.position.lat(),n.position.lng()),c.extend(o);r.setCenter(e[0].geometry.location)}var a,n,o})};for(var d in s)u(d);r.fitBounds(c),r.panToBounds(c)}},mounted:function(){var e=this;return k()(y.a.mark(function t(){var s,a,i;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y();case 3:e.google=t.sent,s=e.google,a=document.getElementById("map"),i=new s.maps.LatLng(51.246,22.568),new s.maps.Map(a,{center:i,zoom:8,gestureHandling:"cooperative"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}},t,e,[[0,10]])}))()},created:function(){var e=this;this.$store.dispatch("getMenuAndFooter"),this.$store.dispatch("getFrontDisciplines"),this.$store.dispatch("getFrontLesson",{id:this.id}).then(function(t){e.setLocation(t)})}},K={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.frontLesson&&e.frontLesson.school&&e.frontLesson.discipline&&e.frontLesson.leader?s("div",{staticClass:"wrap"},[s("section",{staticClass:"mb-3"},[s("b-container",[s("b-row",{staticClass:"align-items-center mb-4"},[s("b-col",{staticClass:"text-center",attrs:{cols:"12",lg:"3"}},[s("img",{staticClass:"school-logo",attrs:{src:e.frontLesson.school.image,alt:"Logo"}})]),e._v(" "),s("b-col",{attrs:{cols:"12",lg:"9"}},[s("h1",{staticClass:"mb-4"},[e._v(e._s(e.frontLesson.title))]),e._v(" "),s("b-row",{staticClass:"mb-4"},[s("b-col",{staticClass:"mb-3 mb-lg-0",attrs:{cols:"12",lg:"4"}},[s("div",{staticClass:"info-box border-lg-r"},[s("h2",[s("span",{staticClass:"icon icon-pin c-black-05 pr-2 ml-n1"}),e._v(e._s(e.frontLesson.school.address))]),e._v(" "),s("p",[s("span",{staticClass:"icon icon-discipline c-black-05 pr-3"}),e._v(e._s(e.frontLesson.discipline.title))]),e._v(" "),s("p",[s("span",{staticClass:"icon icon-mail c-black-05 pr-3"}),e._v(e._s(e.frontLesson.school.personToContactFullName))]),e._v(" "),s("p",[s("span",{staticClass:"icon icon-phone c-black-05 pr-3"}),e._v(e._s(e.frontLesson.school.personToContactPhone))])])]),e._v(" "),s("b-col",{attrs:{cols:"12",lg:"4"}},[s("div",{staticClass:"info-box"},[s("p",{staticClass:"signature mb-0"},[e._v("Organizatorem jest")]),e._v(" "),s("p",{},[e._v(e._s(e.frontLesson.school.name))]),e._v(" "),s("p",[s("span",{staticClass:"icon icon-pin c-black-05 pr-3"}),e._v(e._s(e.frontLesson.school.address))]),e._v(" "),s("p",[s("span",{staticClass:"icon icon-phone c-black-05 pr-3"}),e._v(e._s(e.frontLesson.school.personToContactPhone))])])])],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}})],1),e._v(" "),s("b-row",[s("b-col",{staticClass:"mb-3",attrs:{cols:"12",md:"6",lg:"6"}},[[s("calendar",{ref:"calendarFront",staticClass:"p-0",attrs:{lessons:[e.frontLesson],"parent-date":e.frontLesson.newDate?e.frontLesson.newDate:e.frontLesson.date,calendarFrontLessons:!0,splitComponents:!1}})]],2),e._v(" "),s("b-col",[s("b-row",[s("b-col",{staticClass:"mb-3",attrs:{cols:"12",md:"6",lg:"6"}},[s("b-card",{staticClass:"custom",attrs:{"footer-class":"p-0"}},[s("div",{staticClass:"info-box -card"},[s("p",{staticClass:"signature mb-0"},[e._v("Prowadzący")]),e._v(" "),s("p",{},[e._v(e._s(e.frontLesson.leader.firstName+" "+e.frontLesson.leader.lastName))]),e._v(" "),s("p",{staticClass:"signature mb-0"},[e._v("Czas trwania")]),e._v(" "),s("p",{},[e._v(e._s(e.frontLesson.newTimeRange?e.frontLesson.newTimeRange:e.frontLesson.timeRange))]),e._v(" "),s("p",{staticClass:"signature mb-0"},[e._v("Obiekt sportowy")]),e._v(" "),s("p",{},[e._v(e._s(e.frontLesson.place.title+" ("+e.frontLesson.place.address+")"))]),e._v(" "),s("p",{staticClass:"signature mb-0"},[e._v("Typ")]),e._v(" "),s("p",{},[e._v(e._s(e.frontLesson.lessonCategory.title))])])])],1),e._v(" "),e._l(e.frontLesson.replacementLeaders,function(t,a){return t.active?s("b-col",{key:a,staticClass:"mb-3",attrs:{cols:"12",md:"6",lg:"6"}},[s("b-card",{staticClass:"custom",attrs:{"footer-class":"p-0"}},[s("div",{staticClass:"info-box -card"},[s("p",{staticClass:"signature mb-0"},[e._v("Prowadzący (zastępstwo)")]),e._v(" "),s("p",{},[e._v(e._s(t.leader.firstName+" "+t.leader.lastName))]),e._v(" "),s("p",{staticClass:"signature mb-0"},[e._v("Czas trwania")]),e._v(" "),s("p",{},[e._v(e._s(e.frontLesson.newTimeRange?e.frontLesson.newTimeRange:e.frontLesson.timeRange))]),e._v(" "),s("p",{staticClass:"signature mb-0"},[e._v("Obiekt sportowy")]),e._v(" "),s("p",{},[e._v(e._s(e.frontLesson.place.title+" ("+e.frontLesson.place.address+")"))]),e._v(" "),s("p",{staticClass:"signature mb-0"},[e._v("Typ")]),e._v(" "),s("p",{},[e._v(e._s(e.frontLesson.lessonCategory.title))])])])],1):e._e()})],2)],1)],1)],1)],1),e._v(" "),s("section",{staticClass:"map"},[s("b-container",[s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("div",{attrs:{id:"map"}}),e._v(" "),s("div",{attrs:{id:"infowindow-content"}},[s("img",{attrs:{src:"",width:"16",height:"16",id:"place-icon"}}),e._v(" "),s("span",{staticClass:"title",attrs:{id:"place-name"}}),s("br"),e._v(" "),s("span",{attrs:{id:"place-address"}})])])],1)],1)],1)]):e._e()},staticRenderFns:[]};var W=s("VU/8")(Z,K,!1,function(e){s("nuRO")},"data-v-287cff10",null).exports,H={name:"SportEvents",components:{DatePick:w.a,Treeselect:r.a,Calendar:O},data:function(){return{selectedYearFrom:null,selectedYearTo:null,selectedDiscipline:null,date:"2019-09-01"}},computed:{frontEventsCurrentDate:function(){var e=this.$store.getters.frontEvents,t=[];for(var s in e){var a=this.calculateDatesDifference(e[s].dateStart,e[s].dateEnd,!0);for(var i in a)a[i]===this.date&&t.push(e[s])}return t},frontEvents:function(){return this.$store.getters.frontEvents},frontDisciplines:function(){return this.$store.getters.frontDisciplines},disciplinesTreeselect:function(){var e=this.frontDisciplines,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t}},methods:{calculateDatesDifference:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e.replace(/-/g,"/"),t=t.replace(/-/g,"/");return function(e,t){for(var a=[],i=e;i<=t;i.setDate(i.getDate()+1)){var n=new Date(i),o="";o=s?n.getFullYear()+"-"+(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-"+(n.getDate()<10?"0"+n.getDate():n.getDate()):n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate(),a.push(o)}return a}(new Date(e),new Date(t))},filterEvents:function(){var e={discipline:this.selectedDiscipline,selectedYearFrom:this.selectedYearFrom,selectedYearTo:this.selectedYearTo};this.$store.dispatch("getFilteredEvents",e).then(function(e){})},changeDay:function(e){this.date=e},changeMonthOrYear:function(e){var t=document.getElementsByClassName("vdpPrevDirection");if(t.length<1&&(t=document.getElementsByClassName("vdpNextDirection")),!(t.length<1)){var s=t[0].textContent.trim(),a=t[1].textContent.trim(),i=new Date(a+"-"+{"Styczeń":"01",Luty:"02",Marzec:"03","Kwiecień":"04",Maj:"05",Czerwiec:"06",Lipiec:"07","Sierpień":"08","Wrzesień":"09","Październik":"10",Listopad:"11","Grudzień":"12"}[s]+"-10");this.selectedYearFrom=new Date(i.getFullYear(),i.getMonth()-1,25),this.selectedYearTo=new Date(i.getFullYear(),i.getMonth()+1,5),this.filterEvents()}}},created:function(){this.filterEvents(),this.$store.dispatch("getMenuAndFooter"),this.$store.dispatch("getFrontDisciplines")}},J={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrap"},[s("b-container",[s("b-row",[s("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[s("h1",{staticClass:"c-green"},[e._v("\n          Imprezy sportowe\n        ")])])],1)],1),e._v(" "),s("section",{staticClass:"mb-3"},[s("b-container",[s("b-row",{},[s("b-col",{staticClass:"mb-3",attrs:{cols:"12",md:"6",lg:"6"}},[s("b-row",{staticClass:"justify-content-end"},[s("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[s("treeselect",{staticClass:"custom bg-transparent",attrs:{placeholder:"Dyscyplina",multiple:!0,options:e.disciplinesTreeselect},model:{value:e.selectedDiscipline,callback:function(t){e.selectedDiscipline=t},expression:"selectedDiscipline"}})],1),e._v(" "),s("b-col",{staticClass:"mb-3 mb-lg-0",attrs:{cols:"12",sm:"6",lg:"3"}},[s("b-btn",{staticClass:"custom mb-3",attrs:{variant:"primary",block:""},on:{click:e.filterEvents}},[s("span",{staticClass:"icon icon-iconm_search"}),e._v("szukaj\n              ")])],1)],1),e._v(" "),[s("calendar",{ref:"calendarFront",staticClass:"p-0",attrs:{events:e.frontEvents,calendarFront:!0,splitComponents:!1},on:{dayChanged:e.changeDay,monthOrYearChanged:e.changeMonthOrYear}})]],2),e._v(" "),s("b-col",[s("b-row",e._l(e.frontEventsCurrentDate,function(t,a){return s("b-col",{key:a,staticClass:"mb-3",attrs:{cols:"12",md:"6",lg:"6"}},[s("b-card",{staticClass:"custom min-h-457",attrs:{"footer-class":"p-0","img-src":t.images.length>0&&t.images[0].path?t.images[0].path:"","body-class":"d-flex flex-column justify-content-between","img-alt":"Image","img-top":""}},[s("b-card-text",{staticClass:"height-hidden flex-grow-1",attrs:{"text-tag":"div"}},[s("h2",{staticClass:"card-title ",attrs:{title:"lorem8"}},[e._v(e._s(t.title))]),e._v(" "),s("p",[e._v(e._s(t.description))])]),e._v(" "),s("div",{staticClass:"box-sub d-flex justify-content-between"},[s("p",{staticClass:"card-signature mb-0"},[s("span",{staticClass:"icon icon-calendar pr-1 "}),e._v("\n                    "+e._s(t.dateStart.split(" ")[0]+" - "+t.dateEnd.split(" ")[0])+"\n                  ")]),e._v(" "),s("b-btn",{staticClass:"custom card-arrow p-0 mb-n1",attrs:{variant:"icon",to:{name:"sportEventsInner",params:{id:t.id}}}},[s("span",{staticClass:"icon icon-arrow_right c-red"})])],1)],1)],1)}),1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var Q=s("VU/8")(H,J,!1,function(e){s("HEj7")},"data-v-b99c5bd4",null).exports,X={name:"Test",components:{Treeselect:r.a},data:function(){return{id:this.$route.params.id,google:null}},computed:{frontEvent:function(){return this.$store.getters.frontEvent(this.id)}},methods:{setLocation:function(e){var t=[e],s=[];for(var a in t)s.push({query:"Lublin, "+t[a].address,fields:["name","geometry"]});var i=this.google,n=(new i.maps.InfoWindow,document.getElementById("map")),o=new i.maps.LatLng(51.246,22.568),r=new i.maps.Map(n,{center:o,zoom:15,gestureHandling:"cooperative"}),c=new i.maps.LatLngBounds,l=new i.maps.places.PlacesService(r),u=function(e){s[e].dataToShow;delete s[e].dataToShow,l.findPlaceFromQuery(s[e],function(e,t){if(t===i.maps.places.PlacesServiceStatus.OK){for(var s=0;s<e.length;s++)a=e[s],n=void 0,void 0,n=new i.maps.Marker({map:r,position:a.geometry.location}),o=new i.maps.LatLng(n.position.lat(),n.position.lng()),c.extend(o);r.setCenter(e[0].geometry.location)}var a,n,o})};for(var d in s)u(d);r.fitBounds(c),r.panToBounds(c)}},mounted:function(){var e=this;return k()(y.a.mark(function t(){var s,a,i;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y();case 3:e.google=t.sent,s=e.google,a=document.getElementById("map"),i=new s.maps.LatLng(51.246,22.568),new s.maps.Map(a,{center:i,zoom:8,gestureHandling:"cooperative"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}},t,e,[[0,10]])}))()},created:function(){var e=this;this.$store.dispatch("getMenuAndFooter"),this.$store.dispatch("getFrontDisciplines"),this.$store.dispatch("getFrontEvent",{id:this.id}).then(function(t){e.setLocation(t)})}},ee={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrap"},[e.frontEvent?s("section",{staticClass:"mb-4"},[s("b-container",[s("b-row",{staticClass:"justify-content-center"},[e.frontEvent.images&&e.frontEvent.images.length>0?s("b-col",{staticClass:"mb-4 mb-lg-0 text-center text-lg-left",attrs:{cols:"12",lg:"5"}},[s("section",{staticClass:"header-slider mini-"},[s("b-carousel",{staticClass:"custom",attrs:{id:"carousel-fade",interval:4e8,fade:"",indicators:""}},e._l(e.frontEvent.images,function(t,a){return s("b-carousel-slide",{key:a,scopedSlots:e._u([{key:"img",fn:function(){return[s("img",{staticClass:"max-h-300",attrs:{src:t.path,alt:""}})]},proxy:!0}],null,!0)})}),1)],1)]):e._e(),e._v(" "),s("b-col",{attrs:{cols:"12",lg:"7"}},[s("h2",{staticClass:"main mb-2"},[e._v(e._s(e.frontEvent.title))]),e._v(" "),s("b-row",[s("b-col",[s("h2",{staticClass:"sup mb-2"},[s("span",{staticClass:"icon icon-pin lg ml-n1 c-black-05"}),e._v("\n                "+e._s(e.frontEvent.addressDesc.length>0?e.frontEvent.addressDesc:e.frontEvent.address)+"\n              ")]),e._v(" "),s("p",{staticClass:"mb-2 font-sm"},[s("span",{staticClass:"icon icon-calendar pr-1 c-black-05"}),e._v(" "),s("strong",[e._v("Start:")]),e._v(" "+e._s(e.frontEvent.dateStart.split(" ")[0])+"\n                "),s("strong",[e._v("Koniec:")]),e._v(" "+e._s(e.frontEvent.dateEnd.split(" ")[0])+"\n                "),s("br"),e._v(" "),e._l(e.frontEvent.dates,function(t,a){return[s("span",{staticClass:"pl-4"},[e._v(e._s(t.date.split(" ")[0])+" "),s("strong",[e._v(e._s(t.timeRange[0]+" - "+t.timeRange[1]))])]),e._v(" "),s("br")]})],2)]),e._v(" "),s("b-col",[s("div",{staticClass:"info-box"},[s("p",{staticClass:"signature mb-0"},[e._v("Organizatorem jest")]),e._v(" "),s("p",{staticClass:"font-sm"},[e._v(e._s(null!==e.frontEvent.school?e.frontEvent.school.name:e.frontEvent.organization))]),e._v(" "),e.frontEvent.discipline?s("p",{staticClass:"font-sm"},[s("span",{staticClass:"icon icon-discipline pr-1 c-black-05"}),e._v("\n                  "+e._s(e.frontEvent.discipline.title)+"\n                ")]):e._e()])])],1),e._v(" "),s("hr"),e._v(" "),e.frontEvent.phone||e.frontEvent.email||e.frontEvent.personToContact?s("p",{staticClass:"font-sm"},[e._v("\n            Kontakt:\n          ")]):e._e(),e._v(" "),e.frontEvent.personToContact?s("p",{staticClass:"font-sm"},[e._v(e._s(e.frontEvent.personToContact))]):e._e(),e._v(" "),e.frontEvent.phone?s("p",{staticClass:"font-sm"},[s("span",{staticClass:"icon icon-phone pr-1 c-black-05"}),e._v("\n            "+e._s(e.frontEvent.phone)+"\n          ")]):e._e(),e._v(" "),e.frontEvent.email?s("p",{staticClass:"font-sm"},[s("span",{staticClass:"icon icon-mail pr-1 c-black-05"}),e._v("\n            "+e._s(e.frontEvent.email)+"\n          ")]):e._e(),e._v(" "),e.frontEvent.phone||e.frontEvent.email||e.frontEvent.personToContact?s("hr"):e._e(),e._v(" "),e.frontEvent.facebook?s("p",{staticClass:"font-sm"},[s("span",{staticClass:"icon icon-facebook pr-1 c-black-05"}),e._v("\n            "+e._s(e.frontEvent.facebook)+"\n          ")]):e._e(),e._v(" "),e.frontEvent.youtube?s("p",{staticClass:"font-sm"},[s("span",{staticClass:"icon icon-youtube pr-1 c-black-05"}),e._v("\n            "+e._s(e.frontEvent.youtube)+"\n          ")]):e._e(),e._v(" "),e.frontEvent.www?s("p",{staticClass:"mb-3 font-sm"},[s("span",{staticClass:"icon icon-www pr-1 c-black-05"}),e._v("\n            "+e._s(e.frontEvent.www)+"\n          ")]):e._e(),e._v(" "),e.frontEvent.description?s("h5",{staticClass:"sup mb-0"},[e._v("\n            Opis\n          ")]):e._e(),e._v(" "),e.frontEvent.description?s("p",{staticClass:"mb-3 font-sm"},[e._v("\n            "+e._s(e.frontEvent.description)+"\n          ")]):e._e()],1)],1)],1)],1):e._e(),e._v(" "),s("section",{staticClass:"map"},[s("b-container",[s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("div",{attrs:{id:"map"}}),e._v(" "),s("div",{attrs:{id:"infowindow-content"}},[s("img",{attrs:{src:"",width:"16",height:"16",id:"place-icon"}}),e._v(" "),s("span",{staticClass:"title",attrs:{id:"place-name"}}),s("br"),e._v(" "),s("span",{attrs:{id:"place-address"}})])])],1)],1)],1)])},staticRenderFns:[]};var te=s("VU/8")(X,ee,!1,function(e){s("Q05T")},"data-v-1502ee46",null).exports,se={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrap"},[s("b-container",[s("b-row",[s("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[s("h1",{staticClass:"c-green"},[e._v("\n          Projekty sportowe\n        ")])])],1)],1),e._v(" "),e.frontSportProjects&&e.frontSportProjects.length>0?s("section",{staticClass:"mb-3"},[s("b-container",[s("b-row",{staticClass:"justify-content-around"},e._l(e.frontSportProjects,function(t,a){return s("b-col",{key:a,staticClass:"mb-3",attrs:{cols:"12",md:"6",lg:"3"}},[s("b-card",{staticClass:"custom min-h-457",attrs:{"footer-class":"p-0","img-src":t.image,"body-class":"d-flex flex-column justify-content-between","img-alt":"Image","img-top":""}},[s("b-card-text",{staticClass:"height-hidden flex-grow-1",attrs:{"text-tag":"div"}},[s("h2",{staticClass:"card-title ",attrs:{title:"lorem8"}},[e._v(e._s(t.title))]),e._v(" "),s("p",{},[e._v(e._s(t.description))])]),e._v(" "),s("div",{staticClass:"box-sub d-flex justify-content-end"},[s("b-btn",{staticClass:"custom card-arrow p-0 mb-n1",attrs:{variant:"icon"}},[s("a",{attrs:{target:"_blank",href:t.link}},[s("span",{staticClass:"icon icon-arrow_right c-red"})])])],1)],1)],1)}),1)],1)],1):e._e()],1)},staticRenderFns:[]};var ae=s("VU/8")({name:"SportProjects",data:function(){return{}},computed:{frontSportProjects:function(){return this.$store.getters.frontSportProjects}},methods:{},created:function(){this.$store.dispatch("getSportProjects"),this.$store.dispatch("getMenuAndFooter")}},se,!1,function(e){s("yZRK")},"data-v-72f16f18",null).exports,ie={name:"Test",components:{Treeselect:r.a},data:function(){return{frontSportClasses:!1}},computed:{},methods:{prepareMenuItem:function(e){console.log(e),null===e.youtubeLinks||e.youtubeLinks.length<1?e.youtubeLinks=[]:e.youtubeLinks=e.youtubeLinks.split("|||"),this.frontSportClasses=e}},created:function(){var e=this;this.$store.dispatch("getSportClasses").then(function(t){e.prepareMenuItem(t)}),this.$store.dispatch("getMenuAndFooter")}},ne={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrap"},[e.frontSportClasses?s("section",{staticClass:"classes-sports-box"},[s("b-container",[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6"}},[s("h2",{staticClass:"main c-green mb-2"},[e._v(e._s(e.frontSportClasses.mainTitle))]),e._v(" "),s("h5",{staticClass:"sup mb-0"},[e._v("\n            Opis\n          ")]),e._v(" "),s("p",{staticClass:"mb-3"},[e._v("\n            "+e._s(e.frontSportClasses.description)+"\n          ")]),e._v(" "),e.frontSportClasses&&e.frontSportClasses.sliderImages&&e.frontSportClasses.sliderImages.length>0?s("section",{staticClass:"header-slider mini- my-5 pb-3"},[s("b-container",{},[s("b-carousel",{staticClass:"custom",attrs:{id:"carousel-fade",interval:4e8,fade:"",indicators:""}},e._l(e.frontSportClasses.sliderImages,function(t,a){return s("b-carousel-slide",{key:a,scopedSlots:e._u([{key:"img",fn:function(){return[s("div",{staticClass:"slider-content pb-3"},[s("div",{staticClass:"slider-wrap-img text-right"},[s("img",{attrs:{src:t.path,alt:"Slide 1"}})])])]},proxy:!0}],null,!0)})}),1)],1)],1):e._e(),e._v(" "),e.frontSportClasses&&e.frontSportClasses.youtubeLinks&&e.frontSportClasses.youtubeLinks.length>0&&"object"==typeof e.frontSportClasses.youtubeLinks?s("section",{staticClass:"header-slider mini- my-5 pb-3"},[s("b-container",{},[s("b-carousel",{staticClass:"custom",attrs:{id:"carousel-fade",interval:4e8,fade:"",indicators:""}},e._l(e.frontSportClasses.youtubeLinks,function(t,a){return s("b-carousel-slide",{key:a,scopedSlots:e._u([{key:"img",fn:function(){return[s("div",{staticClass:"slider-content pb-3"},[s("div",{staticClass:"slider-wrap-img text-right"},[s("iframe",{attrs:{src:t}})])])]},proxy:!0}],null,!0)})}),1)],1)],1):e._e(),e._v(" "),e.frontSportClasses&&e.frontSportClasses.pdfFiles&&e.frontSportClasses.pdfFiles.length>0?s("section",[s("h2",{staticClass:"mb-3"},[e._v("Do ściągnięcia")]),e._v(" "),s("div",{staticClass:"file-box"},[s("b-row",e._l(e.frontSportClasses.pdfFiles,function(t,a){return s("b-col",{key:a,staticClass:"mb-3",attrs:{cols:"12",sm:"6",md:"4"}},[s("a",{attrs:{href:t.path,target:"_blank"}},[s("span",{staticClass:"icon icon-file c-red-dark pr-1"}),e._v("\n                    "+e._s(t.title)+"\n                  ")])])}),1)],1)]):e._e()])],1)],1)],1):e._e()])},staticRenderFns:[]};var oe=s("VU/8")(ie,ne,!1,function(e){s("n8FL")},"data-v-64dabab6",null).exports,re={name:"Test",components:{Treeselect:r.a},data:function(){return{frontSks:!1}},methods:{prepareMenuItem:function(e){null===e.youtubeLinks||e.youtubeLinks.length<1?e.youtubeLinks=[]:e.youtubeLinks=e.youtubeLinks.split("|||"),this.frontSks=e}},created:function(){var e=this;this.$store.dispatch("getSKS").then(function(t){e.prepareMenuItem(t)}),this.$store.dispatch("getMenuAndFooter")}},ce={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrap"},[e.frontSks?s("section",{staticClass:"classes-sports-box"},[s("b-container",[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6"}},[s("h2",{staticClass:"main c-green mb-2"},[e._v(e._s(e.frontSks.mainTitle))]),e._v(" "),s("h5",{staticClass:"sup mb-0"},[e._v("\n            Opis\n          ")]),e._v(" "),s("p",{staticClass:"mb-3"},[e._v(e._s(e.frontSks.description))]),e._v(" "),s("div",[s("span",{staticClass:"icon icon-www pr-1 c-black-05"}),e._v(" "),s("a",{attrs:{target:"_blank",href:e.frontSks.www}},[e._v(e._s(e.frontSks.www))])]),e._v(" "),e.frontSks&&e.frontSks.sliderImages&&e.frontSks.sliderImages.length>0?s("section",{staticClass:"header-slider mini- my-5 pb-3"},[s("b-carousel",{staticClass:"custom",attrs:{id:"carousel-fade",interval:4e8,fade:"",indicators:""}},e._l(e.frontSks.sliderImages,function(t,a){return s("b-carousel-slide",{key:a,scopedSlots:e._u([{key:"img",fn:function(){return[s("div",{staticClass:"slider-content pb-3"},[s("div",{staticClass:"slider-wrap-img text-right"},[s("img",{attrs:{src:t.path,alt:"Slide 1"}})])])]},proxy:!0}],null,!0)})}),1)],1):e._e(),e._v(" "),e.frontSks&&e.frontSks.youtubeLinks&&e.frontSks.youtubeLinks.length>0&&"object"==typeof e.frontSks.youtubeLinks?s("section",{staticClass:"header-slider mini- my-5 pb-3"},[s("b-container",{},[s("b-carousel",{staticClass:"custom",attrs:{id:"carousel-fade",interval:4e8,fade:"",indicators:""}},e._l(e.frontSks.youtubeLinks,function(t,a){return s("b-carousel-slide",{key:a,scopedSlots:e._u([{key:"img",fn:function(){return[s("div",{staticClass:"slider-content pb-3"},[s("div",{staticClass:"slider-wrap-img text-right"},[s("iframe",{attrs:{src:t}})])])]},proxy:!0}],null,!0)})}),1)],1)],1):e._e()])],1)],1)],1):e._e()])},staticRenderFns:[]};var le=s("VU/8")(re,ce,!1,function(e){s("ju+L")},"data-v-04c09593",null).exports,ue=(s("iEIK"),s("+qPk")),de={name:"DeclarationAvailability",components:{VueEditor:ue.b,Quill:ue.a},data:function(){return{restPage:{id:this.id,active:!1,adminTitle:"",description:!1}}},computed:{},methods:{prepareCms:function(e){this.restPage=e}},created:function(){var e=this;this.$store.dispatch("getMenuAndFooter"),this.$store.dispatch("getRestPageFront",{id:1}).then(function(t){e.prepareCms(t)})}},pe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("b-container",[t("b-row",{staticClass:"justify-content-center"},[t("b-col",{attrs:{md:"10",sm:"12"}},[this.restPage.description?t("div",{staticClass:"quillWrapper w-100"},[t("div",{staticClass:"ql-container ql-snow",attrs:{id:"quill-container"}},[t("div",{staticClass:"ql-editor",attrs:{"data-gramm":"false",contenteditable:"false"}},[t("div",{domProps:{innerHTML:this._s(this.restPage.description)}})])])]):this._e()]),this._v(" "),this.restPage.description?t("vue-editor",{staticClass:"d-none"}):this._e()],1)],1)],1)},staticRenderFns:[]};var me=s("VU/8")(de,pe,!1,function(e){s("6XY1")},"data-v-2ca3d9f7",null).exports,he={name:"InformationClause",components:{VueEditor:ue.b,Quill:ue.a},data:function(){return{restPage:{id:this.id,active:!1,adminTitle:"",description:!1}}},computed:{},methods:{prepareCms:function(e){this.restPage=e}},created:function(){var e=this;this.$store.dispatch("getMenuAndFooter"),this.$store.dispatch("getRestPageFront",{id:2}).then(function(t){e.prepareCms(t)})}},fe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("b-container",[t("b-row",{staticClass:"justify-content-center"},[t("b-col",{attrs:{md:"10",sm:"12"}},[this.restPage.description?t("div",{staticClass:"quillWrapper w-100"},[t("div",{staticClass:"ql-container ql-snow",attrs:{id:"quill-container"}},[t("div",{staticClass:"ql-editor",attrs:{"data-gramm":"false",contenteditable:"false"}},[t("div",{domProps:{innerHTML:this._s(this.restPage.description)}})])])]):this._e()]),this._v(" "),this.restPage.description?t("vue-editor",{staticClass:"d-none"}):this._e()],1)],1)],1)},staticRenderFns:[]};var ve=s("VU/8")(he,fe,!1,function(e){s("ghpF")},"data-v-09d33162",null).exports,be={name:"PrivacyPolicy",components:{VueEditor:ue.b,Quill:ue.a},data:function(){return{restPage:{id:this.id,active:!1,adminTitle:"",description:!1}}},computed:{},methods:{prepareCms:function(e){this.restPage=e}},created:function(){var e=this;this.$store.dispatch("getMenuAndFooter"),this.$store.dispatch("getRestPageFront",{id:3}).then(function(t){e.prepareCms(t)})}},ge={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("b-container",[t("b-row",{staticClass:"justify-content-center"},[t("b-col",{attrs:{md:"10",sm:"12"}},[this.restPage.description?t("div",{staticClass:"quillWrapper w-100"},[t("div",{staticClass:"ql-container ql-snow",attrs:{id:"quill-container"}},[t("div",{staticClass:"ql-editor",attrs:{"data-gramm":"false",contenteditable:"false"}},[t("div",{domProps:{innerHTML:this._s(this.restPage.description)}})])])]):this._e()]),this._v(" "),this.restPage.description?t("vue-editor",{staticClass:"d-none"}):this._e()],1)],1)],1)},staticRenderFns:[]};var ye={path:"/",redirect:"/home",component:function(){return s.e(1).then(s.bind(null,"eYsI"))},children:[{path:"home",name:"home",component:d},{path:"test",name:"test",component:h},{path:"sports",name:"sports",component:b},{path:"sports/:id",name:"sportsInner",component:W},{path:"sport-projects",name:"sportProjects",component:ae},{path:"sport-events",name:"sportEvents",component:Q},{path:"sport-events/:id",name:"sportEventsInner",component:te},{path:"sport-classes",name:"sportClasses",component:oe},{path:"sks",name:"sks",component:le},{path:"deklaracja-dostepnosci",name:"deklaracja.dostepnosci",component:me},{path:"klauzula-informacyjna",name:"klauzula.informacyjna",component:ve},{path:"polityka-prywatnosci",name:"polityka.prywatnosci",component:s("VU/8")(be,ge,!1,function(e){s("hJDw")},"data-v-ec6e7f82",null).exports}]},_e={name:"TestContent",data:function(){return{}},methods:{toggleSidebar:function(){z.a.$emit("TOGGLE_SIDEBAR")},showDeleteModal:function(){z.a.$emit("SHOW_CONFIRM_DELETE_MODAL")}},created:function(){}},ke={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light border-bottom"},[s("button",{staticClass:"btn btn-primary",attrs:{id:"menu-toggle"},on:{click:e.toggleSidebar}},[e._v("Toggle Menu")]),e._v(" "),e._m(0),e._v(" "),e._m(1)]),e._v(" "),s("b-button",{on:{click:e.showDeleteModal}},[e._v("\n    DELETE MODAL\n  ")]),e._v(" "),e._m(2)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[t("span",{staticClass:"navbar-toggler-icon"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav ml-auto mt-2 mt-lg-0"},[s("li",{staticClass:"nav-item active"},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[e._v("Home "),s("span",{staticClass:"sr-only"},[e._v("(current)")])])]),e._v(" "),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[e._v("Link")])]),e._v(" "),s("li",{staticClass:"nav-item dropdown"},[s("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n            Dropdown\n          ")]),e._v(" "),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"navbarDropdown"}},[s("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("Action")]),e._v(" "),s("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("Another action")]),e._v(" "),s("div",{staticClass:"dropdown-divider"}),e._v(" "),s("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("Something else here")])])])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container-fluid"},[s("h1",{staticClass:"mt-4"},[e._v("Simple Sidebar")]),e._v(" "),s("p",[e._v("The starting state of the menu will appear collapsed on smaller screens, and will appear non-collapsed on\n      larger screens. When toggled using the button below, the menu will change.")]),e._v(" "),s("p",[e._v("Make sure to keep all page content within the "),s("code",[e._v("#page-content-wrapper")]),e._v(". The top navbar is optional,\n      and just for demonstration. Just create an element with the "),s("code",[e._v("#menu-toggle")]),e._v(" ID which will toggle the\n      menu when clicked.")])])}]};var Ce=s("VU/8")(_e,ke,!1,function(e){s("U/iU")},"data-v-4bc6d41c",null).exports,we={name:"TabLinks",props:["links"],data:function(){return{id:this.$route.params.id}},computed:{},methods:{callParentMethod:function(e,t){var s=this;if(console.log(e),console.log(t),console.log(this.links),"main-data"===this.$route.params.tab||"school.or.club"!==e.link){if(!this.links[t].method||"function"!=typeof this.$parent[this.links[t].method])return console.log(111),void(this.$route.params.tab!==e.tab&&this.$router.push({name:e.link,params:{tab:e.tab,id:this.id}}));if(void 0!==this.$parent[this.links[t].method]&&null!==this.$parent[this.links[t].method])return new M.a(function(e,a){s.$parent[s.links[t].method](s.links[t].methodParams).then(function(t){console.log(s.links),console.log(t),e()}).catch(function(e){console.log(e.response),a(e.response)})})}else this.$router.push({name:e.link,params:{tab:e.tab,id:this.id}})}},created:function(){}},xe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tab-link-list mb-4"},e._l(e.links,function(t,a){return s("b-link",{key:a,staticClass:"tab-link-item",attrs:{to:{name:t.link,params:{tab:t.tab,id:e.id}},"active-class":"active",event:""}},[s("span",{on:{click:function(s){return e.callParentMethod(t,a)}}},[e._v("\n     "+e._s(t.title)+"\n   ")])])}),1)},staticRenderFns:[]};var $e=s("VU/8")(we,xe,!1,function(e){s("DtMO")},"data-v-203baf49",null).exports,Te=s("RIqR"),Se=s("VBp3"),Pe={name:"ImageInputAdvanced",mixins:[Se.a],props:["minAspectRatio","maxAspectRatio","hideImage","minHeight","minWidth","maxWidth","maxHeight","imgPath","imageMultiple","imageId"],components:{Cropper:Te.a},data:function(){return{image:""}},methods:{showModal:function(){this.$refs.advancedCropperModal.show()},pixelsRestriction:function(e,t,s,a,i,n){return{minWidth:e,minHeight:t,maxWidth:s,maxHeight:a}},uploadImage:function(e){var t=this,s=e.target;if(s.files&&s.files[0]){var a=new FileReader;a.onload=function(e){t.image=e.target.result},a.readAsDataURL(s.files[0])}},crop:function(){var e=this.$refs.cropper.getResult(),t=e.coordinates,s=e.canvas;this.coordinates=t,this.image=s.toDataURL(),this.imageMultiple?(console.log(this.imageId),this.$emit("afterCropImage",{image:this.image,id:this.imageId}),this.$refs.advancedCropperModal.hide()):(this.$emit("afterCropImage",this.image),this.$refs.advancedCropperModal.hide())}},created:function(){console.log(this.imgPath),this.imgPath?this.image=this.imgPath:this.image="https://placeimg.com/200/200/any"}},je={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"wrap-img-input mb-3 mt-4"},[s("img",{attrs:{src:e.image,alt:"img"}})]),e._v(" "),s("b-row",[e.imageMultiple?s("b-col",[e.hideImage?e._e():s("b-btn",{staticClass:"custom",attrs:{variant:"delete",block:""},on:{click:function(t){return e.$parent.removeImage(e.imageId)}}},[e._v("Usuń\n      ")])],1):e._e(),e._v(" "),s("b-col",[e.hideImage?e._e():s("b-btn",{staticClass:"custom",attrs:{variant:"primary",block:""},on:{click:e.showModal}},[e._v("Zmień")])],1)],1),e._v(" "),s("b-modal",{ref:"advancedCropperModal",attrs:{"hide-footer":"",size:"xl","no-close-on-backdrop":""}},[s("cropper",{ref:"cropper",attrs:{classname:"cropper",src:e.image,restrictions:e.pixelsRestriction,minHeight:e.minHeight,minWidth:e.minWidth,maxWidth:e.maxWidth,maxHeight:e.maxHeight,"stencil-props":{minAspectRatio:e.minAspectRatio,maxAspectRatio:e.maxAspectRatio}}}),e._v(" "),s("div",{staticClass:"modal-footer"},[s("b-btn",{staticClass:"btn",attrs:{variant:"primary"},on:{click:e.crop}},[e._v("\n        Zapisz\n      ")]),e._v(" "),s("b-btn",{staticClass:"btn btn-primary",on:{click:function(t){return e.$refs.file.click()}}},[e._v("\n        Wybierz zdjęcie\n      ")])],1),e._v(" "),s("input",{ref:"file",staticClass:"d-none",attrs:{type:"file",accept:"image/*"},on:{change:function(t){return e.uploadImage(t)}}})],1)],1)},staticRenderFns:[]};var De=s("VU/8")(Pe,je,!1,function(e){s("YWYk")},"data-v-10121513",null).exports,Le={name:"Menu",components:{ImageInputAdvanced:De},data:function(){return{fields:[{key:"id",label:"Id",sortable:!0},{key:"title",label:"Tytuł",sortable:!0},{key:"link",label:"Link",sortable:!0}],menu:null}},computed:L()({},Object(I.c)(["menuItems"])),watch:{"menu.logo":function(e){"data"===e.substring(0,4)&&this.$store.dispatch("putMenu",{id:1,image:this.menu.logo})}},methods:L()({},Object(I.b)(["getMenuItems"]),{rowRedirect:function(e){this.$router.push({name:"menu.item.data",params:{id:e.id}})},afterCropImage:function(e){this.menu.logo=e}}),created:function(){var e=this;this.getMenuItems(),this.$store.dispatch("getMenu",{id:1}).then(function(t){console.log(t.image),e.menu={logo:t.image}})}},ze={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"3"}},[s("h2",[e._v("Logo")]),e._v(" "),e.menu?s("ImageInputAdvanced",{attrs:{imgPath:e.menu.logo,"max-height":5e3,"max-width":5e3},on:{afterCropImage:e.afterCropImage}}):e._e()],1),e._v(" "),s("b-col",{attrs:{cols:"12",lg:"5"}},[s("h2",[e._v("Struktura menu")]),e._v(" "),s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.menuItems,fields:e.fields,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.rowRedirect}})],1)],1)},staticRenderFns:[]};var Fe=s("VU/8")(Le,ze,!1,function(e){s("GCSl")},"data-v-3e78b92c",null).exports,Ie={name:"Cms",data:function(){return{fields:[{key:"id",label:"Id",sortable:!1},{key:"adminTitle",label:"Tytuł dla administratora",sortable:!1},{key:"status",label:"Status",sortable:!1},{key:"actions",label:"Szczegóły",sortable:!1}],fieldsRest:[{key:"id",label:"Id",sortable:!1},{key:"adminTitle",label:"Tytuł dla administratora",sortable:!1},{key:"actions",label:"Szczegóły",sortable:!1}]}},computed:L()({},Object(I.c)(["sections","restPages"])),methods:L()({},Object(I.b)(["getSections","getRestPages"])),created:function(){this.getSections(),this.getRestPages()}},Ne={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"mt-4",attrs:{cols:"12",lg:"10"}},[s("h2",[e._v("Strona głowna")]),e._v(" "),s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.sections,fields:e.fields,striped:"","sort-icon-left":"",responsive:"md"},scopedSlots:e._u([{key:"status",fn:function(t){return[t.item?s("span",{staticClass:"status inactive",class:{active:t.item.active}},[e._v(e._s(1==t.item.active?"aktywny":"nieaktywny"))]):e._e()]}},{key:"actions",fn:function(t){return[s("b-link",{staticClass:"btn custom btn-primary",attrs:{to:{name:"cms.section",params:{id:t.item.id}}}},[e._v("\n          Szczegóły\n        ")])]}}])}),e._v(" "),s("h2",[e._v("Strony pozostałe")]),e._v(" "),s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.restPages,fields:e.fieldsRest,striped:"","sort-icon-left":"",responsive:"md"},scopedSlots:e._u([{key:"status",fn:function(t){return[t.item?s("span",{staticClass:"status inactive",class:{active:t.item.active}},[e._v(e._s(1==t.item.active?"aktywny":"nieaktywny"))]):e._e()]}},{key:"actions",fn:function(t){return[s("b-link",{staticClass:"btn custom btn-primary",attrs:{to:{name:"cms.rest.page",params:{id:t.item.id}}}},[e._v("\n          Szczegóły\n        ")])]}}])})],1)],1)},staticRenderFns:[]};var Ee=s("VU/8")(Ie,Ne,!1,function(e){s("3Ch6")},"data-v-03623fdb",null).exports,Oe={name:"Footer",components:{ImageInputAdvanced:De},data:function(){return{footer:{address:"",email:"",phone:"",facebook:"",youtube:"",image:null},loaded:!1}},computed:{footerComputed:function(){return null!==this.$store.getters.footer&&(this.loaded=!0,this.footer=this.$store.getters.footer),this.$store.getters.footer}},methods:L()({},Object(I.b)(["getFooters"]),{afterCropImage:function(e){this.footer.image=e},putFooter:function(){this.$store.dispatch("putFooter",this.footer)}}),created:function(){this.$store.dispatch("getFooter",{id:1})}},Ae={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"3"}},[s("h2",[e._v("Logo")]),e._v(" "),e.loaded?s("ImageInputAdvanced",{attrs:{imgPath:e.footer.image,"max-height":5e3,"max-width":5e3},on:{afterCropImage:e.afterCropImage}}):e._e()],1),e._v(" "),e.footer?s("b-col",{attrs:{cols:"12",lg:"5"}},[s("h2",[e._v("Footer")]),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"footer.address",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("footer.address")},attrs:{id:"input-1",placeholder:"Adres",name:"footer.address"},model:{value:e.footer.address,callback:function(t){e.$set(e.footer,"address",t)},expression:"footer.address"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"footer.email",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("footer.email")},attrs:{id:"input-2",placeholder:"E-mail",name:"footer.email"},model:{value:e.footer.email,callback:function(t){e.$set(e.footer,"email",t)},expression:"footer.email"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"footer.phone",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("footer.phone")},attrs:{id:"input-3",placeholder:"Telefon",name:"footer.phone"},model:{value:e.footer.phone,callback:function(t){e.$set(e.footer,"phone",t)},expression:"footer.phone"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"footer.facebook",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("footer.facebook")},attrs:{id:"input-4",placeholder:"Facebook",name:"footer.facebook"},model:{value:e.footer.facebook,callback:function(t){e.$set(e.footer,"facebook",t)},expression:"footer.facebook"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"footer.youtube",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("footer.youtube")},attrs:{id:"input-5",placeholder:"Youtube",name:"footer.youtube"},model:{value:e.footer.youtube,callback:function(t){e.$set(e.footer,"youtube",t)},expression:"footer.youtube"}})],1),e._v(" "),s("b-btn",{staticClass:"w-25 float-right",attrs:{variant:"primary"},on:{click:e.putFooter}},[e._v("Zapisz")])],1):e._e(),e._v(" "),s("p",{staticClass:"invisible"},[e._v(e._s(e.footerComputed))])],1)},staticRenderFns:[]};var Me={components:{TabLinks:$e,Menu:Fe,Cms:Ee,Footer:s("VU/8")(Oe,Ae,!1,function(e){s("bzee")},"data-v-cba145c8",null).exports},mixins:[F],data:function(){return{tabLinks:[{title:"Menu",link:"www",tab:"menu"},{title:"Home",link:"www",tab:"cms"},{title:"Footer",link:"www",tab:"footer"}]}},created:function(){void 0===this.$route.params.tab&&this.$router.push({name:"www",params:{tab:"menu"}}),this.changeAdminNavbarButton({buttonLink:!1}),this.changeAdminNavbarBreadcrumbs([{text:"Strona www",active:!0}])}},qe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("TabLinks",{attrs:{links:e.tabLinks}})],1)],1),e._v(" "),"menu"===e.$route.params.tab?s("Menu"):e._e(),e._v(" "),"cms"===e.$route.params.tab?s("Cms"):e._e(),e._v(" "),"footer"===e.$route.params.tab?s("Footer"):e._e()],1)},staticRenderFns:[]};var Re=s("VU/8")(Me,qe,!1,function(e){s("uMKl")},"data-v-6cc9fe45",null).exports,Ge=s("AX4k"),Ue={name:"SchoolsAndClubsMixin",data:function(){return{}},methods:{},computed:{schoolListFiltered:function(){this.filters||(this.filters={});var e=this.schoolsConfirmed||this.schoolsToConfirm||[],t=[],s=this.filters.search||"",a=this.filters.selectedType||[],i=this.filters.districtValue||[];for(var n in e)s.length>0&&-1===e[n].name.toLowerCase().indexOf(s.toLowerCase())||a.length>0&&!a.includes(e[n].type)||i.length>0&&!i.includes(parseInt(e[n].district))||t.push(e[n]);return t}}},Be={name:"ListConfirmed",props:["filters"],mixins:[Ue],data:function(){return{fields:[{key:"type",label:"Szkoła / Klub",sortable:!0},{key:"name",label:"Nazwa",sortable:!0},{key:"object",label:"Obiekty sportowe",sortable:!0},{key:"email",label:"E-mail",sortable:!0},{key:"status",label:"status w systemie",sortable:!0},{key:"edit",label:""}]}},computed:{schoolsConfirmed:function(){return this.$store.getters.schoolsConfirmed}},methods:{rowRedirect:function(e){this.$parent.rowRedirect(e.id,!0)}},created:function(){this.$store.dispatch("getSchools",{confirmed:1})}},Ve={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"col-xl-8 col-lg-8 col-md-12 col-sm-12"},[s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.schoolListFiltered,fields:e.fields,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.rowRedirect},scopedSlots:e._u([{key:"type",fn:function(t){return[s("div",{staticClass:"d-flex align-items-center justify-content-between"},[s("div",{staticClass:"wrap-img-type-table mr-3"},[s("img",{attrs:{src:t.item.image||"https://placeimg.com/50/50/any",alt:""}})]),e._v(" "),s("span",[e._v(e._s(0==t.item.type?"Klub":"Szkoła"))])])]}},{key:"object",fn:function(t){return[s("span",[e._v(e._s(t.item.places.length))])]}},{key:"status",fn:function(t){return[s("span",{staticClass:"status",class:{active:t.item.active}},[e._v(e._s(1==t.item.active?"aktywny":"nieaktywny"))])]}},{key:"edit",fn:function(e){return[s("b-link",{staticClass:"icon-link"},[s("span",{staticClass:"icon icon-iconm_search"})])]}}])})],1)],1)},staticRenderFns:[]};var Ye=s("VU/8")(Be,Ve,!1,function(e){s("CT3Q")},"data-v-ebd15ffa",null).exports,Ze={name:"ListToConfirm",props:["filters"],mixins:[Ue],data:function(){return{fields:[{key:"type",label:"Szkoła / Klub",sortable:!0},{key:"name",label:"Nazwa",sortable:!0},{key:"object",label:"Obiekty sportowe",sortable:!0},{key:"data",label:"Data dodania",sortable:!0},{key:"btnTable",label:"",sortable:!0},{key:"edit",label:""}]}},computed:{isAdmin:function(e){return e.isAdmin},schoolsToConfirm:function(){return this.$store.getters.schoolsToConfirm}},methods:{rowRedirect:function(e){this.$parent.rowRedirect(e.id,!1)},confirmItem:function(e){var t=this;this.$store.dispatch("putSchool",{id:e,confirmed:1}).then(function(e){t.$store.dispatch("getSchools",{confirmed:0})})}},created:function(){this.$store.dispatch("getSchools",{confirmed:0})}},Ke={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"col-xl-8 col-lg-8 col-md-12 col-sm-12"},[s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.schoolListFiltered,fields:e.fields,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.rowRedirect},scopedSlots:e._u([{key:"type",fn:function(t){return[s("div",{staticClass:"d-flex align-items-center justify-content-between"},[s("div",{staticClass:"wrap-img-type-table mr-3"},[s("img",{attrs:{src:t.item.image||"https://placeimg.com/50/50/any",alt:""}})]),e._v(" "),s("span",[e._v(e._s(0==t.item.type?"Klub":"Szkoła"))])])]}},{key:"object",fn:function(t){return[s("span",[e._v(e._s(t.item.places.length))])]}},{key:"data",fn:function(t){return[s("span",[e._v(e._s(t.item.created))])]}},{key:"btnTable",fn:function(t){return e.$store.getters.isAdmin?[s("b-btn",{staticClass:"custom mb-0",attrs:{variant:"primary"},on:{click:function(s){return e.confirmItem(t.item.id)}}},[e._v("\n          Zatwierdź\n        ")])]:void 0}},{key:"edit",fn:function(e){return[s("b-link",{staticClass:"icon-link"},[s("span",{staticClass:"icon icon-iconm_search"})])]}}],null,!0)})],1)],1)},staticRenderFns:[]};var We=s("VU/8")(Ze,Ke,!1,function(e){s("ScoM")},"data-v-da052e98",null).exports,He={components:{TabLinks:$e,Treeselect:r.a,ListConfirmed:Ye,ListToConfirm:We},mixins:[F,Ge.a],data:function(){return{tabLinks:[{title:"Zatwierdzone",link:"schools.and.clubs",tab:"confirmed"},{title:"Do zatwierdzenia ("+this.$store.getters.schoolsToConfirm.length+")",link:"schools.and.clubs",tab:"to-confirm"}],selectedType:[],typeOptions:[{text:"klub",value:0},{text:"szkola",value:1}],search:"",districtValue:null,districts:c.f}},computed:{isDirector:function(){return this.$store.getters.isDirector},isAdmin:function(){return this.$store.getters.isAdmin}},watch:{"$store.getters.schoolsToConfirm":function(e){this.tabLinks=[{title:"Zatwierdzone",link:"schools.and.clubs",tab:"confirmed"},{title:"Do zatwierdzenia ("+e.length+")",link:"schools.and.clubs",tab:"to-confirm"}]},isAdmin:function(e){this.checkNavButton(e)},isDirector:function(e){this.checkNavButton(e),!1===this.isAdmin&&(this.tabLinks=[{title:"Zatwierdzone",link:"schools.and.clubs",tab:"confirmed"}])}},methods:{rowRedirect:function(e,t){this.isDirector&&this.$router.push({name:"school.or.club",params:{tab:"main-data",id:e,isConfirmed:t}})},checkNavButton:function(e){e?this.changeAdminNavbarButton({buttonLink:"school.or.club",params:{tab:"main-data"}}):this.changeAdminNavbarButton({buttonLink:!1})}},created:function(){var e=this;this.$store.dispatch("getSchools",{}).then(function(t){e.$store.getters.isDirector&&!e.$store.getters.isAdmin&&e.$router.push({name:"school.or.club",params:{tab:"main-data",id:t[0].id}})}),void 0===this.$route.params.tab&&this.$router.push({name:"schools.and.clubs",params:{tab:"confirmed"}}),this.checkNavButton(this.isAdmin),this.changeAdminNavbarBreadcrumbs([{text:"Kluby i szkoły",active:!0}])}},Je={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("TabLinks",{attrs:{links:e.tabLinks}})],1)],1),e._v(" "),e.isAdmin?s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"col-xl-8 col-lg-8 col-md-12 col-sm-12"},[s("b-row",{staticClass:"align-items-center mb-3"},[s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("b-form-group",{staticClass:"custom"},[s("b-form-checkbox-group",{attrs:{id:"checkbox-group-1",options:e.typeOptions,name:"flavour-1"},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1)],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Dzielnica",options:e.districts},model:{value:e.districtValue,callback:function(t){e.districtValue=t},expression:"districtValue"}})],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"input-1",placeholder:"Szukaj"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1)],1):e._e(),e._v(" "),"confirmed"===e.$route.params.tab?s("list-confirmed",{key:e.$route.params.tab,attrs:{filters:{selectedType:e.selectedType,districtValue:e.districtValue,search:e.search}}}):e._e(),e._v(" "),"to-confirm"===e.$route.params.tab?s("list-to-confirm",{key:e.$route.params.tab,attrs:{filters:{selectedType:e.selectedType,districtValue:e.districtValue,search:e.search}}}):e._e()],1)},staticRenderFns:[]};var Qe=s("VU/8")(He,Je,!1,function(e){s("MlTh")},"data-v-b95495c0",null).exports,Xe={name:"SportObjectsMixin",data:function(){return{}},methods:{getSportObjectTypeNameById:function(e){if(void 0===e||null===e||void 0===e.id)return"Typ nie wybrany";if(void 0===this.sportObjectTypes||null===this.sportObjectTypes)return"";var t=this.sportObjectTypes.find(function(t){return t.id===e.id});return t?t.title:""},getSchoolNameById:function(e){if(void 0===this.schoolsAndClubs||null===this.schoolsAndClubs||this.schoolsAndClubs.length<1)return"";var t=this.schoolsAndClubs.find(function(t){return t.id===e});return void 0===t?"":t.name}},computed:{schoolsAndClubs:function(){return this.$store.getters.schools},sportObjectsListFiltered:function(){var e=this.sportObjects||[],t=[],s=this.filters.search||"",a=this.filters.districtValue||[];for(var i in e)s.length>0&&-1===e[i].title.toLowerCase().indexOf(s.toLowerCase())||a.length>0&&!a.includes(parseInt(e[i].district))||t.push(e[i]);return t}}},et={name:"TableMixin",mixins:[],data:function(){return{}},methods:{replaceTableField:function(e){for(var t in this.fields)this.fields[t].key===e.key&&(this.fields[t].label=e.label);!0===e.toInsert&&(delete e.toInsert,this.fields.push(e))}},created:function(){if(this.fieldsParams)for(var e in this.fieldsParams){var t=this.fieldsParams[e];console.log(t),this.replaceTableField(t)}}},tt={name:"ListConfirmed",props:["filters","sportObjectTypes","isConfirmed","idsToPass","fieldsParams"],mixins:[Xe,et],data:function(){return{currentPage:1,perPage:20,totalRows:0,fields:[{key:"title",label:"Nazwa obiektu",sortable:!0},{key:"type",label:"Typ obiektu",sortable:!0},{key:"schoolOrClub",label:"Nazwa Klubu/Szkoły",sortable:!0}]}},watch:{currentPage:function(e){this.filter(e)}},computed:{sportObjects:function(){return"all"===this.isConfirmed?this.$store.getters.sportObjects:this.isConfirmed?this.$store.getters.sportObjectsConfirmed:this.$store.getters.sportObjectsToConfirm}},methods:{filter:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.filters;a.idsToPass=this.idsToPass,"all"===this.isConfirmed?(this.$store.dispatch("getSportObjects",{confirmed:0,filters:a,currentPage:t,perPage:this.perPage}).then(function(t){e.filterResponse(t,s)}),this.$store.dispatch("getSportObjects",{confirmed:1,filters:a,currentPage:t,perPage:this.perPage}).then(function(t){e.filterResponse(t,s)})):this.$store.dispatch("getSportObjects",{confirmed:this.isConfirmed?1:0,filters:a,currentPage:t,perPage:this.perPage}).then(function(t){e.filterResponse(t,s)})},filterResponse:function(e,t){this.totalRows=e.totalCount,t&&(this.currentPage=1)},rowRedirect:function(e){this.$parent.rowRedirect(e.id,!0)},confirmItem:function(e){var t=this;this.$store.dispatch("putSportObject",{id:e,confirmed:1}).then(function(e){t.$store.dispatch("getSportObjects",{confirmed:0})})}},created:function(){this.filter(),this.$store.dispatch("getSchools",{}),this.$store.dispatch("getSportObjectTypes")}},st={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"col-12 col-xl-8 col-lg-8 col-md-12 col-sm-12 mt-4"},[s("b-row",{staticClass:"justify-content-end mb-3"},[s("b-btn",{staticClass:"mr-3",attrs:{variant:"primary"},on:{click:function(t){return e.filter(1,!0)}}},[e._v("Filtruj")])],1),e._v(" "),s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm","aria-controls":"history-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),e._v(" "),s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.sportObjects,fields:e.fields,"per-page":e.perPage,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.rowRedirect},scopedSlots:e._u([{key:"title",fn:function(t){return[t.item?s("span",[e._v(e._s(t.item.title))]):e._e()]}},{key:"type",fn:function(t){return[t.item?s("span",[e._v(e._s(e.getSportObjectTypeNameById(t.item.type)))]):e._e()]}},{key:"object",fn:function(t){return[t.item?s("span",[e._v(e._s(t.item.places.length))]):e._e()]}},{key:"schoolOrClub",fn:function(t){return[t.item?s("span",[e._v(e._s(e.getSchoolNameById(t.item.school.id)))]):e._e()]}},{key:"lessons",fn:function(t){return[t.item?s("span",[e._v(e._s(t.item.lessons.length))]):e._e()]}},{key:"status",fn:function(t){return[t.item?s("span",{staticClass:"status inactive",class:{active:t.item.active}},[e._v(e._s(1==t.item.active?"aktywny":"nieaktywny"))]):e._e()]}},{key:"data",fn:function(t){return[t.item?s("span",[e._v(e._s(t.item.created))]):e._e()]}},{key:"btnTable",fn:function(t){return e.$store.getters.isDirector?[s("b-btn",{staticClass:"custom mb-0",attrs:{variant:"primary"},on:{click:function(s){return e.confirmItem(t.item.id)}}},[e._v("\n            Zatwierdź\n          ")])]:void 0}},{key:"edit",fn:function(e){return[s("b-link",{staticClass:"icon-link"},[s("span",{staticClass:"icon icon-iconm_search"})])]}}],null,!0)})],1)],1)},staticRenderFns:[]};var at=s("VU/8")(tt,st,!1,function(e){s("w/lp")},"data-v-8470e6d4",null).exports,it={components:{TabLinks:$e,Treeselect:r.a,SportObjectTable:at},mixins:[F,Ge.a],data:function(){return{tabLinks:[{title:"Zatwierdzone",link:"sport.objects",tab:"confirmed"},{title:"Do zatwierdzenia",link:"sport.objects",tab:"to-confirm"}],search:"",districtValue:null,districts:c.f}},watch:{isDirector:function(e){this.checkNavButton(e)}},computed:{sportObjectsToConfirm:function(){return this.tabLinks=[{title:"Zatwierdzone",link:"sport.objects",tab:"confirmed"},{title:"Do zatwierdzenia ("+this.$store.getters.sportObjectsToConfirm.length+")",link:"sport.objects",tab:"to-confirm"}],this.$store.getters.sportObjectsToConfirm},isDirector:function(){return this.$store.getters.isDirector},sportObjectTypes:function(){return this.$store.getters.sportObjectTypes}},methods:{rowRedirect:function(e,t){this.isDirector&&this.$router.push({name:"sport.object",params:{tab:"main-data",id:e,isConfirmed:t}})},checkNavButton:function(e){e?this.changeAdminNavbarButton({buttonLink:"sport.object",params:{tab:"main-data"}}):this.changeAdminNavbarButton({buttonLink:!1})}},created:function(){this.$store.dispatch("getSportObjects",{confirmed:0}),this.$store.dispatch("getSportObjects",{confirmed:1}),void 0===this.$route.params.tab&&this.$router.push({name:"sport.objects",params:{tab:"confirmed"}}),this.$store.dispatch("getSportObjectTypes"),this.checkNavButton(this.isDirector),this.changeAdminNavbarBreadcrumbs([{text:"Obiekty sportowe",active:!0}])}},nt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("TabLinks",{attrs:{links:e.tabLinks}})],1)],1),e._v(" "),s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"col-12 col-xl-8 col-lg-8 col-md-12 col-sm-12 mt-4"},[s("b-row",{staticClass:"align-items-center"},[s("b-col",{staticClass:"mb-2",attrs:{xl:"6",lg:"6",md:"12",sm:"12"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Dzielnica",options:e.districts},model:{value:e.districtValue,callback:function(t){e.districtValue=t},expression:"districtValue"}})],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"6",lg:"6",md:"12",sm:"12"}},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"input-1",placeholder:"Szukaj"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1)],1),e._v(" "),"confirmed"===e.$route.params.tab?s("SportObjectTable",{key:e.$route.params.tab,attrs:{filters:{districtValue:e.districtValue,search:e.search},sportObjectTypes:e.sportObjectTypes,"is-confirmed":!0,fieldsParams:[{key:"lessons",label:"Zajęcia",toInsert:!0},{key:"status",label:"Status w systemie",sortable:!0,toInsert:!0},{key:"edit",label:"",toInsert:!0}]}}):e._e(),e._v(" "),"to-confirm"===e.$route.params.tab?s("SportObjectTable",{key:e.$route.params.tab,attrs:{filters:{districtValue:e.districtValue,search:e.search},sportObjectTypes:e.sportObjectTypes,"is-confirmed":!1,fieldsParams:[{key:"data",label:"Data dodania",toInsert:!0},{key:"btnTable",label:"",toInsert:!0}]}}):e._e(),e._v(" "),s("p",{staticClass:"d-none"},[e._v(e._s(e.sportObjectsToConfirm))])],1)},staticRenderFns:[]};var ot=s("VU/8")(it,nt,!1,function(e){s("NYxg")},"data-v-612f4ec8",null).exports,rt={name:"ParticipantGroupMixin",data:function(){return{}},methods:{},computed:{schools:function(){var e=this.$store.getters.schoolsConfirmed,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].name});return t},participantGroupDiscipline:function(){var e=this.$store.getters.disciplines,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t},participantGroupLessonCategory:function(){var e=this.$store.getters.lessonCategories,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t},participantGroupSeason:function(){var e=this.$store.getters.seasons,t=[];for(var s in e)this.selectedSeason&&e[s].id===this.selectedSeason?t.push({id:e[s].id,label:e[s].title,isDisabled:!0}):t.push({id:e[s].id,label:e[s].title});return t},participantGroupClass:function(){var e=this.$store.getters.classes,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t},participantGroupFiltered:function(){this.filters||(this.filters={});var e=[],t=[],s=this.filters.search||"",a=this.filters.selectedType||[];for(var i in e)s.length>0&&-1===e[i].name.toLowerCase().indexOf(s.toLowerCase())||a.length>0&&!a.includes(e[i].type)||t.push(e[i]);return t}}},ct={components:{Treeselect:r.a},props:["participantGroup","school","schoolIds","participant"],mixins:[F,rt],data:function(){return{currentPage:1,perPage:20,totalRows:0,fields:[{key:"title",label:"Nazwa listy",sortable:!0},{key:"discipline",label:"Dyscyplina",sortable:!0},{key:"sex",label:"Płeć",sortable:!0},{key:"lessonCategory",label:"Kategoria",sortable:!0},{key:"class",label:"Klasa",sortable:!0},{key:"school",label:"Szkoła / Klub",sortable:!0},{key:"status",label:"Status w systemie",sortable:!0},{key:"edit",label:""}],search:"",selectedGender:[],genderOptions:[{text:"kobieta",value:0},{text:"mężczyzna",value:1}],selectedDisciplines:[],selectedLessonCategories:[],selectedClasses:[],selectedSchools:[]}},computed:{schoolsTreeselect:function(){var e=this.$store.getters.schools,t=[];for(var s in e)this.school?e[s].id===this.school.id&&t.push({id:e[s].id,label:e[s].name}):this.schoolIds?this.schoolIds.includes(e[s].id)&&t.push({id:e[s].id,label:e[s].name}):t.push({id:e[s].id,label:e[s].name});return t},disciplines:function(){return this.$store.getters.disciplines},lessonCategories:function(){return this.$store.getters.lessonCategories},classes:function(){return this.$store.getters.classes},participantGroups:function(){var e=this.$store.getters.participantGroups;return e}},watch:{currentPage:function(e){this.filter(e)}},methods:{filter:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={search:this.search||"",selectedGender:this.selectedGender||[],disciplines:this.selectedDisciplines||[],lessonCategories:this.selectedLessonCategories||[],classes:this.selectedClasses||[],selectedSchools:this.selectedSchools||[]};this.participant&&this.participant.id&&(a.participantId=this.participant.id),this.school&&this.school.id&&(a.schoolId=this.school.id),this.schoolIds&&this.schoolIds.length>0&&(a.schoolIds=this.schoolIds),this.$store.dispatch("getParticipantGroups",{filters:a,currentPage:t,perPage:this.perPage}).then(function(t){e.filterResponse(t,s)})},filterResponse:function(e,t){this.totalRows=e.totalCount,t&&(this.currentPage=1)},getSchoolNameById:function(e){var t=this.$store.getters.schools;if(void 0===t||null===t||t.length<1)return"";var s=t.find(function(t){return t.id===e});return void 0===s?"":s.name},getSex:function(e){if(!Array.isArray(e))return"";var t="";return e.includes(1)&&(t+="Mężczyzna"),e.length>1&&(t+=", "),e.includes(0)&&(t+="Kobieta"),t},getDisciplineTitleById:function(e){return void 0===this.disciplines||null===this.disciplines||this.disciplines.length<1?"":this.disciplines.find(function(t){return t.id===e}).title},getLessonCategoryTitleById:function(e){return void 0===this.lessonCategories||null===this.lessonCategories||this.lessonCategories.length<1?"":this.lessonCategories.find(function(t){return t.id===e}).title},getClassTitleById:function(e){return void 0===this.classes||null===this.classes||this.classes.length<1?"":this.classes.find(function(t){return t.id===e}).title},rowRedirect:function(e){this.$router.push({name:"participant.group",params:{tab:"main-data",id:e.id}})}},created:function(){this.filter(),this.$store.dispatch("getDisciplines"),this.$store.dispatch("getLessonCategories"),this.$store.dispatch("getClasses"),this.$store.dispatch("getSchools",{}),this.changeAdminNavbarButton({buttonLink:"participant.group",params:{tab:"main-data"}}),void 0===this.school&&void 0===this.schoolIds&&void 0===this.participant&&this.changeAdminNavbarBreadcrumbs([{text:"Lista zawodników",active:!0}])}},lt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"col-12 col-xl-8 col-lg-8 col-md-12 col-sm-12 mt-4"},[s("b-row",{staticClass:"justify-content-between align-items-center"},[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("b-form-group",{staticClass:"custom d-inline-block"},[s("b-form-checkbox-group",{attrs:{id:"checkbox-group-1",options:e.genderOptions,name:"flavour-1"},model:{value:e.selectedGender,callback:function(t){e.selectedGender=t},expression:"selectedGender"}})],1)],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"6",lg:"6",md:"12",sm:"12"}},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"input-1",placeholder:"Szukaj"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1),e._v(" "),s("b-col",{staticClass:"col-xl-8 col-lg-8 col-md-12 col-sm-12 mt-4"},[s("b-row",{staticClass:"justify-content-between align-items-center"},[s("b-col",{staticClass:"mb-2",attrs:{xl:"6",lg:"6",md:"12",sm:"12"}},[e.selectedSchools&&void 0===this.participant&&void 0===this.school?s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Szkoła / Klub",options:e.schoolsTreeselect},model:{value:e.selectedSchools,callback:function(t){e.selectedSchools=t},expression:"selectedSchools"}}):e._e()],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"6",lg:"6",md:"12",sm:"12"}},[e.selectedDisciplines?s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Dyscyplina",options:e.participantGroupDiscipline},model:{value:e.selectedDisciplines,callback:function(t){e.selectedDisciplines=t},expression:"selectedDisciplines"}}):e._e()],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"6",lg:"6",md:"12",sm:"12"}},[e.selectedLessonCategories?s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Kategoria",options:e.participantGroupLessonCategory},model:{value:e.selectedLessonCategories,callback:function(t){e.selectedLessonCategories=t},expression:"selectedLessonCategories"}}):e._e()],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"6",lg:"6",md:"12",sm:"12"}},[e.selectedClasses?s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Klasa",options:e.participantGroupClass},model:{value:e.selectedClasses,callback:function(t){e.selectedClasses=t},expression:"selectedClasses"}}):e._e()],1)],1)],1),e._v(" "),s("b-col",{staticClass:"col-xl-8 col-lg-8 col-md-12 col-sm-12 mt-4"},[s("b-row",{staticClass:"justify-content-end mb-3"},[s("b-btn",{staticClass:"mr-3",attrs:{variant:"primary"},on:{click:function(t){return e.filter(1,!0)}}},[e._v("Filtruj")])],1),e._v(" "),s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm","aria-controls":"history-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),e._v(" "),s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.participantGroups,fields:e.fields,"per-page":e.perPage,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.rowRedirect},scopedSlots:e._u([{key:"discipline",fn:function(t){return[s("span",[e._v(e._s(e.getDisciplineTitleById(t.item.discipline.id)))])]}},{key:"sex",fn:function(t){return[s("span",[e._v(e._s(e.getSex(t.item.sex)))])]}},{key:"lessonCategory",fn:function(t){return[s("span",[e._v(e._s(e.getLessonCategoryTitleById(t.item.lessonCategory.id)))])]}},{key:"class",fn:function(t){return[s("span",[e._v(e._s(e.getClassTitleById(t.item.class.id)))])]}},{key:"school",fn:function(t){return[s("span",[e._v(e._s(e.getSchoolNameById(t.item.school.id)))])]}},{key:"status",fn:function(t){return[s("span",{staticClass:"status",class:{active:t.item.active}},[e._v(e._s(1==t.item.active?"aktywny":"nieaktywny"))])]}},{key:"edit",fn:function(e){return[s("b-link",{staticClass:"icon-link"},[s("span",{staticClass:"icon icon-iconm_search"})])]}}])})],1)],1)],1)},staticRenderFns:[]};var ut=s("VU/8")(ct,lt,!1,function(e){s("YEAg")},"data-v-116ec14a",null).exports,dt=s("mvHQ"),pt=s.n(dt),mt=s("woOf"),ht=s.n(mt),ft={name:"FormMixin",mixins:[Se.a],data:function(){return{id:this.$route.params.id,loading:!1,mixinImage:null,allowedImageTypes:["image/jpeg","image/jpg","image/png"]}},methods:{preSubmit:function(){return this.loading=!0,this.$validator.validateScopes()},checkValidForm:function(){return this.$validator.validateScopes()},postSubmitRedirect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Dane zostały zapisane",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success";this.loading=!1,this.$router.push({name:e,params:{initToastText:t,initToastVariant:s}})},postSubmitError:function(e){this.loading=!1,e.hasOwnProperty("data")&&e.data.hasOwnProperty("error")?this.showToast(e.data.error,"Uwaga","danger"):this.showToast("Wystąpil błąd","Uwaga","danger")},deleteFromForm:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"daną pozycję",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};z.a.$emit("SHOW_CONFIRM_DELETE_MODAL",e,t,s,a,i,n)}}},vt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"border border-dark p-3 mb-3"},[s("p",[e._v("Jeśli nie wiesz jaka to dzielnica wykonaj następujące czynności:")]),e._v(" "),s("p",[s("strong",[e._v("1. Wejdź na "),s("a",{attrs:{target:"_blank",href:"https://geoportal.lublin.eu/sipl/app/index#"}},[e._v("tę stronę")])])]),e._v(" "),s("p",[s("strong",[e._v("2. Przejdź do zakładki ZNAJDŹ ADRES")])]),e._v(" "),s("p",[e._v("-> wybierz ulicę -> punkt adresowy (numer budynku)")]),e._v(" "),s("p",[s("strong",[e._v("3. Przejdź do zakładki WARSTWY MAPY")])]),e._v(" "),s("p",[e._v("-> warstwy podkładkowe: fotoplan 2014")]),e._v(" "),s("p",[e._v("-> warstwy tematyczne: dane geodezyjne: granice dzielnic")])])}]};var bt=s("VU/8")({name:"DistrictSearch",data:function(){return{id:this.$route.params.id}},computed:{},methods:{},created:function(){}},vt,!1,function(e){s("TAPq")},"data-v-9ca0b302",null).exports,gt={name:"FormMainData",props:["school","districts"],components:{DistrictSearch:bt,Treeselect:r.a,ImageInputAdvanced:De},mixins:[F,ft],data:function(){return{}},methods:{submit:function(e){var t=this;e?this.preSubmit().then(function(e){e?(t.loading=!1,t.$parent.submit()):t.loading=!1}):this.$parent.submit()},afterCropImage:function(e){this.school.image=e},goToFormTab:function(e){this.$parent.goToFormTab(e)}},mounted:function(){this.$route.params.validateForm&&this.checkValidForm()},created:function(){this.changeAdminNavbarButton({buttonLink:!1})}},yt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"3"}},[s("h2",[e._v("Zdjęcie")]),e._v(" "),e.school?s("ImageInputAdvanced",{attrs:{imgPath:e.school.image,"min-aspect-ratio":1,"max-aspect-ratio":1.25,"min-height":100,"min-width":100,"max-height":5e3,"max-width":5e3},on:{afterCropImage:e.afterCropImage}}):e._e()],1),e._v(" "),s("b-col",{attrs:{cols:"12",lg:"5"}},[s("h2",{staticClass:"mb-4"},[e._v("Aktywuj")]),e._v(" "),s("b-form-group",e._l([{title:"Tak",value:!0},{title:"Nie",value:!1}],function(t,a){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.active"+a,staticClass:"d-inline-block mr-3",class:{"error-input-custom":e.veeErrors.has("school.active")},attrs:{value:t.value,name:"school.active"},model:{value:e.school.active,callback:function(t){e.$set(e.school,"active",t)},expression:"school.active"}},[e._v("\n          "+e._s(t.title)+"\n        ")])}),1),e._v(" "),s("h2",{staticClass:"my-4"},[e._v("Dane ogólne")]),e._v(" "),s("b-form-group",e._l([{title:"Klub",value:0},{title:"Szkoła",value:1}],function(t,a){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.type"+a,staticClass:"d-inline-block mr-3",class:{"error-input-custom":e.veeErrors.has("school.type")},attrs:{value:t.value,name:"school.type"},model:{value:e.school.type,callback:function(t){e.$set(e.school,"type",t)},expression:"school.type"}},[e._v("\n          "+e._s(t.title)+"\n        ")])}),1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.name",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.name")},attrs:{id:"input-1",placeholder:"Nazwa",name:"school.name"},model:{value:e.school.name,callback:function(t){e.$set(e.school,"name",t)},expression:"school.name"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,email:!0},expression:"{'required':true, 'email':true}"}],key:"school.email",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.email")},attrs:{id:"input-1",placeholder:"E-mail",name:"school.email"},model:{value:e.school.email,callback:function(t){e.$set(e.school,"email",t)},expression:"school.email"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.phone",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.phone")},attrs:{id:"input-1",placeholder:"Telefon",name:"school.phone"},model:{value:e.school.phone,callback:function(t){e.$set(e.school,"phone",t)},expression:"school.phone"}})],1),e._v(" "),s("h2",{staticClass:"my-4"},[e._v("Lokalizacja")]),e._v(" "),s("DistrictSearch"),e._v(" "),s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.district",staticClass:"custom mb-3",class:{"error-input-custom":e.veeErrors.has("school.district")},attrs:{multiple:!1,placeholder:"Dzielnica",options:e.districts,name:"school.district"},model:{value:e.school.district,callback:function(t){e.$set(e.school,"district",t)},expression:"school.district"}}),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.address",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.address")},attrs:{id:"input-1",placeholder:"Adres",name:"school.address"},model:{value:e.school.address,callback:function(t){e.$set(e.school,"address",t)},expression:"school.address"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.postcode",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.postcode")},attrs:{id:"input-1",placeholder:"Kod pocztowy",name:"school.postcode"},model:{value:e.school.postcode,callback:function(t){e.$set(e.school,"postcode",t)},expression:"school.postcode"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.openHours",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.openHours")},attrs:{id:"input-1",placeholder:"Godziny otwarcia",name:"school.openHours"},model:{value:e.school.openHours,callback:function(t){e.$set(e.school,"openHours",t)},expression:"school.openHours"}})],1),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.school.comments,expression:"school.comments"}],key:"school.comments",staticClass:"custom w-100",class:{"error-input-custom":e.veeErrors.has("school.comments")},attrs:{placeholder:"Uwagi",name:"school.comments","v-validate":"required"},domProps:{value:e.school.comments},on:{input:function(t){t.target.composing||e.$set(e.school,"comments",t.target.value)}}}),e._v(" "),s("h2",{staticClass:"my-4"},[e._v("Osoba do kontaktu")]),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.personToContactFullName",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.personToContactFullName")},attrs:{id:"input-1",placeholder:"Imię i Nazwisko",name:"school.personToContactFullName"},model:{value:e.school.personToContactFullName,callback:function(t){e.$set(e.school,"personToContactFullName",t)},expression:"school.personToContactFullName"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.personToContactPhone",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.personToContactPhone")},attrs:{id:"input-1",placeholder:"Telefon",name:"school.personToContactPhone"},model:{value:e.school.personToContactPhone,callback:function(t){e.$set(e.school,"personToContactPhone",t)},expression:"school.personToContactPhone"}})],1),e._v(" "),s("b-row",{staticClass:"mt-4"},[s("div",{staticClass:"col"},[s("b-btn",{staticClass:"custom",attrs:{variant:"delete"},on:{click:function(t){return e.deleteFromForm("deleteSchool",e.school.id,void 0,"schools.and.clubs",{tab:"confirmed"})}}},[e._v("\n            Usuń\n          ")]),e._v(" "),s("b-link",{staticClass:"custom btn",attrs:{block:"",to:{name:"schools.and.clubs",params:{tab:"confirmed"}}}},[e._v("\n            Anuluj\n          ")])],1),e._v(" "),s("b-col",[s("b-btn",{staticClass:"custom",attrs:{block:""},on:{click:function(t){return e.submit(!0)}}},[e._v("\n            Zapisz\n          ")])],1),e._v(" "),s("b-col",[s("b-btn",{staticClass:"custom",attrs:{block:"",variant:"primary"},on:{click:function(t){return e.goToFormTab("places")}}},[e._v("\n            Dalej\n          ")])],1)],1)],1)],1)},staticRenderFns:[]};var _t=s("VU/8")(gt,yt,!1,function(e){s("IR1H")},"data-v-e8e2f590",null).exports,kt={name:"FormPlaces",props:["school","isValidForm","districts"],components:{DistrictSearch:bt,Treeselect:r.a,ImageInputAdvanced:De},mixins:[F,ft],data:function(){return{places:[],placesToDelete:[],placeDefault:{active:1,confirmed:null,type:{id:null},name:"",district:null,address:"",postcode:"",mapImg:""}}},computed:{sportObjectTypesPrepared:function(){var e=this.$store.getters.sportObjectTypes,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return console.log(t),t}},methods:{addPlace:function(){this.$parent.addPlace(this.placeDefault)},removePlace:function(e){this.$parent.removePlace(e)},submit:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.preSubmit().then(function(t){t?(e.loading=!1,e.$parent.submit()):e.loading=!1}):this.$parent.submit()},submitSetConfirm:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?this.isValidForm?(this.school.confirmed=e,this.submit(t)):this.$parent.goToFormTab("main-data",{validateForm:!0}):(this.school.confirmed=e,this.submit(t))}},created:function(){this.$store.dispatch("getSportObjectTypes"),this.changeAdminNavbarButton({buttonLink:!1})}},Ct={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"6"}},[s("DistrictSearch"),e._v(" "),e._l(e.school.places,function(t,a){return e.school.places?s("div",{key:a,staticClass:"row"},[s("div",{staticClass:"col-1"},[s("div",{staticClass:"text-center custom-class"},[s("p",{staticClass:"m-auto"},[e._v(e._s(a+1))])]),e._v(" "),e.school.places.length>0&&void 0===t.id?s("p",{on:{click:function(t){return e.removePlace(a)}}},[e._v("usuń")]):e._e()]),e._v(" "),s("div",{staticClass:"col-11 pl-4"},[s("h2",{staticClass:"mb-4"},[e._v("Dane ogólne")]),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"place.title"+a,staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("place.title"+a)},attrs:{id:"input-1",placeholder:"Nazwa",name:"place.title"+a},model:{value:t.title,callback:function(s){e.$set(t,"title",s)},expression:"place.title"}})],1),e._v(" "),e.school.places[a].type?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"sportObject.type",staticClass:"custom mb-3",class:{"error-input-custom":e.veeErrors.has("sportObject.type")},attrs:{multiple:!1,placeholder:"Typ",options:e.sportObjectTypesPrepared,name:"sportObject.type"},model:{value:e.school.places[a].type.id,callback:function(t){e.$set(e.school.places[a].type,"id",t)},expression:"school.places[index].type.id"}}):e._e(),e._v(" "),s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"place.district"+a.toString(),staticClass:"custom mb-3",class:{"error-input-custom":e.veeErrors.has("place.district"+a.toString())},attrs:{multiple:!1,placeholder:"Dzielnica",options:e.districts,name:"place.district"+a.toString()},model:{value:t.district,callback:function(s){e.$set(t,"district",s)},expression:"place.district"}}),e._v(" "),s("h2",{staticClass:"my-4"},[e._v("Lokalizacja")]),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"place.address"+a,staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("place.address"+a)},attrs:{id:"input-1",placeholder:"Adres",name:"place.address"+a},model:{value:t.address,callback:function(s){e.$set(t,"address",s)},expression:"place.address"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"place.postcode"+a,staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("place.postcode"+a)},attrs:{id:"input-1",placeholder:"Kod pocztowy",name:"place.postcode"+a},model:{value:t.postcode,callback:function(s){e.$set(t,"postcode",s)},expression:"place.postcode"}})],1)],1)]):e._e()})],2)],1),e._v(" "),s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"6"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-1"},[s("div",{staticClass:"text-center custom-class"},[e.school.places?s("p",{staticClass:"m-auto"},[e._v(e._s(e.school.places.length+1))]):e._e()])]),e._v(" "),s("div",{staticClass:"col-11 pl-4"},[s("b-btn",{staticClass:"w-50",attrs:{variant:"primary"},on:{click:e.addPlace}},[e._v("Dodaj")])],1)])])],1),e._v(" "),s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"6"}},[s("b-row",{staticClass:"mt-4"},[s("b-col",[s("b-btn",{staticClass:"custom",attrs:{variant:"outline-primary"}},[e._v("\n              Usuń\n            ")])],1),e._v(" "),s("b-col",[s("b-link",{staticClass:"custom btn",attrs:{block:"",to:{name:"schools.and.clubs",params:{tab:"confirmed"}}}},[e._v("\n              Anuluj\n            ")])],1),e._v(" "),s("b-col",[s("b-btn",{staticClass:"custom",attrs:{block:""},on:{click:e.submit}},[e._v("\n              Zapisz\n            ")])],1),e._v(" "),e.school.confirmed?e._e():s("b-col",[s("b-btn",{staticClass:"custom",attrs:{block:"",variant:"primary"},on:{click:function(t){return e.submitSetConfirm(1,!0)}}},[e._v("\n              Zatwierdź\n            ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var wt=s("VU/8")(kt,Ct,!1,function(e){s("n/aS")},"data-v-12e440e8",null).exports,xt=s("fZjL"),$t=s.n(xt),Tt={name:"LeaderMixin",data:function(){return{}},methods:{prepareLeaderPermissions:function(e){},checkDisciplineExists:function(e,t){return void 0!==e.disciplines.find(function(e){return t.includes(parseInt(e.id))})},checkSportObjectExists:function(e,t){return void 0!==e.places.find(function(e){return t.includes(parseInt(e.id))})},getDisciplineTitleById:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(void 0===this.disciplines||null===this.disciplines)return"";var a=this.disciplines.find(function(t){return t.id===e});return void 0===a?"":a.title+(t+1<s?",":"")},getPlaceTitleById:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(void 0===this.sportObjects||null===this.sportObjects)return"";var a=this.sportObjects.find(function(t){return t.id===e});return void 0===a?"":a.title+(t+1<s?",":"")}},computed:{leadersFiltered:function(){var e=this.leaders||[],t=[],s=this.filters.search||"",a=this.filters.selectedDisciplines||[],i=this.filters.selectedSportObjects||[];for(var n in e)if(void 0!==e[n]&&null!==e[n]){var o=e[n].firstName||"",r=e[n].lastName||"",c=o.toLowerCase()+r.toLowerCase();s.length>0&&-1===c.indexOf(s.toLowerCase())||a.length>0&&!this.checkDisciplineExists(e[n],a)||i.length>0&&!this.checkSportObjectExists(e[n],i)||t.push(e[n])}return t}}},St={name:"ListToConfirm",props:["filters","isConfirmed","idsToPass","fieldsParams","parentType","statusSlot","forSchool"],mixins:[Tt,et],data:function(){return{fields:[{key:"fullName",label:"Imię i Nazwisko",sortable:!0},{key:"disciplines",label:"Dyscyplina",sortable:!0},{key:"lessons",label:"Zajęcia",sortable:!0},{key:"status",label:this.statusSlot?this.statusSlot.columnWord:"Status w systemie",sortable:!0},{key:"btnTable",label:"",sortable:!0},{key:"edit",label:""}]}},computed:L()({},Object(I.c)(["disciplines","sportObjects","lessons"]),{leadersConfirmed:function(){return this.$store.getters.leadersConfirmed},leaders:function(){var e=[],t="all"===this.isConfirmed?this.$store.getters.leaders:this.isConfirmed?this.$store.getters.leadersConfirmed:this.$store.getters.leadersToConfirm,s=[];for(var a in t)if(this.statusSlot){var i=$t()(this.statusSlot.ids),n=t[a];i.includes(t[a].id.toString())&&(n.schoolStatus=this.statusSlot.ids[t[a].id],s.push(n))}else s.push(t[a]);if(void 0===this.idsToPass)e=s;else for(var o in s)this.idsToPass.includes(parseInt(s[o].id))&&e.push(s[o]);return e},isDirector:function(){return this.$store.getters.isDirector}}),methods:{getLessonsLength:function(e){if(void 0===this.forSchool)return e.length;var t=[],s=e&&e.length>0?e.map(function(e){return e.id}):[],a=this.$store.getters.lessons||[];for(var i in a)s.includes(a[i].id)&&t.push(1);return t.length},changeLeaderStatus:function(e,t){void 0!==this.statusSlot?this.$emit(this.statusSlot.event,{id:e,status:t}):this.$store.dispatch("putLeader",{id:e,active:t,actionType:"changeStatus"})},rowRedirect:function(e){this.isDirector&&this.$router.push({name:"leader",params:{tab:"main-data",id:e.id,isConfirmed:!1,schoolName:void 0===this.statusSlot?null:this.statusSlot.schoolName,schoolId:void 0===this.statusSlot?null:this.statusSlot.schoolId}})},confirmItem:function(e){var t=this;this.$store.dispatch("putLeader",{id:e,confirmed:1}).then(function(e){t.$store.dispatch("getLeaders",{confirmed:0})})}},created:function(){"all"===this.isConfirmed?(this.$store.dispatch("getLeaders",{confirmed:0}),this.$store.dispatch("getLeaders",{confirmed:1})):this.$store.dispatch("getLeaders",{confirmed:this.isConfirmed?1:0})}},Pt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[e._v("\n  "+e._s(e.fieldsParams)+"\n  "),s("b-col",{staticClass:"col-xl-8 col-lg-8 col-md-12 col-sm-12"},[s("b-table",{ref:"leader-table",staticClass:"custom table-responsive",attrs:{items:e.leadersFiltered,fields:e.fields,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.rowRedirect},scopedSlots:e._u([{key:"fullName",fn:function(t){return[s("span",[e._v(e._s(t.item.firstName+" "+t.item.lastName))])]}},{key:"disciplines",fn:function(t){return[s("span"),e._v(" "),e._l(t.item.disciplines,function(a,i){return s("span",{key:i,staticClass:"d-inline"},[e._v("\n          "+e._s(e.getDisciplineTitleById(a.id,i,t.item.disciplines.length))+"\n        ")])})]}},{key:"lessons",fn:function(t){return[s("span",[e._v(e._s(e.getLessonsLength(t.item.lessons)))])]}},{key:"status",fn:function(t){return[e.$store.getters.isAdmin||e.$store.getters.isDirector?[s("b-dropdown",{staticClass:"status-dropdown",scopedSlots:e._u([void 0===e.statusSlot?{key:"button-content",fn:function(){return[s("span",{staticClass:"status c-pointer",class:{active:t.item.active}},[e._v("\n                "+e._s(1==t.item.active?"aktywny":"nieaktywny")+"\n              ")])]},proxy:!0}:{key:"button-content",fn:function(){return[s("span",{staticClass:"status c-pointer",class:{active:t.item.schoolStatus}},[e._v("\n                "+e._s(!0===t.item.schoolStatus?"aktywny":"nieaktywny")+"\n              ")])]},proxy:!0}],null,!0)},[e._v(" "),s("b-dropdown-item",{attrs:{disabled:void 0===e.statusSlot?t.item.active:t.item.schoolStatus},on:{click:function(s){return e.changeLeaderStatus(t.item.id,1)}}},[e._v("\n              Aktywuj\n            ")]),e._v(" "),s("b-dropdown-item",{attrs:{disabled:void 0===e.statusSlot?!t.item.active:!t.item.schoolStatus},on:{click:function(s){return e.changeLeaderStatus(t.item.id,0)}}},[e._v("\n              Dezaktywuj\n            ")])],1),e._v(" "),void 0!==e.statusSlot?s("div",{staticClass:"mt-1"},[s("span",[e._v("Status w systemie: ")]),e._v(" "),s("br"),e._v(" "),s("span",{staticClass:"status mb-2",class:{active:t.item.active}},[e._v("\n          "+e._s(1==t.item.active?"aktywny":"nieaktywny")+"\n        ")])]):e._e()]:[s("span",{staticClass:"status c-pointer",class:{active:t.item.active}},[e._v("\n                "+e._s(1==t.item.active?"aktywny":"nieaktywny")+"\n              ")])]]}},{key:"btnTable",fn:function(t){return e.isConfirmed?void 0:[s("b-btn",{staticClass:"custom mb-0",attrs:{variant:"primary",size:"sm"},on:{click:function(s){return e.confirmItem(t.item.id)}}},[e._v("\n          Zatwierdź\n        ")])]}},{key:"edit",fn:function(e){return[s("b-link",{staticClass:"icon-link"},[s("span",{staticClass:"icon icon-iconm_search"})])]}}],null,!0)})],1)],1)},staticRenderFns:[]};var jt=s("VU/8")(St,Pt,!1,function(e){s("kBqv")},"data-v-3bf6c595",null).exports,Dt={name:"FormLeaders",props:["school"],components:{LeaderTable:jt,Treeselect:r.a},mixins:[F,Se.a],data:function(){return{id:this.$route.params.id,selectedLeaders:[],selectedDisciplines:[],selectedSportObjects:[],search:""}},computed:L()({},Object(I.c)(["leaders","disciplines","sportObjects","lessons"]),{leadersTreeselect:function(){var e=this,t=[],s=function(s){var a=!1;e.school.schoolsUsers&&e.school.schoolsUsers.length>0&&(a=e.school.schoolsUsers.find(function(t){return t.user.id===e.leaders[s].id})),void 0!==a&&!1!==a||t.push({id:e.leaders[s].id,label:e.leaders[s].email})};for(var a in this.leaders)s(a);return t},disciplinesTreeselect:function(){var e=[];for(var t in this.disciplines)e.push({id:this.disciplines[t].id,label:this.disciplines[t].title});return e},sportObjectsTreeselect:function(){var e=[];for(var t in this.sportObjects)e.push({id:this.sportObjects[t].id,label:this.sportObjects[t].title});return e},leadersIdsToPass:function(){var e=this.school.schoolsUsers||[],t=[];for(var s in e)0===parseInt(e[s].role)&&1===parseInt(e[s].user.role)&&t.push(e[s].user.id);return t},statusSlot:function(){var e={},t={},s=this.school.schoolsUsers||[];for(var a in s)0===parseInt(s[a].role)&&1===parseInt(s[a].user.role)&&(t[s[a].user.id]=s[a].status);return e.ids=t,e.columnWord="Status dla szkoły / klubu",e.event="school-leader-change-status",e.schoolName=this.school.name,e.schoolId=this.school.id,e}}),methods:{acceptLeaderInvitation:function(e){var t=this,s={id:this.$route.params.id,leaders:[e]};this.$store.dispatch("putSchool",s).then(function(e){t.$parent.updateSchool(),t.$store.dispatch("getLeaders",{confirmed:0,forLesson:!0}),t.$store.dispatch("getLeaders",{confirmed:1,forLesson:!0})})},getStatusPersonInSchool:function(e){return this.school.schoolsUsers.find(function(t){return parseInt(t.user.id)===parseInt(e.id)}).status},openLeadersModal:function(){this.$refs.leaderModal&&this.$refs.leaderModal.show()},submit:function(){var e=this,t={id:this.$route.params.id,leaders:this.selectedLeaders};this.$store.dispatch("putSchool",t).then(function(t){e.$parent.updateSchool(),e.selectedLeaders=[]}).catch(function(t){console.log(t),t&&t.data&&t.data.error?e.showToast(t.data.error,"Uwaga!","danger"):e.showToast("Wystąpił błąd","Uwaga!","danger")}),this.$refs.leaderModal.hide()}},mounted:function(){this.changeAdminNavbarButton({eventBusMethod:"OPEN_SCHOOLS_LEADERS_MODAL"})},created:function(){var e=this;this.$store.dispatch("getLessons",{filters:{lesson:{schoolsAndClubs:[this.id]}}}),this.$store.dispatch("getDisciplines"),this.$store.dispatch("getSportObjects"),this.$store.dispatch("getLeaders",{confirmed:1,forLesson:!0}),z.a.$on("OPEN_SCHOOLS_LEADERS_MODAL",function(t){e.openLeadersModal()});var t=[{text:"Kłuby i szkoły",to:{name:"schools.and.clubs",params:{tab:"confirmed"}}},{text:this.id?1===parseInt(this.school.type)?"Szkoła":"Klub":"Nowy",active:!0}];this.changeAdminNavbarBreadcrumbs(t)}},Lt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrap"},[e.school&&e.school.invitations&&e.school.invitations.length>0?s("b-row",{staticClass:"justify-content-center mb-4"},[s("b-col",{staticClass:"col-xl-8 col-lg-8 col-md-12 col-sm-12"},[s("h5",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-invitations",modifiers:{"collapse-invitations":!0}}],staticClass:"c-pointer"},[s("span",{staticClass:"mr-3"},[e._v("^")]),e._v("Aplikacje prowadzących\n      ")]),e._v(" "),s("b-collapse",{staticClass:"mt-2",attrs:{visible:"",id:"collapse-invitations"}},e._l(e.school.invitations,function(t,a){return s("div",{key:a,staticClass:"row justify-content-between mb-2 align-items-center"},[s("div",{staticClass:"col-9"},[s("p",{staticClass:"mb-0"},[e._v(e._s(a+1)+". "+e._s(t.leader.firstName)+" "+e._s(t.leader.lastName)+"\n              ("+e._s(t.leader.email)+")")])]),e._v(" "),s("div",{staticClass:"col-3 text-right"},[!1===t.active?s("b-btn",{staticClass:"custom mb-0",attrs:{variant:"primary"},on:{click:function(s){return e.acceptLeaderInvitation(t.leader.id)}}},[e._v("\n              Zatwierdź\n            ")]):s("span",{staticClass:"status active"},[e._v("zatwierdzony")])],1)])}),0)],1)],1):e._e(),e._v(" "),s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"col-xl-8 col-lg-8 col-md-12 col-sm-12"},[s("b-row",{staticClass:"align-items-center mb-3"},[s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Dyscyplina",options:e.disciplinesTreeselect},model:{value:e.selectedDisciplines,callback:function(t){e.selectedDisciplines=t},expression:"selectedDisciplines"}})],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Obiekt",options:e.sportObjectsTreeselect},model:{value:e.selectedSportObjects,callback:function(t){e.selectedSportObjects=t},expression:"selectedSportObjects"}})],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"input-1",placeholder:"Szukaj"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1)],1),e._v(" "),s("leader-table",{key:e.$route.params.tab,ref:"leaderComponent",attrs:{"is-confirmed":"all","ids-to-pass":e.leadersIdsToPass,"status-slot":e.statusSlot,forSchool:!0,filters:{selectedDisciplines:e.selectedDisciplines,selectedSportObjects:e.selectedSportObjects,search:e.search}},on:{"school-leader-change-status":e.$parent.changeSchoolLeaderStatus}}),e._v(" "),s("b-modal",{ref:"leaderModal",attrs:{centered:"",title:"Dodaj prowadzącego","hide-footer":"",size:"lg"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Prowadzący",options:e.leadersTreeselect},model:{value:e.selectedLeaders,callback:function(t){e.selectedLeaders=t},expression:"selectedLeaders"}}),e._v(" "),s("b-row",{staticClass:"mt-2"},[s("b-col",[s("b-btn",{staticClass:"w-25 float-right",attrs:{variant:"primary"},on:{click:e.submit}},[e._v("Zapisz")])],1)],1)],1)],1)},staticRenderFns:[]};var zt=s("VU/8")(Dt,Lt,!1,function(e){s("MGGt")},"data-v-92670452",null).exports,Ft={name:"FormParticipantGroups",components:{ParticipantGroups:ut},props:["school"]},It={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("ParticipantGroups",{attrs:{school:this.school}})],1)},staticRenderFns:[]};var Nt=s("VU/8")(Ft,It,!1,function(e){s("MUfn")},"data-v-a87ccfb0",null).exports,Et={name:"ParticipantMixin",data:function(){return{}},methods:{},computed:{participantList:function(){var e=this.participants||[],t=[],s=this.search||"",a=(this.selectedClasses,this.yearValue||[]),i=this.selectedGender||[];for(var n in e)if(void 0!==e[n]&&null!==e[n]){var o=e[n].firstName||"",r=e[n].lastName||"",c=o.toLowerCase()+r.toLowerCase();s.length>0&&-1===c.indexOf(s.toLowerCase())||a.length>0&&!a.includes(parseInt(e[n].year))||i.length>0&&!i.includes(parseInt(e[n].sex))||t.push(e[n])}return console.log(t),t},classesTreeselect:function(){var e=this.$store.getters.classes,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t},schoolsTreeselect:function(){var e=this.$store.getters.schools,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].name});return t},disciplinesTreeselect:function(){var e=this.disciplines,t=[];for(var s in e)-1===this.selectedDisciplinesIds.indexOf(e[s].id)?t.push({id:e[s].id,label:e[s].title}):t.push({id:e[s].id,label:e[s].title,isDisabled:!0});return t},participantCategory:function(){var e=this.$store.getters.lessonCategories,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t},participantClass:function(){var e=this.$store.getters.classes,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t}}},Ot={components:{Treeselect:r.a},props:["participant","statusSlot","school","schoolIds","lesson","disableNavButton"],mixins:[F,Et,Se.a],data:function(){return{currentPage:1,perPage:20,totalRows:0,fields:[{key:"firstName",label:"Imię",sortable:!0},{key:"lastName",label:"Nazwisko",sortable:!0},{key:"sex",label:"Płeć",sortable:!0},{key:"year",label:"Rocznik",sortable:!0},{key:"enterDate",label:"Data wpisu",sortable:!0},{key:"removeDate",label:"Data wypisania",sortable:!0},{key:"status",label:this.statusSlot?this.statusSlot.columnWord:"Status w systemie",sortable:!0},{key:"edit",label:""}],selectedGender:[],genderOptions:[{text:"kobieta",value:0},{text:"mężczyzna",value:1}],yearValue:null,years:c.j,selectedClasses:[],search:""}},computed:{classes:function(){return this.$store.getters.classes},participantList:function(){var e=this.$store.getters.participants;console.log(e);var t=[];for(var s in e)if(void 0!==e[s]&&null!==e[s])if(this.statusSlot){var a=$t()(this.statusSlot.ids),i=e[s];a.includes(e[s].id.toString())&&(i.status=this.statusSlot.ids[e[s].id],t.push(i))}else t.push(e[s]);return console.log(t),t}},watch:{currentPage:function(e){this.filter(e)}},methods:{filter:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={search:this.search||"",selectedGender:this.selectedGender||[],yearValue:this.yearValue||[]};this.lesson&&this.lesson.participantGroup&&this.lesson.participantGroup.id&&(a.participantGroupId=this.lesson.participantGroup.id),this.school&&this.school.id&&(a.schoolId=this.school.id),this.schoolIds&&this.schoolIds.length>0&&(a.schoolIds=this.schoolIds),this.statusSlot&&this.statusSlot.ids&&(a.participantIds=$t()(this.statusSlot.ids)),this.$store.dispatch("getParticipants",{filters:a,currentPage:t,perPage:this.perPage}).then(function(t){e.filterResponse(t,s)})},filterResponse:function(e,t){this.totalRows=e.totalCount,t&&(this.currentPage=1)},changeParticipantStatus:function(e,t){var s=this;console.log(this.statusSlot),console.log(t),void 0!==this.statusSlot?this.$emit(this.statusSlot.event,{id:e,status:t}):this.$store.dispatch("putParticipant",{id:e,active:t,actionType:"put-partly"}).catch(function(e){s.showToast(e.data.error,"Wystąpil błąd")})},getClassTitleById:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(void 0===this.classes||null===this.classes)return"";var a=this.classes.find(function(t){return t.id===e});return void 0===a?"":a.title+(t+1<s?",":"")},rowRedirect:function(e){this.$router.push({name:"participant",params:{tab:"main-data",id:e.id}})}},created:function(){this.filter(),this.$store.dispatch("getClasses"),void 0===this.disableNavButton&&this.changeAdminNavbarButton({buttonLink:"participant",params:{tab:"main-data"}}),void 0===this.statusSlot&&void 0===this.school&&void 0===this.schoolIds&&void 0===this.lesson&&this.changeAdminNavbarBreadcrumbs([{text:"Zawodnicy",active:!0}])}},At={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"col-12 col-xl-8 col-lg-8 col-md-12 col-sm-12 mt-4"},[s("b-row",{staticClass:"justify-content-center align-items-center"},[s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("b-form-group",{staticClass:"custom d-inline-block"},[s("b-form-checkbox-group",{attrs:{id:"111",options:e.genderOptions,name:"111"},model:{value:e.selectedGender,callback:function(t){e.selectedGender=t},expression:"selectedGender"}})],1)],1),e._v(" "),s("b-col",{staticClass:"col-12 col-xl-8 col-lg-8 col-md-12 col-sm-12 mt-4"},[s("b-row",{staticClass:"align-items-center"},[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Rocznik",options:e.years},model:{value:e.yearValue,callback:function(t){e.yearValue=t},expression:"yearValue"}})],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"input-1",placeholder:"Szukaj"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1)],1)],1),e._v(" "),s("b-col",{staticClass:"col-12 col-xl-8 col-lg-8 col-md-12 col-sm-12 mt-4"},[s("b-row",{staticClass:"justify-content-end mb-3"},[s("b-btn",{staticClass:"mr-3",attrs:{variant:"primary"},on:{click:function(t){return e.filter(1,!0)}}},[e._v("Filtruj")])],1),e._v(" "),s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm","aria-controls":"history-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),e._v(" "),s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.participantList,fields:e.fields,"per-page":e.perPage,striped:"","sort-icon-left":"",responsive:"md"},scopedSlots:e._u([{key:"sex",fn:function(t){return[s("span",[e._v(e._s(1===t.item.sex?"Mężczyzna":"Kobieta"))])]}},{key:"enterDate",fn:function(t){return[s("span",[e._v(e._s(t.item.enterDate))])]}},{key:"status",fn:function(t){return[s("b-dropdown",{staticClass:"status-dropdown",scopedSlots:e._u([void 0===e.statusSlot?{key:"button-content",fn:function(){return[s("span",{staticClass:"status c-pointer",class:{active:t.item.active}},[e._v("\n                "+e._s(1==t.item.active?"aktywny":"nieaktywny")+"\n              ")])]},proxy:!0}:{key:"button-content",fn:function(){return[s("span",{staticClass:"status c-pointer",class:{active:t.item.status}},[e._v("\n                "+e._s(1==t.item.status?"aktywny":"nieaktywny")+"\n              ")])]},proxy:!0}],null,!0)},[e._v(" "),s("b-dropdown-item",{attrs:{disabled:void 0===e.statusSlot?t.item.active:t.item.status},on:{click:function(s){return e.changeParticipantStatus(t.item.id,1)}}},[e._v("\n              Aktywuj\n            ")]),e._v(" "),s("b-dropdown-item",{attrs:{disabled:void 0===e.statusSlot?!t.item.active:!t.item.status},on:{click:function(s){return e.changeParticipantStatus(t.item.id,0)}}},[e._v("\n              Dezaktywuj\n            ")])],1)]}},{key:"edit",fn:function(t){return[s("span",{staticClass:"ml-2 c-pointer",on:{click:function(s){return e.rowRedirect(t.item)}}},[e._v("Więcej info")]),e._v(" "),s("b-link",{staticClass:"icon-link"},[s("span",{staticClass:"icon icon-iconm_search"})])]}}])})],1)],1)],1)},staticRenderFns:[]};var Mt=s("VU/8")(Ot,At,!1,function(e){s("7954")},"data-v-b857c5c0",null).exports,qt={name:"FormParticipants",components:{ParticipantList:Mt},props:["school"]},Rt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("ParticipantList",{attrs:{school:this.school}})],1)},staticRenderFns:[]};var Gt=s("VU/8")(qt,Rt,!1,function(e){s("tzok")},"data-v-108f2c8c",null).exports,Ut={name:"FormCalendar",props:["participantGroup"],components:{Calendar:O},computed:{storeLessons:function(){return this.$store.getters.lessons}},created:function(){this.$store.dispatch("getLessons",{filters:{participantGroups:[this.participantGroup]}})}},Bt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("Calendar",{ref:"mainCalendar",attrs:{"split-components":this.participantGroup,lessons:this.storeLessons,showLessons:[1]}})],1)},staticRenderFns:[]};var Vt=s("VU/8")(Ut,Bt,!1,function(e){s("rfJ8")},"data-v-a21d3484",null).exports,Yt=s("Gu7T"),Zt=s.n(Yt),Kt={components:{Treeselect:r.a},mixins:[F],props:["lessons","districts"],data:function(){return{typeOptions:[{text:"klub",value:0},{text:"szkola",value:1}],selectedType:[]}},watch:{selectedType:function(e){this.lessons.schoolsAndClubs=null}},computed:{schoolsAndClubsPrepared:function(){var e=this.$store.getters.schoolsConfirmed,t=[];for(var s in e)this.selectedType.length>0?this.selectedType.includes(e[s].type)&&t.push({id:e[s].id,label:e[s].name}):t.push({id:e[s].id,label:e[s].name});return t},sportObjectsTreeselect:function(){var e=this;return function(t){if(null===t||void 0===t)return[];var s=e.$store.getters.sportObjectsConfirmed;console.log(s);var a=[];for(var i in s)t.includes(parseInt(s[i].school.id))&&a.push({id:s[i].id,label:s[i].title});return a}},leadersTreeselect:function(){var e=this.$store.getters.leadersConfirmed,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].email});return t},leadersTreeselectBySchool:function(){var e=this;return function(t){if(null===t||void 0===t)return[];var s=e.$store.getters.leadersConfirmed;console.log(s);var a=[];for(var i in s){var n=!1;for(var o in s[i].schoolsUsers)t.includes(s[i].schoolsUsers[o].school.id)&&(n=!0);n&&a.push({id:s[i].id,label:s[i].firstName+" "+s[i].lastName})}return a}},disciplinesTreeselect:function(){var e=[],t=this.$store.getters.disciplines;for(var s in t)e.push({id:t[s].id,label:t[s].title});return e},lessonCategoryTreeselect:function(){var e=this.$store.getters.lessonCategories||[],t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t},lessonClassTreeselect:function(){var e=this.$store.getters.classes||[],t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t}},created:function(){}},Wt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{staticClass:"custom",attrs:{type:"text",placeholder:"Nazwa zajęcia"},model:{value:e.lessons.selectedLesson,callback:function(t){e.$set(e.lessons,"selectedLesson",t)},expression:"lessons.selectedLesson"}})],1),e._v(" "),s("b-row",{staticClass:"align-items-center mb-2"},[s("b-col",[s("b-form-group",{staticClass:"custom"},[s("b-form-checkbox-group",{attrs:{id:"checkbox-group-type",options:e.typeOptions,name:"checkbox-group-type"},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1)],1),e._v(" "),s("b-col",[s("treeselect",{key:"sportObject.schools",staticClass:"custom",attrs:{multiple:!0,searchable:!1,placeholder:"Nazwa klubu/Szkoły",options:e.schoolsAndClubsPrepared,name:"sportObject.schools"},model:{value:e.lessons.schoolsAndClubs,callback:function(t){e.$set(e.lessons,"schoolsAndClubs",t)},expression:"lessons.schoolsAndClubs"}})],1)],1),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Obiekt sportowy",options:e.sportObjectsTreeselect(e.lessons.schoolsAndClubs)},model:{value:e.lessons.selectedSportObject,callback:function(t){e.$set(e.lessons,"selectedSportObject",t)},expression:"lessons.selectedSportObject"}}),e._v(" "),e.$store.getters.isDirector||e.$store.getters.isAdmin?s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Prowadzący",options:e.leadersTreeselect},model:{value:e.lessons.selectedLeader,callback:function(t){e.$set(e.lessons,"selectedLeader",t)},expression:"lessons.selectedLeader"}}):e._e(),e._v(" "),s("treeselect",{staticClass:"custom mt-4 mb-2",attrs:{multiple:!0,placeholder:"Dzielnica",options:e.districts},model:{value:e.lessons.districtValue,callback:function(t){e.$set(e.lessons,"districtValue",t)},expression:"lessons.districtValue"}}),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Dyscyplina",options:e.disciplinesTreeselect},model:{value:e.lessons.selectedDiscipline,callback:function(t){e.$set(e.lessons,"selectedDiscipline",t)},expression:"lessons.selectedDiscipline"}}),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Kategoria",options:e.lessonCategoryTreeselect},model:{value:e.lessons.selectedCategory,callback:function(t){e.$set(e.lessons,"selectedCategory",t)},expression:"lessons.selectedCategory"}}),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Klasa",options:e.lessonClassTreeselect},model:{value:e.lessons.selectedClass,callback:function(t){e.$set(e.lessons,"selectedClass",t)},expression:"lessons.selectedClass"}})],1)},staticRenderFns:[]};var Ht=s("VU/8")(Kt,Wt,!1,function(e){s("Io6f")},"data-v-52d181ce",null).exports,Jt=s("Ppbp"),Qt=s.n(Jt),Xt={name:"Frequency",props:["schoolId","lessonId"],components:{Treeselect:r.a,Lessons:Ht,DatePicker:Qt.a},mixins:[F,Se.a],data:function(){return{datepickerParams:c.e,parsedFrequency:{},frequencyId:null,selectedYearFrom:null,selectedYearTo:null,selectedType:[],schoolsAndClubs:null,lessonSelected:null,currentPage:1,perPage:20,totalRows:0,tableData:[{id:1,name:"Admin",date:"11/10/19",changes:'Nazwa Kłubu "Lead" -> "Moc"'},{id:2,name:"Kłub",date:"10/10/19",changes:"Test"},{id:3,name:"Prowadzący",date:"10/10/19",changes:"Test"}],typeOptions:[{text:"klub",value:0},{text:"szkola",value:1}],fields:[{key:"title",label:"Nazwa",sortable:!0},{key:"day",label:"Dzień",sortable:!0},{key:"hour",label:"Godzina",sortable:!0},{key:"category",label:"Kategoria",sortable:!0},{key:"discipline",label:"Dyscyplina",sortable:!0},{key:"list",label:"Lista",sortable:!0},{key:"leader",label:"Prowadzący",sortable:!0},{key:"frequency",label:"Obecność",sortable:!0}],years:[{id:1,label:"2000"},{id:2,label:"2001"},{id:3,label:"2002"}],lessons:{districtValue:null,districts:c.f,selectedType:[],typeOptions:[{text:"klub",value:0},{text:"szkola",value:1}],selectedGender:[],genderOptions:[{text:"kobieta",value:0},{text:"mężczyzna",value:1}],schoolsAndClubs:null,selectedDiscipline:null,selectedCategory:null,selectedClass:null,selectedYear:null,selectedSportObject:null,selectedLeader:null,selectedParticipant:null,selectedLesson:null,disciplines:[{id:1,label:"Basen"},{id:2,label:"Siłownia"},{id:3,label:"Bieg"}],categories:[{id:1,label:"pierwsza"},{id:2,label:"druga"},{id:3,label:"cos cos"}],classes:[{id:1,label:"2b"},{id:2,label:"6a"},{id:3,label:"8c"}],sportObjects:[{id:1,label:"Park"},{id:2,label:"Siłownia"},{id:3,label:"Basen"}],leaders:[{id:1,label:"Mark White"},{id:2,label:"Ben Stiffler"},{id:3,label:"Thomas Shelby"}]}}},computed:{schoolsAndClubsPrepared:function(){var e=this.$store.getters.schools,t=[];for(var s in e)this.selectedType.length>0&&!this.selectedType.includes(e[s].type)||t.push({id:e[s].id,label:e[s].name});return t}},watch:{currentPage:function(e){this.filter(e)}},methods:{getFrequencyCount:function(e){if(e){var t=JSON.parse(e),s=t.length,a=0;for(var i in t)t[i].active&&(a+=1);return a+"/"+s}},saveFrequency:function(){var e=this;console.log(this.parsedFrequency),console.log(this.frequencyId),this.$store.dispatch("putFrequency",{id:this.frequencyId,data:this.parsedFrequency}).then(function(t){var s=[].concat(Zt()(e.tableData));for(var a in s)s[a].id===t.id&&(s[a]=t);e.tableData=s,e.showToast("Dane zostały zapisane","Uwaga!","success")}).catch(function(t){t&&t.data&&t.data.error?e.showToast(t.data.error,"Uwaga!","danger"):e.showToast("Wystąpił błąd podczas zapisywania","Uwaga!","danger")}),this.$refs.modalFrequency.hide(),this.parsedFrequency={},this.frequencyId=null},showFrequency:function(e,t){this.parsedFrequency=JSON.parse(e),this.frequencyId=t,this.$refs.modalFrequency.show()},filterResponse:function(e,t){this.tableData=e.data,this.totalRows=e.totalCount,t&&(this.currentPage=1)},filter:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={selectedYearFrom:this.selectedYearFrom,selectedYearTo:this.selectedYearTo,schoolsAndClubs:this.schoolsAndClubs,lessonSelected:this.lessonSelected};this.$store.dispatch("getFrequencies",{filters:a,currentPage:t,perPage:this.perPage}).then(function(t){e.filterResponse(t,s)})},sortingChanged:function(e){console.log(e)}},created:function(){var e=this;this.$store.dispatch("getSchools",{}),this.schoolId?(this.schoolsAndClubs=[this.schoolId],this.filter(1,!0)):this.lessonId?(this.lessonSelected=this.lessonId,this.filter(1,!0)):this.$store.dispatch("getFrequencies",{currentPage:this.currentPage,perPage:this.perPage}).then(function(t){e.filterResponse(t)}),this.changeAdminNavbarButton({buttonLink:!1}),void 0===this.schoolId&&void 0===this.lessonId&&this.changeAdminNavbarBreadcrumbs([{text:"Frekwencja",active:!0}])}},es={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[void 0===e.lessonId?s("b-col",{attrs:{cols:"12"}},[s("h4",[e._v("Zakres")]),e._v(" "),s("b-row",{staticClass:"my-3 justify-content-center"},[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("b-row",[s("b-col",{attrs:{cols:"5"}},[s("date-picker",{key:"freq.from",staticClass:"w-100 custom mb-3",class:{"error-input-custom":e.veeErrors.has("freq.from")},attrs:{lang:e.datepickerParams.lang,name:"freq.from",id:"inputDatapicFromfreq",placeholder:""},model:{value:e.selectedYearFrom,callback:function(t){e.selectedYearFrom=t},expression:"selectedYearFrom"}})],1),e._v(" "),s("b-col",{attrs:{cols:"2"}},[s("hr",{staticClass:"mt-3"})]),e._v(" "),s("b-col",{attrs:{cols:"5"}},[s("date-picker",{key:"freq.to",staticClass:"w-100 custom mb-3",class:{"error-input-custom":e.veeErrors.has("freq.to")},attrs:{lang:e.datepickerParams.lang,name:"freq.to",id:"inputDatapicTofreq",placeholder:""},model:{value:e.selectedYearTo,callback:function(t){e.selectedYearTo=t},expression:"selectedYearTo"}})],1)],1)],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[void 0===e.schoolId&&void 0===e.lessonId?s("b-form-checkbox-group",{attrs:{id:"checkbox-group-type",options:e.typeOptions,name:"checkbox-group-type"},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}}):e._e()],1)],1),e._v(" "),s("b-row",{staticClass:"justify-content-between"},[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!1,disabled:void 0!==e.schoolId||void 0!==e.lessonId,searchable:!1,placeholder:"Szkoła / klub",options:e.schoolsAndClubsPrepared},model:{value:e.schoolsAndClubs,callback:function(t){e.schoolsAndClubs=t},expression:"schoolsAndClubs"}})],1),e._v(" "),s("b-col",{staticClass:"text-align-right mt-3 mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("b-btn",{attrs:{variant:"primary"},on:{click:function(t){return e.filter(1,!0)}}},[e._v("Filtruj")])],1)],1)],1):e._e(),e._v(" "),s("b-col",{attrs:{cols:"12"}},[void 0===e.lessonId?s("h4",{staticClass:"mt-3"},[e._v("Wyniki")]):e._e(),e._v(" "),void 0===e.lessonId?s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm","aria-controls":"history-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}):e._e(),e._v(" "),s("b-table",{staticClass:"custom table-responsive",attrs:{id:"frequency-table",items:e.tableData,fields:e.fields,"per-page":e.perPage,striped:"","sort-icon-left":"",responsive:"md"},on:{"sort-changed":e.sortingChanged},scopedSlots:e._u([{key:"title",fn:function(t){return[t.item.lesson?s("span",[e._v(e._s(t.item.lesson.title))]):e._e()]}},{key:"day",fn:function(t){return[t.item.lesson?s("span",[e._v(e._s(t.item.lesson.date))]):e._e()]}},{key:"hour",fn:function(t){return[t.item.lesson?s("span",[e._v(e._s(t.item.lesson.timeRange))]):e._e()]}},{key:"category",fn:function(t){return[t.item.lesson?s("span",[e._v(e._s(t.item.lesson.lessonCategory.title))]):e._e()]}},{key:"discipline",fn:function(t){return[t.item.lesson?s("span",[e._v(e._s(t.item.lesson.discipline.title))]):e._e()]}},{key:"list",fn:function(t){return[t.item.lesson?s("span",[e._v(e._s(t.item.lesson.participantGroup.title))]):e._e()]}},{key:"leader",fn:function(t){return[t.item.lesson?s("span",[e._v(e._s(t.item.lesson.leader.firstName)+" "+e._s(t.item.lesson.leader.firstName))]):e._e(),e._v(" "),s("br"),e._v(" "),t.item.lesson?s("span",[e._v(e._s(t.item.lesson.leader.email))]):e._e()]}},{key:"frequency",fn:function(t){return[t.item?s("span",{staticClass:"c-pointer",on:{click:function(s){return e.showFrequency(t.item.frequencyParticipants,t.item.id)}}},[e._v("Szczegóły\n            ("+e._s(e.getFrequencyCount(t.item.frequencyParticipants))+")")]):e._e()]}}])})],1)],1),e._v(" "),s("b-modal",{ref:"modalFrequency",attrs:{"modal-class":"custom",centered:"",size:"md","hide-footer":!0,"footer-class":"justify-content-between","title-tag":"h2","header-class":"pr-4 pb-0"}},[s("template",{slot:"modal-title"},[e._v("\n      Obecność\n    ")]),e._v(" "),s("div",{staticClass:"d-block mt-3",attrs:{slot:"default"},slot:"default"},[e._l(e.parsedFrequency,function(t,a){return s("div",{key:a,staticClass:"d-flex justify-content-between"},[s("b-col",[s("ul",{staticClass:"d-block"},[s("li",[e._v("\n              "+e._s(t.fullName)+":\n            ")])])]),e._v(" "),s("b-col",[s("b-form-group",{staticClass:"custom"},[s("b-form-radio-group",{attrs:{id:"checkbox-group-type"+t.fullName+t.id,options:[{text:"tak",value:!0},{text:"nie",value:!1}],name:"checkbox-group-type"+t.fullName+t.id},model:{value:e.parsedFrequency[a].active,callback:function(t){e.$set(e.parsedFrequency[a],"active",t)},expression:"parsedFrequency[index].active"}})],1)],1)],1)}),e._v(" "),s("b-row",{staticClass:"justify-content-end"},[s("b-btn",{staticClass:"my-2",attrs:{variant:"primary"},on:{click:e.saveFrequency}},[e._v("Zapisz")])],1)],2)],2)],1)},staticRenderFns:[]};var ts=s("VU/8")(Xt,es,!1,function(e){s("fyyl")},"data-v-1d73a8a6",null).exports,ss={name:"FormFrequency",props:["schoolId"],components:{Frequency:ts}},as={render:function(){var e=this.$createElement;return(this._self._c||e)("Frequency",{attrs:{schoolId:this.schoolId}})},staticRenderFns:[]};var is=s("VU/8")(ss,as,!1,function(e){s("fcMZ")},"data-v-4a8bf822",null).exports,ns={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"wrap"})},staticRenderFns:[]};var os=s("VU/8")({name:"FormMTSF"},ns,!1,function(e){s("kYP2")},"data-v-adb61094",null).exports,rs={components:{Treeselect:r.a},mixins:[F],props:["events","disciplinesPrepared","schoolsAndClubsTreeselect","schoolId"],data:function(){return{orgType:0}},computed:{},methods:{clearData:function(){this.events.organization="",this.events.selectedSchoolOrCLub=[]}},created:function(){}},cs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{key:"event.address",staticClass:"custom mb-2",attrs:{id:"input-4",placeholder:"Adres",name:"event.address"},model:{value:e.events.address,callback:function(t){e.$set(e.events,"address",t)},expression:"events.address"}})],1),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Dyscyplina",options:e.disciplinesPrepared},model:{value:e.events.selectedDiscipline,callback:function(t){e.$set(e.events,"selectedDiscipline",t)},expression:"events.selectedDiscipline"}}),e._v(" "),s("b-form-group",e._l([{title:"Klub / Szkoła",value:0},{title:"Inny podmiot",value:1}],function(t,a){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"organizatorType"+a,staticClass:"d-inline-block mt-3 mr-3",class:{"error-input-custom":e.veeErrors.has("organizatorType")},attrs:{value:t.value,name:"organizatorType"},on:{change:e.clearData},model:{value:e.orgType,callback:function(t){e.orgType=t},expression:"orgType"}},[e._v("\n        "+e._s(t.title)+"\n      ")])}),1),e._v(" "),0===e.orgType?s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,disabled:!!e.schoolId,placeholder:"Organizator (Klub / Szkoła)",options:e.schoolsAndClubsTreeselect},model:{value:e.events.selectedSchoolOrCLub,callback:function(t){e.$set(e.events,"selectedSchoolOrCLub",t)},expression:"events.selectedSchoolOrCLub"}}):s("b-form-group",{staticClass:"custom"},[s("b-form-input",{key:"event.organizator",staticClass:"custom",attrs:{id:"input-4",placeholder:"Organizator (Inny podmiot)",name:"event.organizator"},model:{value:e.events.organization,callback:function(t){e.$set(e.events,"organization",t)},expression:"events.organization"}})],1)],1)},staticRenderFns:[]};var ls=s("VU/8")(rs,cs,!1,function(e){s("+mPg")},"data-v-0ae31c88",null).exports,us={name:"EventsMixin",data:function(){return{}},methods:{getDisciplineTitleById:function(e){return void 0===this.disciplines||null===this.disciplines||this.disciplines.length<1?"":this.disciplines.find(function(t){return t.id===e}).title},getSchoolNameById:function(e){if(void 0===this.schoolsAndClubs||null===this.schoolsAndClubs||this.schoolsAndClubs.length<1)return"";var t=this.schoolsAndClubs.find(function(t){return t.id===e});return void 0===t?"":t.name}},computed:{disciplines:function(){return this.$store.getters.disciplines},schoolsAndClubs:function(){return this.$store.getters.schools},eventListFiltered:function(){console.log(this.eventsConfirmed);var e=this.eventsConfirmed||this.eventsToConfirm||[],t=[];for(var s in e)t.push(e[s]);return t},schoolsAndClubsPrepared:function(){var e=this.$store.getters.schools,t=[];for(var s in e)void 0!==this.event&&null!==this.event.id&&void 0!==this.event.id?t.push({id:e[s].id,label:e[s].name}):parseInt(e[s].type)===parseInt(this.orgType)&&t.push({id:e[s].id,label:e[s].name});return t},schoolsAndClubsTreeselect:function(){var e=this.$store.getters.schools,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].name});return t},disciplinesPrepared:function(){var e=this.$store.getters.disciplines,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t}}},ds={name:"ListConfirmed",components:{Treeselect:r.a,Events:ls,TabLinks:$e,Calendar:O,DatePicker:Qt.a},mixins:[us],props:["schoolId"],data:function(){return{datepickerParams:c.e,tabLinks:[{title:"Kalendarz",link:"events",tab:"confirmed"},{title:"Lista",link:"events",tab:"confirmed"}],events:{selectedYearFrom:null,selectedYearTo:null,address:"",organization:"",selectedDiscipline:null,selectedSchoolOrCLub:null},fields:[{key:"dateStart",label:"Data rozpoczęcia",sortable:!0},{key:"title",label:"Nazwa",sortable:!0},{key:"discipline",label:"Dyscyplina",sortable:!0},{key:"organization",label:"Organizator",sortable:!0},{key:"edit",label:" ",sortable:!0}]}},computed:{eventsConfirmed:function(){return this.$store.getters.eventsConfirmed}},methods:{rowRedirect:function(e){this.$parent.rowRedirect(e.id,!0)},findEvents:function(){this.$store.dispatch("getEvents",{confirmed:1,filters:pt()(this.events)})}},created:function(){console.log(this.schoolId),this.schoolId?(this.events.selectedSchoolOrCLub=[this.schoolId],this.$store.dispatch("getEvents",{confirmed:1,filters:pt()(this.events)})):(this.$store.dispatch("getSchools",{}),this.$store.dispatch("getEvents",{confirmed:1,forSchool:!0})),this.$store.dispatch("getDisciplines")}},ps={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("h4",[e._v("Zakres")]),e._v(" "),s("b-row",{staticClass:"my-3"},[s("b-col",{attrs:{cols:"5"}},[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"selectedYearFrom",staticClass:"w-100 custom mt-3",class:{"error-input-custom":e.veeErrors.has("selectedYearFrom")},attrs:{lang:e.datepickerParams.lang,name:"selectedYearFrom","value-type":"format",format:"YYYY-MM-DD",type:"date",id:"selectedYearFrom",placeholder:"Od"},model:{value:e.events.selectedYearFrom,callback:function(t){e.$set(e.events,"selectedYearFrom",t)},expression:"events.selectedYearFrom"}})],1),e._v(" "),s("b-col",{attrs:{cols:"2"}},[s("hr",{staticClass:"mt-4 mb-0"})]),e._v(" "),s("b-col",{attrs:{cols:"5"}},[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"selectedYearTo",staticClass:"w-100 custom mt-3",class:{"error-input-custom":e.veeErrors.has("selectedYearTo")},attrs:{lang:e.datepickerParams.lang,name:"selectedYearTo","value-type":"format",format:"YYYY-MM-DD",type:"date",id:"selectedYearTo",placeholder:"Do"},model:{value:e.events.selectedYearTo,callback:function(t){e.$set(e.events,"selectedYearTo",t)},expression:"events.selectedYearTo"}})],1)],1),e._v(" "),s("h4",{staticClass:"mb-3"},[e._v("Imprezy sportowe")]),e._v(" "),s("events",{attrs:{events:e.events,disciplinesPrepared:e.disciplinesPrepared,schoolId:e.schoolId,schoolsAndClubsTreeselect:e.schoolsAndClubsTreeselect}}),e._v(" "),s("b-btn",{staticClass:"d-block ml-auto",attrs:{variant:"primary"},on:{click:e.findEvents}},[e._v("Szukaj")])],1),e._v(" "),s("b-col",{staticClass:"col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12 mt-4"},[s("h4",{staticClass:"my-3"},[e._v("Wyniki")]),e._v(" "),s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.eventListFiltered,fields:e.fields,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.rowRedirect},scopedSlots:e._u([{key:"dateStart",fn:function(t){return[s("span",[e._v(e._s(t.item.dateStart.substr(0,t.item.dateStart.indexOf(" "))))])]}},{key:"discipline",fn:function(t){return[t.item.discipline&&t.item.discipline.id?s("span",[e._v("\n            "+e._s(e.getDisciplineTitleById(t.item.discipline.id))+"\n          ")]):e._e()]}},{key:"organization",fn:function(t){return[t.item.organization?s("span",[e._v(e._s(t.item.organization))]):t.item.school&&t.item.school.id?s("span",[e._v("\n            "+e._s(e.getSchoolNameById(t.item.school.id))+"\n          ")]):e._e()]}},{key:"edit",fn:function(t){return[s("span",{staticClass:"c-pointer"},[e._v("Szczegóły")])]}}])})],1)],1)},staticRenderFns:[]};var ms=s("VU/8")(ds,ps,!1,function(e){s("szTu")},"data-v-416136f6",null).exports,hs={name:"FormEvents",props:["schoolId"],components:{ListConfirmed:ms},methods:{rowRedirect:function(e,t){this.$router.push({name:"event",params:{tab:"main-data",id:e,isConfirmed:t}})}},created:function(){console.log(this.schoolId)}},fs={render:function(){var e=this.$createElement;return(this._self._c||e)("ListConfirmed",{attrs:{schoolId:this.schoolId}})},staticRenderFns:[]};var vs=s("VU/8")(hs,fs,!1,function(e){s("Sndv")},"data-v-1282a2b2",null).exports,bs={name:"LessonMixin",data:function(){return{}},methods:{},computed:{schoolsAndClubsPrepared:function(){var e=this.$store.getters.schools,t=[];for(var s in e)null!==this.lesson.id&&void 0!==this.lesson.id?t.push({id:e[s].id,label:e[s].name}):parseInt(e[s].type)===parseInt(this.orgType)&&t.push({id:e[s].id,label:e[s].name});return t},lessonLeader:function(){var e=this.$store.getters.leadersConfirmed,t=[];for(var s in e){var a=e[s].firstName+" "+e[s].lastName;t.push({id:e[s].id,label:a})}return t},lessonDiscipline:function(){var e=this.$store.getters.disciplines||[],t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t},lessonCategory:function(){var e=this.$store.getters.lessonCategories||[],t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t},lessonClass:function(){var e=this.$store.getters.classes||[],t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t},lessonSchools:function(){var e=this.$store.getters.schools,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].name});return t},lessonSportObjects:function(){var e=this.$store.getters.sportObjects,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t},lessonsList:function(){var e=this,t=this.$store.getters.lessons,s=this.$store.getters.schools,a=[],i=this.search||"",n=this.selectedType||[],o=this.selectedDisciplines||[],r=this.selectedLessonCategories||[],c=this.selectedClasses||[],l=function(l){if(i.length>0&&t[l].title&&-1===t[l].title.toLowerCase().indexOf(i.toLowerCase()))return"continue";if(n.length>0){var u=s.find(function(e){return e.id===t[l].school.id});if(!n.includes(u.type))return"continue"}if(o.length>0&&!o.includes(parseInt(t[l].discipline.id)))return"continue";if(r.length>0&&!r.includes(parseInt(t[l].lessonCategory.id)))return"continue";if(c.length>0&&!c.includes(parseInt(t[l].class.id)))return"continue";if(e.participant&&e.participant.id&&void 0===e.participant.participantGroups.find(function(e){return e.participantGroup.id===t[l].participantGroup.id}))return"continue";return e.participantGroup&&e.participantGroup.id&&e.participantGroup.id!==t[l].participantGroup.id?"continue":e.school&&e.school.id&&e.school.id!==t[l].school.id?"continue":e.leader&&e.leader.id&&e.leader.id!==t[l].leader.id?"continue":e.schoolIds&&e.schoolIds.length>0&&!e.schoolIds.includes(t[l].school.id)?"continue":e.sportObject&&e.sportObject.id&&e.sportObject.id!==t[l].place.id?"continue":void a.push(t[l])};for(var u in t)l(u);return a}}},gs={name:"LessonList",components:{Treeselect:r.a},props:["lesson","isConfirmed","school","participant","sportObject","schoolIds","participantGroup","leader"],mixins:[F,bs],data:function(){return{currentPage:1,perPage:20,totalRows:0,fields:[{key:"school",label:"Szkoła / Klub",sortable:!0},{key:"title",label:"Nazwa zajęcia",sortable:!0},{key:"disciplines",label:"Dyscyplina",sortable:!1},{key:"lessonCategories",label:"Kategoria",sortable:!1},{key:"classes",label:"Klasa",sortable:!1},{key:"leaders",label:"Prowadzący",sortable:!1},{key:"status",label:"Status w systemie",sortable:!1},{key:"edit",label:""}],selectedType:[],typeOptions:[{text:"klub",value:0},{text:"szkola",value:1}],search:"",selectedDisciplines:[],selectedLessonCategories:[],selectedClasses:[]}},computed:L()({},Object(I.c)(["leaderById","classes","lessonCategories","disciplines"]),{leadersConfirmed:function(){return this.$store.getters.leadersConfirmed},storeLessons:function(){return this.$store.getters.lessons},schoolsAndClubs:function(){return this.$store.getters.schools},buildUserNames:function(){return function(e){return void 0===e||null===e?null:e.firstName+" "+e.lastName}}}),watch:{currentPage:function(e){this.filter(e)}},methods:{filter:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={selectedType:this.selectedType||[],lesson:{selectedDiscipline:this.selectedDisciplines||[],selectedCategory:this.selectedLessonCategories||[],selectedClass:this.selectedClasses||[],selectedLesson:this.search||""}};if(this.participant&&this.participant.id){var i=this.participant.participantGroups.map(function(e){return e.participantGroup.id});a.participantGroups=i&&i.length>0?i:[]}this.participantGroup&&this.participantGroup.id&&(a.participantGroups=[this.participantGroup.id]),this.school&&this.school.id&&(a.lesson.schoolsAndClubs=[this.school.id]),this.leader&&this.leader.id&&(a.lesson.selectedLeader=[this.leader.id]),this.schoolIds&&this.schoolIds.length>0&&(a.lesson.schoolsAndClubs=this.schoolIds),this.sportObject&&this.sportObject.id&&(a.lesson.selectedSportObject=[this.sportObject.id]),this.$store.dispatch("getLessons",{filters:a,currentPage:t,perPage:this.perPage}).then(function(t){e.filterResponse(t,s)})},filterResponse:function(e,t){this.totalRows=e.totalCount,t&&(this.currentPage=1)},getSchoolNameById:function(e){if(void 0===this.schoolsAndClubs||null===this.schoolsAndClubs||this.schoolsAndClubs.length<1)return"";var t=this.schoolsAndClubs.find(function(t){return t.id===e});return t?t.name:""},getDisciplineTitleById:function(e){return void 0===this.disciplines||null===this.disciplines||this.disciplines.length<1?"":this.disciplines.find(function(t){return t.id===e}).title},getLessonCategoryTitleById:function(e){return void 0===this.lessonCategories||null===this.lessonCategories||this.lessonCategories.length<1?"":this.lessonCategories.find(function(t){return t.id===e}).title},getClassTitleById:function(e){return void 0===this.classes||null===this.classes||this.classes.length<1?"":this.classes.find(function(t){return t.id===e}).title},rowRedirect:function(e){var t={selectedType:this.selectedType,search:this.search,selectedDisciplines:this.selectedDisciplines,selectedLessonCategories:this.selectedLessonCategories,selectedClasses:this.selectedClasses},s=pt()(t);console.log(s),this.$router.push({name:"lesson",params:{tab:"main-data",id:e.id,filters:s}})},changeFilters:function(e){var t=JSON.parse(e);this.selectedType=t.selectedType,this.search=t.search,this.selectedDisciplines=t.selectedDisciplines,this.selectedLessonCategories=t.selectedLessonCategories,this.selectedClasses=t.selectedClasses,this.filter()}},created:function(){if(this.$route.params.filters&&this.changeFilters(this.$route.params.filters),this.filter(),this.$store.dispatch("getSchools",{}),this.$store.dispatch("getDisciplines"),this.$store.dispatch("getLessonCategories"),this.$store.dispatch("getClasses"),this.$store.dispatch("getLeaders",{confirmed:1,forLesson:!0}),this.fieldsParams)for(var e in this.fieldsParams){var t=this.fieldsParams[e];console.log(t),this.replaceTableField(t)}this.changeAdminNavbarButton({buttonLink:"lesson",params:{tab:"main-data"}}),void 0===this.school&&void 0===this.sportObject&&void 0===this.schoolIds&&void 0===this.participantGroup&&void 0===this.participant&&void 0===this.leader&&this.changeAdminNavbarBreadcrumbs([{text:"Lista zajęć",active:!0}])}},ys={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"col-12 col-xl-8 col-lg-8 col-md-12 col-sm-12 mt-4"},[s("b-row",{staticClass:"justify-content-center align-items-center"},[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[void 0===e.sportObject&&void 0===e.participantGroup&&void 0===e.school&&void 0===e.participant?s("b-form-group",{staticClass:"custom"},[s("b-form-checkbox-group",{attrs:{id:"checkbox-group-1",options:e.typeOptions,name:"flavour-1"},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1):e._e()],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"input-1",placeholder:"Szukaj"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1),e._v(" "),s("b-col",{staticClass:"col-12 col-xl-8 col-lg-8 col-md-12 col-sm-12 mt-4"},[s("b-row",{staticClass:"justify-content-between align-items-center"},[s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Dyscyplina",options:e.lessonDiscipline},model:{value:e.selectedDisciplines,callback:function(t){e.selectedDisciplines=t},expression:"selectedDisciplines"}})],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Kategoria",options:e.lessonCategory},model:{value:e.selectedLessonCategories,callback:function(t){e.selectedLessonCategories=t},expression:"selectedLessonCategories"}})],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Klasa",options:e.lessonClass},model:{value:e.selectedClasses,callback:function(t){e.selectedClasses=t},expression:"selectedClasses"}})],1)],1)],1),e._v(" "),s("b-col",{staticClass:"col-12 col-xl-8 col-lg-8 col-md-12 col-sm-12 mt-4"},[s("b-row",{staticClass:"justify-content-end mb-3"},[s("b-btn",{staticClass:"mr-3",attrs:{variant:"primary"},on:{click:function(t){return e.filter(1,!0)}}},[e._v("Filtruj")])],1),e._v(" "),s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm","aria-controls":"history-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),e._v(" "),s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.storeLessons,fields:e.fields,"per-page":e.perPage,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.rowRedirect},scopedSlots:e._u([{key:"school",fn:function(t){return[t.item&&t.item.school?s("span",[e._v("\n            "+e._s(e.getSchoolNameById(t.item.school.id))+"\n          ")]):e._e()]}},{key:"disciplines",fn:function(t){return[t.item&&t.item.discipline?s("span",[e._v("\n            "+e._s(e.getDisciplineTitleById(t.item.discipline.id))+"\n          ")]):e._e()]}},{key:"lessonCategories",fn:function(t){return[t.item&&t.item.lessonCategory?s("span",[e._v("\n            "+e._s(e.getLessonCategoryTitleById(t.item.lessonCategory.id))+"\n          ")]):e._e()]}},{key:"classes",fn:function(t){return[t.item&&t.item.class?s("span",[e._v("\n            "+e._s(e.getClassTitleById(t.item.class.id))+"\n          ")]):e._e()]}},{key:"leaders",fn:function(t){return[t.item&&t.item.leader?s("span",[e._v("\n            "+e._s(e.buildUserNames(e.leaderById(t.item.leader.id)))+"\n          ")]):e._e()]}},{key:"status",fn:function(t){return[s("span",{staticClass:"status",class:{active:t.item.active}},[e._v(e._s(1==t.item.active?"aktywny":"nieaktywny"))])]}},{key:"edit",fn:function(e){return[s("b-link",{staticClass:"icon-link"},[s("span",{staticClass:"icon icon-iconm_search"})])]}}])})],1)],1)],1)},staticRenderFns:[]};var _s=s("VU/8")(gs,ys,!1,function(e){s("K0hX")},"data-v-fc628470",null).exports,ks={name:"FormLessons",components:{lessonList:_s},props:["school"]},Cs={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("lessonList",{attrs:{school:this.school}})],1)},staticRenderFns:[]};var ws={name:"SchoolAndClubForm",components:{FormLessons:s("VU/8")(ks,Cs,!1,function(e){s("42TP")},"data-v-2708bfe6",null).exports,TabLinks:$e,FormMainData:_t,FormPlaces:wt,FormLeaders:zt,FormParticipantGroups:Nt,FormEvents:vs,FormParticipants:Gt,FormCalendar:Vt,FormFrequency:is,FormMTSF:os},mixins:[F,ft,Se.a],data:function(){return{tabLinks:[{title:"Dane ogólne",link:"school.or.club",tab:"main-data"},{title:"Obiekty sportowe",link:"school.or.club",tab:"places",method:"checkValidMainForm"}],districts:c.f,school:{id:this.id,image:null,active:!0,confirmed:!1,type:0,name:"",email:"",password:"",phone:"",district:null,address:"",postcode:"",mapImg:"",openHours:"",comments:"",personToContactFullName:"",personToContactPhone:"",places:[],schoolsUsers:[]},isValidForm:!1,isConfirmed:void 0}},methods:{changeSchoolLeaderStatus:function(e){var t=this;this.$store.dispatch("putSchool",{id:this.$route.params.id,active:e.status,leaderId:e.id,actionType:"putLeaderStatus"}).then(function(e){t.school=e})},updateSchool:function(){this.school=this.$store.getters.school(this.isConfirmed,this.id)},addPlace:function(e){var t=L()({},e);this.school.places.push(t)},removePlace:function(e){this.school.places.splice(e,1)},concatPlaces:function(e){},checkValidMainForm:function(){var e=this;return this.$refs.FormMainData.checkValidForm().then(function(t){console.log(t),e.isValidForm=t,t&&e.$router.push({name:"school.or.club",params:{tab:"places",id:e.id}})})},goToFormTab:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.checkValidMainForm()},submit:function(){var e=this,t=this.school;console.log(this.school),delete t.schoolsUsers;var s=void 0===this.id?"postSchool":"putSchool";this.$store.dispatch(s,t).then(function(){e.postSubmitRedirect("schools.and.clubs")}).catch(function(t){e.postSubmitError(t)})}},created:function(){var e=this;this.school=ht()(this.school,this.$store.getters.school(this.isConfirmed,this.id)),void 0===this.$route.params.tab&&this.$router.push({name:"school.or.club",params:{tab:"main-data"}}),this.$route.params.isConfirmed&&(this.isConfirmed=this.$route.params.isConfirmed),this.id&&this.$store.dispatch("getSchool",{id:this.id}).then(function(t){e.school=JSON.parse(pt()(t)),console.log("more tab links"),e.tabLinks=[{title:"Dane ogólne",link:"school.or.club",tab:"main-data"},{title:"Obiekty",link:"school.or.club",tab:"places",method:"checkValidMainForm"},{title:"Prowadzący",link:"school.or.club",tab:"leaders"},{title:"Lista Zawodników",link:"school.or.club",tab:"participant-groups"},{title:"Zawodnicy",link:"school.or.club",tab:"competitors"},{title:"Zajęcia",link:"school.or.club",tab:"activities"},{title:"Frekwencja",link:"school.or.club",tab:"frequency"},{title:"Imprezy sportowe",link:"school.or.club",tab:"events"}]}),this.changeAdminNavbarButton({buttonLink:!1});var t=[{text:"Kłuby i szkoły",to:{name:"schools.and.clubs",params:{tab:"confirmed"}}},{text:this.id?1===parseInt(this.school.type)?"Szkoła":"Klub":"Nowy",active:!0}];this.changeAdminNavbarBreadcrumbs(t)}},xs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("TabLinks",{attrs:{links:e.tabLinks}}),e._v(" "),["main-data"===e.$route.params.tab?s("FormMainData",{key:e.$route.params.tab+"FormMainData",ref:"FormMainData",attrs:{school:e.school,districts:e.districts},on:{childSubmit:e.submit}}):e._e(),e._v(" "),"places"===e.$route.params.tab?s("FormPlaces",{key:e.$route.params.tab+"FormPlaces",ref:"FormPlaces",attrs:{school:e.school,isValidForm:e.isValidForm,districts:e.districts},on:{childSubmit:e.submit}}):e._e(),e._v(" "),"leaders"===e.$route.params.tab?s("FormLeaders",{key:e.$route.params.tab+"FormLeaders"+e.school.id,ref:"FormLeaders",attrs:{school:e.school,isValidForm:e.isValidForm},on:{childSubmit:e.submit}}):e._e(),e._v(" "),"participant-groups"===e.$route.params.tab?s("FormParticipantGroups",{key:e.$route.params.tab+"FormParticipantGroups",ref:"FormParticipantGroups",attrs:{school:e.school,isValidForm:e.isValidForm},on:{childSubmit:e.submit}}):e._e(),e._v(" "),"competitors"===e.$route.params.tab?s("FormParticipants",{key:e.$route.params.tab+"FormCompetitors",ref:"FormCompetitors",attrs:{school:e.school,isValidForm:e.isValidForm},on:{childSubmit:e.submit}}):e._e(),e._v(" "),"activities"===e.$route.params.tab?s("FormLessons",{key:e.$route.params.tab+"FormLessons",ref:"FormLessons",attrs:{school:e.school}}):e._e(),e._v(" "),"calendar"===e.$route.params.tab?s("FormCalendar",{key:e.$route.params.tab+"FormCalendar",ref:"FormCalendar",attrs:{school:e.school,isValidForm:e.isValidForm},on:{childSubmit:e.submit}}):e._e(),e._v(" "),"frequency"===e.$route.params.tab&&e.school&&e.school.id?s("FormFrequency",{key:e.$route.params.tab+"FormFrequency",ref:"FormFrequency",attrs:{schoolId:e.school.id,isValidForm:e.isValidForm},on:{childSubmit:e.submit}}):e._e(),e._v(" "),"mtsf"===e.$route.params.tab?s("FormMTSF",{key:e.$route.params.tab+"FormMTSF",ref:"FormMTSF",attrs:{school:e.school,isValidForm:e.isValidForm},on:{childSubmit:e.submit}}):e._e(),e._v(" "),"events"===e.$route.params.tab&&e.school&&e.school.id?s("FormEvents",{key:e.$route.params.tab+"FormEvents",ref:"FormEvents",attrs:{schoolId:e.school.id,isValidForm:e.isValidForm},on:{childSubmit:e.submit}}):e._e()]],2)},staticRenderFns:[]};var $s=s("VU/8")(ws,xs,!1,function(e){s("vLXq")},"data-v-5f22adcf",null).exports,Ts={name:"FormMainData",props:["sportObject","districts"],components:{DistrictSearch:bt,Treeselect:r.a,ImageInputAdvanced:De},mixins:[F,ft],data:function(){return{name:"map",onSchoolTerritory:[]}},computed:{schoolsAndClubsPrepared:function(){var e=this.$store.getters.schools,t=[];for(var s in console.log(e),e)t.push({id:e[s].id,label:e[s].name,image:e[s].image});return console.log(t),t},sportObjectTypesPrepared:function(){var e=this.$store.getters.sportObjectTypes,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t}},methods:{checkSchoolAddressForObject:function(){this.onSchoolTerritory.length<1||this.setSchoolAddressToObject(this.onSchoolTerritory)},setSchoolAddressToObject:function(e){if(!(e.length<1)){var t=this.$store.getters.schools;for(var s in t)t[s].id===this.sportObject.school.id&&(console.log(t[s]),this.sportObject.district=t[s].district,this.sportObject.address=t[s].address,this.sportObject.postcode=t[s].postcode);console.log(this.sportObject.school.id)}},getSchoolImageById:function(e){var t=this.schoolsAndClubsPrepared.find(function(t){return parseInt(t.id)===parseInt(e)});return void 0===t?"":t.image&&t.image.length>0?t.image:""},submit:function(e){var t=this;e?this.preSubmit().then(function(e){e?(t.loading=!1,t.$parent.submit()):t.loading=!1}):this.$parent.submit()},submitSetConfirm:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];console.log(this.isValidForm),t?this.checkValidForm()&&(this.sportObject.confirmed=e,this.submit(t)):(this.sportObject.confirmed=e,this.submit(t))}},created:function(){this.changeAdminNavbarButton({buttonLink:!1}),this.$store.dispatch("getSchools",{}),this.$store.dispatch("getSportObjectTypes")}},Ss={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"3"}},[s("h2",[e._v("Przypisany do")]),e._v(" "),e.sportObject.school?[s("treeselect",{staticClass:"custom",attrs:{multiple:!1,searchable:!1,placeholder:"Klub / Szkoła",disabled:!!e.sportObject.id,options:e.schoolsAndClubsPrepared},on:{input:e.checkSchoolAddressForObject},model:{value:e.sportObject.school.id,callback:function(t){e.$set(e.sportObject.school,"id",t)},expression:"sportObject.school.id"}})]:e._e()],2),e._v(" "),s("b-col",{attrs:{cols:"12",lg:"5"}},[s("h2",{staticClass:"my-4"},[e._v("Aktywuj")]),e._v(" "),s("b-form-group",e._l([{title:"Tak",value:1},{title:"Nie",value:0}],function(t,a){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"sportObject.active"+a,staticClass:"d-inline-block mr-3",class:{"error-input-custom":e.veeErrors.has("sportObject.active"+a)},attrs:{value:t.value,name:"sportObject.active"+a},model:{value:e.sportObject.active,callback:function(t){e.$set(e.sportObject,"active",t)},expression:"sportObject.active"}},[e._v("\n        "+e._s(t.title)+"\n      ")])}),1),e._v(" "),s("h2",{staticClass:"my-4"},[e._v("Dane ogólne")]),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"sportObject.title",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("sportObject.title")},attrs:{id:"input-1",placeholder:"Nazwa",name:"sportObject.title"},model:{value:e.sportObject.title,callback:function(t){e.$set(e.sportObject,"title",t)},expression:"sportObject.title"}})],1),e._v(" "),e.sportObject.type?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"sportObject.type",staticClass:"custom mb-3",class:{"error-input-custom":e.veeErrors.has("sportObject.type")},attrs:{multiple:!1,placeholder:"Typ",options:e.sportObjectTypesPrepared,name:"sportObject.type"},model:{value:e.sportObject.type.id,callback:function(t){e.$set(e.sportObject.type,"id",t)},expression:"sportObject.type.id"}}):e._e(),e._v(" "),s("b-row",[s("b-col",[s("h2",{staticClass:"my-4"},[e._v("Lokalizacja")])]),e._v(" "),s("b-col",[e.sportObject.school.id?s("b-form-group",{staticClass:"custom mt-4 mb-3"},[s("b-form-checkbox-group",{attrs:{id:"checkbox-group-type",options:[{text:"Na terenie szkoły",value:1}],name:"checkbox-group-type"},on:{change:e.setSchoolAddressToObject},model:{value:e.onSchoolTerritory,callback:function(t){e.onSchoolTerritory=t},expression:"onSchoolTerritory"}})],1):e._e()],1)],1),e._v(" "),s("DistrictSearch"),e._v(" "),s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"sportObject.district",staticClass:"custom mb-3",class:{"error-input-custom":e.veeErrors.has("sportObject.district")},attrs:{multiple:!1,placeholder:"Dzielnica",options:e.districts,name:"sportObject.district"},model:{value:e.sportObject.district,callback:function(t){e.$set(e.sportObject,"district",t)},expression:"sportObject.district"}}),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"sportObject.address",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("sportObject.address")},attrs:{id:"input-1",placeholder:"Adres",name:"sportObject.address"},model:{value:e.sportObject.address,callback:function(t){e.$set(e.sportObject,"address",t)},expression:"sportObject.address"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"sportObject.postcode",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("sportObject.postcode")},attrs:{id:"input-1",placeholder:"Kod pocztowy",name:"sportObject.postcode"},model:{value:e.sportObject.postcode,callback:function(t){e.$set(e.sportObject,"postcode",t)},expression:"sportObject.postcode"}})],1),e._v(" "),s("b-row",{staticClass:"mt-4"},[s("b-col",{staticClass:"mt-3"},[s("b-btn",{staticClass:"custom",attrs:{variant:"delete"},on:{click:function(t){return e.deleteFromForm("deleteSportObject",e.sportObject.id,void 0,"sport.objects",{tab:"confirmed"})}}},[e._v("\n          Usuń\n        ")])],1),e._v(" "),s("b-col",{staticClass:"mt-3"},[s("b-link",{staticClass:"custom btn",attrs:{block:"",to:{name:"sport.objects",params:{tab:"confirmed"}}}},[e._v("\n          Anuluj\n        ")])],1),e._v(" "),s("b-col",{staticClass:"mt-3"},[s("b-btn",{staticClass:"custom",attrs:{block:""},on:{click:function(t){return e.submit(!0)}}},[e._v("\n          Zapisz\n        ")])],1),e._v(" "),s("b-col",{staticClass:"mt-3"},[e.sportObject.confirmed?s("b-btn",{staticClass:"custom",attrs:{block:"",variant:"primary"},on:{click:function(t){return e.submitSetConfirm(0)}}},[e._v("\n          Odtwierdz\n        ")]):s("b-btn",{staticClass:"custom mt-2",attrs:{block:"",variant:"primary"},on:{click:function(t){return e.submitSetConfirm(1,!0)}}},[e._v("\n          Zatwierdź\n        ")])],1)],1)],1)],1)},staticRenderFns:[]};var Ps={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var js={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Ds={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Ls={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var zs={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Fs={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Is={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"wrap"})},staticRenderFns:[]};var Ns={name:"FormLessons",components:{lessonList:_s},props:["sportObject"]},Es={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("lessonList",{attrs:{sportObject:this.sportObject}})],1)},staticRenderFns:[]};var Os={name:"SportObjectForm",components:{TabLinks:$e,FormMainData:s("VU/8")(Ts,Ss,!1,function(e){s("BwW3")},"data-v-59ec2978",null).exports,FormLeaders:s("VU/8")({name:"FormLeaders"},Ps,!1,function(e){s("sIvk")},"data-v-1838ade8",null).exports,FormParticipantGroups:s("VU/8")({name:"FormParticipantGroups"},js,!1,function(e){s("8C0e")},"data-v-1c3eefe2",null).exports,FormParticipants:s("VU/8")({name:"FormParticipants"},Ds,!1,function(e){s("qm6x")},"data-v-29c791e8",null).exports,FormCalendar:s("VU/8")({name:"FormCalendar"},Ls,!1,function(e){s("5TlW")},"data-v-3def9dcc",null).exports,FormFrequency:s("VU/8")({name:"FormFrequency"},zs,!1,function(e){s("zyIk")},"data-v-1a909be8",null).exports,FormMTSF:s("VU/8")({name:"FormMTSF"},Fs,!1,function(e){s("69lU")},"data-v-37adfb4c",null).exports,FormEvents:s("VU/8")({name:"FormEvents"},Is,!1,function(e){s("G9XT")},"data-v-59570f58",null).exports,FormLessons:s("VU/8")(Ns,Es,!1,function(e){s("5S2R")},"data-v-b506c762",null).exports},mixins:[F,ft],data:function(){return{tabLinks:[],districts:c.f,sportObject:{active:1,confirmed:!1,type:{id:null},name:"",district:null,address:"",postcode:"",mapImg:"",school:{id:null}},isValidForm:!1,isConfirmed:void 0}},computed:{},methods:{checkValidMainForm:function(){var e=this;this.$refs.FormMainData.checkValidForm().then(function(t){e.isValidForm=t})},submit:function(){var e=this,t=this.sportObject,s=void 0===this.id?"postSportObject":"putSportObject";this.$store.dispatch(s,t).then(function(){e.postSubmitRedirect("sport.objects")}).catch(function(t){e.postSubmitError(t)})},prepareSportObject:function(e){console.log(e),void 0!==e.type&&null!==e.type||(e.type={id:null}),this.sportObject=e}},created:function(){var e=this;this.$route.params.isConfirmed&&(this.isConfirmed=this.$route.params.isConfirmed),this.sportObject=ht()(this.sportObject,this.$store.getters.sportObject(this.isConfirmed,this.id)),void 0===this.$route.params.tab&&this.$router.push({name:"sport.object",params:{tab:"main-data"}});var t=[{text:"Obiekty sportowe",to:{name:"sport.objects",params:{tab:"confirmed"}}},{text:this.id?this.sportObject.name:"Nowy",active:!0}];this.changeAdminNavbarBreadcrumbs(t),this.id&&this.$store.dispatch("getSportObject",{id:this.id}).then(function(t){e.prepareSportObject(t),e.tabLinks=[{title:"Dane ogólne",link:"sport.object",tab:"main-data"},{title:"Zajęcia",link:"sport.object",tab:"activities"}];var s=[{text:"Obiekty sportowe",to:{name:"sport.objects",params:{tab:"confirmed"}}},{text:e.id?t.title:"Nowy",active:!0}];e.changeAdminNavbarBreadcrumbs(s)}),this.changeAdminNavbarButton({buttonLink:!1})}},As={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("TabLinks",{attrs:{links:e.tabLinks}}),e._v(" "),[s("FormMainData",{directives:[{name:"show",rawName:"v-show",value:"main-data"===e.$route.params.tab,expression:"$route.params.tab === 'main-data'"}],key:e.$route.params.tab+"FormMainData",ref:"FormMainData",attrs:{sportObject:e.sportObject,districts:e.districts},on:{childSubmit:e.submit}}),e._v(" "),"calendar"===e.$route.params.tab?s("FormCalendar",{key:e.$route.params.tab+"FormCalendar",ref:"FormCalendar",attrs:{sportObject:e.sportObject,isValidForm:e.isValidForm},on:{childSubmit:e.submit}}):e._e(),e._v(" "),"activities"===e.$route.params.tab?s("FormLessons",{key:e.$route.params.tab+"FormLessons",ref:"FormLessons",attrs:{sportObject:e.sportObject}}):e._e(),e._v(" "),"events"===e.$route.params.tab?s("FormEvents",{key:e.$route.params.tab+"FormEvents",ref:"FormActivities",attrs:{sportObject:e.sportObject,isValidForm:e.isValidForm},on:{childSubmit:e.submit}}):e._e()]],2)},staticRenderFns:[]};var Ms=s("VU/8")(Os,As,!1,function(e){s("oQ1x")},"data-v-47db9320",null).exports,qs={components:{LeaderTable:jt},mixins:[Ue,Xe,F,Tt],data:function(){return{school:null,fieldsSchools:[{key:"type",label:"Typ",sortable:!0},{key:"name",label:"Nazwa",sortable:!0},{key:"object",label:"Obiekty sportowe",sortable:!0},{key:"data",label:"Data dodania",sortable:!0},{key:"btnTable",label:"",sortable:!0},{key:"edit",label:""}],fieldsSportObjects:[{key:"name",label:"Nazwa obiektu",sortable:!0},{key:"type",label:"Typ obiektu",sortable:!0},{key:"data",label:"Data dodania",sortable:!0},{key:"btnTable",label:"",sortable:!0},{key:"edit",label:""}],fieldsLeaders:[{key:"fullName",label:"Imię i Nazwisko",sortable:!0},{key:"disciplines",label:"Dyscyplina",sortable:!0},{key:"status",label:"Status w systemie",sortable:!0},{key:"btnTable",label:"",sortable:!0}],fieldsEvents:[{key:"dateStart",label:"Data rozpoczęcia",sortable:!0},{key:"title",label:"Nazwa",sortable:!0},{key:"discipline",label:"Dyscyplina",sortable:!0},{key:"organization",label:"Organizator",sortable:!0},{key:"btnTable",label:"",sortable:!0},{key:"edit",label:""}],parsedChanges:{},historyFields:[{key:"createdLog",label:"Kiedy",sortable:!0},{key:"user",label:"Kto",sortable:!0},{key:"method",label:"Rodzaj akcji",sortable:!0},{key:"object",label:"Gdzie",sortable:!0},{key:"school",label:"szkoła / klub",sortable:!0},{key:"changes",label:"Zmiana",sortable:!0},{key:"id",label:"id",sortable:!0}],historyData:[],actionsBE:[{val:"POST",label:"Dodanie"},{val:"PUT",label:"Edycja"},{val:"DELETE",label:"Usunięcie"}]}},computed:L()({},Object(I.c)(["sportObjectsToConfirm","sportObjectTypes","disciplines","leadersToConfirm","eventsToConfirm"]),{schoolsToConfirm:function(){return this.$store.getters.schoolsToConfirm}}),methods:{acceptLeaderInvitation:function(e){var t=this,s={id:this.school.id,leaders:[e]};this.$store.dispatch("putSchool",s).then(function(e){t.school=t.$store.getters.school(t.isConfirmed,t.school.id)})},confirmEvent:function(e){var t=this;this.$store.dispatch("putEvent",{id:e,confirmed:1}).then(function(e){t.$store.dispatch("getEvents",{confirmed:0,forSchool:!0})})},confirmLeader:function(e){var t=this;this.$store.dispatch("putLeader",{id:e,confirmed:1}).then(function(e){t.$store.dispatch("getLeaders",{confirmed:0})})},confirmSchoolAndClubItem:function(e){var t=this;this.$store.dispatch("putSchool",{id:e,confirmed:1}).then(function(e){t.$store.dispatch("getSchools",{confirmed:0})})},confirmSportObjectItem:function(e){var t=this;this.$store.dispatch("putSportObject",{id:e,confirmed:1}).then(function(e){t.$store.dispatch("getSportObjects",{confirmed:0})})},schoolRowRedirect:function(e,t){this.$router.push({name:"school.or.club",params:{tab:"main-data",id:e.id,isConfirmed:t}})},sportObjectRowRedirect:function(e,t){this.$router.push({name:"sport.object",params:{tab:"main-data",id:e.id,isConfirmed:t}})},leaderRowRedirect:function(e,t){this.$router.push({name:"leader",params:{tab:"main-data",id:e.id,isConfirmed:t}})},eventRowRedirect:function(e,t){this.$router.push({name:"event",params:{tab:"main-data",id:e.id,isConfirmed:t}})},hideModal:function(){this.$refs.modalChanges.hide()},showChanges:function(e){this.parsedChanges=JSON.parse(e),this.$refs.modalChanges.show()},getMethodName:function(e){var t=this.actionsBE.find(function(t){return t.val===e});return void 0===t?"":t.label}},created:function(){var e=this;this.$store.dispatch("getSchools").then(function(t){!e.$store.getters.isAdmin&&e.$store.getters.isDirector&&e.$store.dispatch("getSchool",{id:t[0].id}).then(function(t){e.school=JSON.parse(pt()(t))})}),this.$store.dispatch("getSportObjects",{confirmed:0}),this.$store.dispatch("getSportObjectTypes"),this.$store.dispatch("getLeaders",{confirmed:0}),this.$store.dispatch("getEvents",{confirmed:0,forSchool:!0}),this.$store.dispatch("getDisciplines"),this.$store.getters.isAdmin&&this.$store.dispatch("getLogs",{currentPage:1,perPage:10}).then(function(t){e.historyData=t.data}),this.changeAdminNavbarButton({buttonLink:!1}),this.changeAdminNavbarBreadcrumbs([{text:"Dashboard",active:!0}])}},Rs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-between"},[s("b-col",{class:{"col-xl-6":e.$store.getters.isAdmin,"col-lg-6":e.$store.getters.isAdmin,"col-md-12":e.$store.getters.isAdmin,"col-sm-12":e.$store.getters.isAdmin}},[s("h3",{staticClass:"mb-4"},[e._v("Do zatwierdzenia")]),e._v(" "),e.$store.getters.isAdmin?s("h4",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-schools",modifiers:{"collapse-schools":!0}}]},[s("span",{staticClass:"mr-3"},[e._v("^")]),e._v("Kłuby i szkoły")]):e._e(),e._v(" "),e.$store.getters.isAdmin?s("b-collapse",{staticClass:"mt-2",attrs:{visible:"",id:"collapse-schools"}},[s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.schoolListFiltered,fields:e.fieldsSchools,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.schoolRowRedirect},scopedSlots:e._u([{key:"type",fn:function(t){return[s("div",{staticClass:"d-flex align-items-center justify-content-between"},[s("div",{staticClass:"wrap-img-type-table mr-3"},[s("img",{attrs:{src:t.item.image||"https://placeimg.com/50/50/any",alt:""}})]),e._v(" "),s("span",[e._v(e._s(0==t.item.type?"Klub":"Szkoła"))])])]}},{key:"object",fn:function(t){return[s("span",[e._v(e._s(t.item.places.length))])]}},{key:"data",fn:function(t){return[s("span",[e._v(e._s(t.item.created))])]}},{key:"btnTable",fn:function(t){return e.$store.getters.isDirector?[s("b-btn",{staticClass:"custom mb-0",attrs:{variant:"primary"},on:{click:function(s){return e.confirmSchoolAndClubItem(t.item.id)}}},[e._v("\n              Zatwierdź\n            ")])]:void 0}},{key:"edit",fn:function(e){return[s("b-link",{staticClass:"icon-link"},[s("span",{staticClass:"icon icon-iconm_search"})])]}}],null,!0)})],1):e._e(),e._v(" "),s("h4",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-sport-objects",modifiers:{"collapse-sport-objects":!0}}]},[s("span",{staticClass:"mr-3"},[e._v("^")]),e._v("Obiekty sportowe")]),e._v(" "),s("b-collapse",{staticClass:"mt-2",attrs:{visible:"",id:"collapse-sport-objects"}},[s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.sportObjectsToConfirm,fields:e.fieldsSportObjects,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.sportObjectRowRedirect},scopedSlots:e._u([{key:"name",fn:function(t){return[t.item?s("span",[e._v(e._s(t.item.title))]):e._e()]}},{key:"type",fn:function(t){return[s("span",[e._v(e._s(e.getSportObjectTypeNameById(t.item.type)))])]}},{key:"data",fn:function(t){return[s("span",[e._v(e._s(t.item.created))])]}},{key:"btnTable",fn:function(t){return e.$store.getters.isDirector?[s("b-btn",{staticClass:"custom mb-0",attrs:{variant:"primary"},on:{click:function(s){return e.confirmSportObjectItem(t.item.id)}}},[e._v("\n              Zatwierdź\n            ")])]:void 0}},{key:"edit",fn:function(e){return[s("b-link",{staticClass:"icon-link"},[s("span",{staticClass:"icon icon-iconm_search"})])]}}],null,!0)})],1),e._v(" "),e.$store.getters.isAdmin?s("h4",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-leaders",modifiers:{"collapse-leaders":!0}}]},[s("span",{staticClass:"mr-3"},[e._v("^")]),e._v("Prowadzący")]):e._e(),e._v(" "),e.$store.getters.isAdmin?s("b-collapse",{staticClass:"mt-2",attrs:{visible:"",id:"collapse-leaders"}},[s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.leadersToConfirm,fields:e.fieldsLeaders,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.leaderRowRedirect},scopedSlots:e._u([{key:"fullName",fn:function(t){return[s("span",[e._v(e._s(t.item.firstName+" "+t.item.lastName))])]}},{key:"disciplines",fn:function(t){return[s("span"),e._v(" "),e._l(t.item.disciplines,function(a,i){return s("span",{key:i,staticClass:"d-inline"},[e._v("\n          "+e._s(e.getDisciplineTitleById(a.id,i,t.item.disciplines.length))+"\n        ")])})]}},{key:"status",fn:function(t){return[s("span",{staticClass:"status",class:{active:t.item.status}},[e._v("\n          "+e._s(1==t.item.status?"aktywny":"nieaktywny")+"\n        ")])]}},{key:"edit",fn:function(e){return[s("b-link",{staticClass:"icon-link"},[s("span",{staticClass:"icon icon-iconm_search"})])]}},{key:"btnTable",fn:function(t){return e.$store.getters.isAdmin?[s("b-btn",{staticClass:"custom mb-0",attrs:{variant:"primary",size:"sm"},on:{click:function(s){return e.confirmLeader(t.item.id)}}},[e._v("\n              Zatwierdź\n            ")])]:void 0}}],null,!0)})],1):e._e(),e._v(" "),s("h4",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-parties",modifiers:{"collapse-parties":!0}}]},[s("span",{staticClass:"mr-3"},[e._v("^")]),e._v("Imprezy")]),e._v(" "),s("b-collapse",{staticClass:"mt-2",attrs:{visible:"",id:"collapse-parties"}},[s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.eventsToConfirm,fields:e.fieldsEvents,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.eventRowRedirect},scopedSlots:e._u([{key:"dateStart",fn:function(t){return[s("span",[e._v(e._s(t.item.dateStart.substr(0,t.item.dateStart.indexOf(" "))))])]}},{key:"discipline",fn:function(t){return[t.item.discipline&&t.item.discipline.id?s("span",[e._v("\n          "+e._s(e.getDisciplineTitleById(t.item.discipline.id))+"\n        ")]):e._e()]}},{key:"organization",fn:function(t){return[t.item.organization?s("span",[e._v(e._s(t.item.organization))]):t.item.school&&t.item.school.id?s("span",[e._v("\n          "+e._s(e.getSchoolNameById(t.item.school.id))+"\n        ")]):e._e()]}},{key:"btnTable",fn:function(t){return e.$store.getters.isAdmin?[s("b-btn",{staticClass:"custom mb-0",attrs:{variant:"primary"},on:{click:function(s){return e.confirmEvent(t.item.id)}}},[e._v("\n              Zatwierdź\n            ")])]:void 0}},{key:"edit",fn:function(t){return[s("span",{staticClass:"c-pointer"},[e._v("Szczegóły")])]}}],null,!0)})],1)],1),e._v(" "),e.$store.getters.isAdmin?s("b-col",{staticClass:"col-xl-6 col-lg-6 col-md-12 col-sm-12"},[s("h3",{staticClass:"mb-4"},[e._v("Ostatnie zmiany")]),e._v(" "),s("b-table",{staticClass:"custom table-responsive",attrs:{id:"history-table",items:e.historyData,fields:e.historyFields,striped:"","sort-icon-left":"",responsive:"md"},scopedSlots:e._u([{key:"user",fn:function(t){return[t.item.user?s("span",[e._v(e._s(t.item.user.firstName)+" "+e._s(t.item.user.lastName))]):e._e(),e._v(" "),s("br"),e._v(" "),t.item.user?s("span",[e._v(e._s(t.item.user.email))]):e._e()]}},{key:"method",fn:function(t){return[t.item?s("span",[e._v(e._s(e.getMethodName(t.item.method)))]):e._e()]}},{key:"school",fn:function(t){return[t.item.school?s("span",[e._v(e._s(t.item.school.name))]):e._e()]}},{key:"changes",fn:function(t){return[s("span",{directives:[{name:"show",rawName:"v-show",value:"DELETE"!==t.item.method,expression:"scope.item.method !== 'DELETE'"}],staticClass:"c-pointer",on:{click:function(s){return e.showChanges(t.item.changes)}}},[e._v("Szczegóły")])]}}],null,!1,2514591537)})],1):e._e(),e._v(" "),e.school&&!e.$store.getters.isAdmin&&e.$store.getters.isDirector?s("b-col",{staticClass:"col-xl-6 col-lg-6 col-md-12 col-sm-12"},[s("h5",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-invitations",modifiers:{"collapse-invitations":!0}}],staticClass:"c-pointer"},[s("span",{staticClass:"mr-3"},[e._v("^")]),e._v("Aplikacje prowadzących\n      ")]),e._v(" "),s("b-collapse",{staticClass:"mt-2",attrs:{visible:"",id:"collapse-invitations"}},e._l(e.school.invitations,function(t,a){return s("div",{key:a,staticClass:"row justify-content-between mb-2 align-items-center"},[s("div",{staticClass:"col-9"},[s("p",{staticClass:"mb-0"},[e._v(e._s(a+1)+". "+e._s(t.leader.firstName)+" "+e._s(t.leader.lastName)+"\n              ("+e._s(t.leader.email)+")")])]),e._v(" "),s("div",{staticClass:"col-3 text-right"},[!1===t.active?s("b-btn",{staticClass:"custom mb-0",attrs:{variant:"primary"},on:{click:function(s){return e.acceptLeaderInvitation(t.leader.id)}}},[e._v("\n              Zatwierdź\n            ")]):s("span",{staticClass:"status active"},[e._v("zatwierdzony")])],1)])}),0)],1):e._e()],1),e._v(" "),s("b-modal",{ref:"modalChanges",attrs:{"modal-class":"custom",centered:"",size:"md","hide-footer":!0,"footer-class":"justify-content-between","title-tag":"h2","header-class":"pr-4 pb-0"}},[s("template",{slot:"modal-title"},[e._v("\n      Dane po zmianie\n    ")]),e._v(" "),s("div",{staticClass:"d-flex",attrs:{slot:"default"},slot:"default"},[s("b-row",[s("ul",{staticClass:"d-block"},e._l(e.parsedChanges,function(t,a,i){return s("li",{key:i},[e._v("\n            "+e._s(a)+": "+e._s(t)+"\n          ")])}),0)])],1)],2)],1)},staticRenderFns:[]};var Gs=s("VU/8")(qs,Rs,!1,function(e){s("NqTi")},"data-v-7f20604d",null).exports,Us={name:"Leaders",components:{TabLinks:$e,Treeselect:r.a,LeaderTable:jt},mixins:[F,Ge.a],data:function(){return{tabLinks:[{title:"Zatwierdzone",link:"leaders",tab:"confirmed"},{title:"Do zatwierdzenia ("+this.$store.getters.leadersToConfirm.length+")",link:"leaders",tab:"to-confirm"}],selectedDisciplines:[],selectedSportObjects:[],search:""}},computed:L()({},Object(I.c)(["disciplines","sportObjects"]),{disciplinesTreeselect:function(){var e=[];for(var t in this.disciplines)e.push({id:this.disciplines[t].id,label:this.disciplines[t].title});return e},sportObjectsTreeselect:function(){var e=[];for(var t in this.sportObjects)e.push({id:this.sportObjects[t].id,label:this.sportObjects[t].title});return e},isDirector:function(){return this.$store.getters.isDirector}}),watch:{isDirector:function(e){this.checkNavButton(e)},"$store.getters.leadersToConfirm":function(e){this.tabLinks=[{title:"Zatwierdzone",link:"leaders",tab:"confirmed"},{title:"Do zatwierdzenia ("+e.length+")",link:"leaders",tab:"to-confirm"}]}},methods:{checkNavButton:function(e){e?this.changeAdminNavbarButton({buttonLink:"leader",params:{tab:"main-data"}}):this.changeAdminNavbarButton({buttonLink:!1})}},created:function(){void 0===this.$route.params.tab&&this.$router.push({name:"leaders",params:{tab:"confirmed"}}),this.$store.dispatch("getLeaders",{confirmed:1}),this.$store.dispatch("getLeaders",{confirmed:0}),this.$store.dispatch("getDisciplines"),this.$store.dispatch("getSportObjects"),this.checkNavButton(this.isDirector),this.changeAdminNavbarBreadcrumbs([{text:"Prowadzący",active:!0}])}},Bs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("TabLinks",{attrs:{links:e.tabLinks}})],1)],1),e._v(" "),s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"col-12 col-xl-8 col-lg-8 col-md-12 col-sm-12 mt-4"},[s("b-row",{staticClass:"align-items-center mb-3"},[s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Dyscyplina",options:e.disciplinesTreeselect},model:{value:e.selectedDisciplines,callback:function(t){e.selectedDisciplines=t},expression:"selectedDisciplines"}})],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Obiekt",options:e.sportObjectsTreeselect},model:{value:e.selectedSportObjects,callback:function(t){e.selectedSportObjects=t},expression:"selectedSportObjects"}})],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"input-1",placeholder:"Szukaj"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1)],1),e._v(" "),"confirmed"===e.$route.params.tab?s("leader-table",{key:e.$route.params.tab,attrs:{"is-confirmed":!0,filters:{selectedDisciplines:e.selectedDisciplines,selectedSportObjects:e.selectedSportObjects,search:e.search}}}):e._e(),e._v(" "),"to-confirm"===e.$route.params.tab?s("leader-table",{key:e.$route.params.tab,attrs:{"is-confirmed":!1,filters:{selectedDisciplines:e.selectedDisciplines,selectedSportObjects:e.selectedSportObjects,search:e.search}}}):e._e()],1)},staticRenderFns:[]};var Vs=s("VU/8")(Us,Bs,!1,function(e){s("+EAg")},"data-v-6a768d64",null).exports,Ys={name:"FormMainData",props:["lesson"],components:{Treeselect:r.a,DatePicker:Qt.a},mixins:[F,ft,bs],data:function(){return{orgType:0,lessonRepeat:c.h,datepickerParams:c.e}},watch:{"lesson.canceled":function(e){console.log(e),(e.length<1||!1===e)&&(this.lesson.newDate=null,this.lesson.newTimeRange=null)}},computed:L()({},Object(I.c)(["schools","disciplines","participantGroups","sportObjectsConfirmed","leadersConfirmed","classes","lessonCategories"]),{authUser:function(){return this.$store.getters.authUser},sportObjectsTreeselect:function(){var e=this;return function(t){var s=e.sportObjectsConfirmed,a=[];for(var i in s)s[i].school&&parseInt(s[i].school.id)!==parseInt(t)||a.push({id:s[i].id,label:s[i].title});return a}},participantGroupsTreeselect:function(){var e=this;return function(t){var s=e.participantGroups,a=[];for(var i in s)s[i].school&&parseInt(s[i].school.id)!==parseInt(t)||a.push({id:s[i].id,label:s[i].title});return a}},leadersTreeselect:function(){var e=this;return function(t){var s=e.leadersConfirmed,a=[];for(var i in s)Array.isArray(s[i].schoolsUsers)&&void 0!==s[i].schoolsUsers.find(function(e){return parseInt(e.school.id)===t})&&a.push({id:s[i].id,label:s[i].firstName});return a}},leadersReplaceTreeselect:function(){var e=this;return function(t){var s=e.leadersConfirmed,a=[],i=function(i){if(!Array.isArray(s[i].schoolsUsers)||void 0===s[i].schoolsUsers.find(function(e){return parseInt(e.school.id)===t}))return"continue";e.lesson.leader.id&&e.lesson.leader.id===s[i].id||void 0!==e.lesson.replacementLeaders.find(function(e){return e.leader.id===s[i].id})?a.push({id:s[i].id,label:s[i].firstName,isDisabled:!0}):a.push({id:s[i].id,label:s[i].firstName})};for(var n in s)i(n);return a}}}),methods:{getRepetitionDate:function(e){var t=new Date(this.lesson.date),s=new Date(t.getFullYear(),t.getMonth(),t.getDate()+7*e);return s.getFullYear()+"-"+(s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+"-"+(s.getDate()<10?"0"+s.getDate():s.getDate())},removeReplacedLeader:function(e){this.lesson.replacementLeaders.splice(e,1)},addReplacedLeader:function(){this.lesson.replacementLeaders.push({lesson:{id:this.id},active:!0,leader:{id:null}})},submit:function(e){var t=this;1!==this.authUser.role||this.$store.getters.isDirector||(this.lesson.leader.id=this.authUser.id),this.$validator.validateScopes().then(function(e){!1!==e&&t.$parent.submit()})},activateLesson:function(){this.lesson.active=!0,this.submit()},goToFormTab:function(e){this.$parent.goToFormTab(e)},checkValidTabForm:function(){return this.$validator.validateScopes()}},mounted:function(){this.$route.params.validateForm&&this.checkValidForm()},created:function(){this.changeAdminNavbarButton({buttonLink:!1}),this.$store.dispatch("getSchools"),this.$store.dispatch("getLeaders",{confirmed:1,forLesson:!0}),this.$store.dispatch("getSportObjects",{confirmed:1}),this.$store.dispatch("getDisciplines"),this.$store.dispatch("getParticipantGroups"),this.$store.dispatch("getLessonCategories"),this.$store.dispatch("getClasses")}},Zs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.lesson?s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("h5",{staticClass:"mb-3"},[e._v("Płeć")]),e._v(" "),s("b-form-checkbox-group",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"lesson.sex",staticClass:"mr-3 mb-3",class:{"error-input-custom":e.veeErrors.has("lesson.sex")},attrs:{id:"checkbox-group-1",name:"lesson.sex",options:[{text:"kobieta",value:0},{text:"mężczyzna",value:1}]},model:{value:e.lesson.sex,callback:function(t){e.$set(e.lesson,"sex",t)},expression:"lesson.sex"}}),e._v(" "),s("h5",{staticClass:"mb-3"},[e._v("Dane ogólne")]),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"lesson.title",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("lesson.title")},attrs:{id:"title-1",placeholder:"Nazwa zajęcia",name:"lesson.title"},model:{value:e.lesson.title,callback:function(t){e.$set(e.lesson,"title",t)},expression:"lesson.title"}})],1),e._v(" "),e.lesson.discipline?s("b-form-group",{staticClass:"custom mb-2"},[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"lesson.discipline",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("lesson.discipline")},attrs:{multiple:!1,placeholder:"Dyscyplina",options:e.lessonDiscipline,name:"lesson.discipline"},model:{value:e.lesson.discipline.id,callback:function(t){e.$set(e.lesson.discipline,"id",t)},expression:"lesson.discipline.id"}})],1):e._e(),e._v(" "),e.lesson.lessonCategory?s("b-form-group",{staticClass:"custom mb-2"},[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"lesson.lessonCategory",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("lesson.lessonCategory")},attrs:{multiple:!1,placeholder:"Kategoria",options:e.lessonCategory,name:"lesson.lessonCategory"},model:{value:e.lesson.lessonCategory.id,callback:function(t){e.$set(e.lesson.lessonCategory,"id",t)},expression:"lesson.lessonCategory.id"}})],1):e._e(),e._v(" "),e.lesson.class?s("b-form-group",{staticClass:"custom mb-4"},[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"lesson.class",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("lesson.class")},attrs:{multiple:!1,placeholder:"Klasa",options:e.lessonClass,name:"lesson.class"},model:{value:e.lesson.class.id,callback:function(t){e.$set(e.lesson.class,"id",t)},expression:"lesson.class.id"}})],1):e._e(),e._v(" "),s("h5",[e._v("Organizator")]),e._v(" "),s("b-form-group",e._l([{title:"Klub",value:0},{title:"Szkoła",value:1}],function(t,a){return void 0===e.lesson.id?s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"organizatorType"+a,staticClass:"d-inline-block mt-3 mr-3",class:{"error-input-custom":e.veeErrors.has("organizatorType")},attrs:{value:t.value,name:"organizatorType"},on:{change:function(t){e.lesson.school.id=null}},model:{value:e.orgType,callback:function(t){e.orgType=t},expression:"orgType"}},[e._v("\n        "+e._s(t.title)+"\n      ")]):e._e()}),1),e._v(" "),e.lesson.school?s("b-form-group",[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"lesson.school",staticClass:"custom mb-2",class:{"error-input-custom":e.veeErrors.has("lesson.school")},attrs:{multiple:!1,disabled:null!==e.lesson.school.id&&void 0!==e.lesson.id,placeholder:"Klub / Szkoła",options:e.schoolsAndClubsPrepared,name:"lesson.school"},model:{value:e.lesson.school.id,callback:function(t){e.$set(e.lesson.school,"id",t)},expression:"lesson.school.id"}})],1):e._e(),e._v(" "),!e.lesson.leader||e.authUser&&1===e.authUser.role&&!e.$store.getters.isDirector?e._e():s("b-form-group",{staticClass:"custom mb-2"},[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"lesson.leaders",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("lesson.leaders")},attrs:{disabled:null!==e.lesson.leader.id&&void 0!==e.lesson.id,multiple:!1,placeholder:"Prowadzący",options:e.leadersTreeselect(e.lesson.school.id),name:"lesson.leaders"},model:{value:e.lesson.leader.id,callback:function(t){e.$set(e.lesson.leader,"id",t)},expression:"lesson.leader.id"}})],1),e._v(" "),e.lesson.place?s("b-form-group",{staticClass:"custom mb-2"},[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"lesson.place",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("lesson.place")},attrs:{multiple:!1,placeholder:"Obiekt sportowy",options:e.sportObjectsTreeselect(e.lesson.school.id),name:"lesson.place"},model:{value:e.lesson.place.id,callback:function(t){e.$set(e.lesson.place,"id",t)},expression:"lesson.place.id"}})],1):e._e(),e._v(" "),e.lesson.participantGroup?s("b-form-group",{staticClass:"custom mb-2"},[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"lesson.participantGroup",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("lesson.participantGroup")},attrs:{multiple:!1,placeholder:"Lista zawodników",options:e.participantGroupsTreeselect(e.lesson.school.id),name:"lesson.participantGroup"},model:{value:e.lesson.participantGroup.id,callback:function(t){e.$set(e.lesson.participantGroup,"id",t)},expression:"lesson.participantGroup.id"}})],1):e._e(),e._v(" "),s("h5",{staticClass:"my-4"},[e._v("Czas")]),e._v(" "),s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"lesson.date",staticClass:"w-100 custom mb-3",class:{"error-input-custom":e.veeErrors.has("lesson.date")},attrs:{lang:e.datepickerParams.lang,name:"lesson.date","value-type":"format",format:"YYYY-MM-DD",type:"date",placeholder:"Data",id:"lessonDate"},model:{value:e.lesson.date,callback:function(t){e.$set(e.lesson,"date",t)},expression:"lesson.date"}}),e._v(" "),s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"lesson.timeRange",staticClass:"w-100 custom mb-3",class:{"error-input-custom":e.veeErrors.has("lesson.timeRange")},attrs:{lang:e.datepickerParams.lang,"minute-step":5,"hour-options":e.datepickerParams.hours,format:"HH:mm","value-type":"format",type:"time",placeholder:"Godziny / minuty",range:"",name:"lesson.timeRange",id:"lessonTimeRange"},scopedSlots:e._u([{key:"header",fn:function(t){return t.emit,[s("b-row",{staticClass:"mt-1 justify-content-center"},[s("b-col",{staticClass:"text-center"},[s("p",{},[e._v("Godz:min")])]),e._v(" "),s("b-col",{staticClass:"text-center"},[s("p",{},[e._v("Godz:min")])])],1)]}}],null,!1,3714308189),model:{value:e.lesson.timeRange,callback:function(t){e.$set(e.lesson,"timeRange",t)},expression:"lesson.timeRange"}}),e._v(" "),void 0===e.lesson.id&&e.lesson.date?s("b-form-group",{staticClass:"custom mb-4"},[s("treeselect",{staticClass:"custom m-0",attrs:{id:"lessonRepetition",multiple:!1,placeholder:"Powtarzaj przez..",options:e.lessonRepeat},model:{value:e.lesson.repetition,callback:function(t){e.$set(e.lesson,"repetition",t)},expression:"lesson.repetition"}})],1):e._e(),e._v(" "),void 0===e.lesson.id&&e.lesson.date?s("h6",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-repetitions",modifiers:{"collapse-repetitions":!0}}]},[s("span",{staticClass:"mr-3"},[e._v("^")]),e._v("Daty\n      powtórzeń")]):e._e(),e._v(" "),s("b-collapse",{staticClass:"mt-2",attrs:{visible:"",id:"collapse-repetitions"}},e._l(e.lesson.repetition,function(t,a){return s("div",{key:a},[e._v("\n        "+e._s(t)+". "+e._s(e.getRepetitionDate(t))+"\n      ")])}),0),e._v(" "),void 0!==e.id?s("b-form-group",{staticClass:"custom checkbox-big-span mb-3"},[s("b-form-checkbox-group",{attrs:{id:"lessonCanceled",options:[{text:"Zajęcia odwołane",value:!0}],"unchecked-value":!1,value:!0,name:"flavour-1"},model:{value:e.lesson.canceled,callback:function(t){e.$set(e.lesson,"canceled",t)},expression:"lesson.canceled"}})],1):e._e(),e._v(" "),void 0!==e.id&&(e.lesson.canceled.length>0||e.lesson.canceled)?[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"lesson.newDate",staticClass:"w-100 custom mb-3",class:{"error-input-custom":e.veeErrors.has("lesson.newDate")},attrs:{lang:e.datepickerParams.lang,name:"lesson.newDate","value-type":"format",format:"YYYY-MM-DD",type:"date",placeholder:"Nowa data",id:"lessonNewDate"},model:{value:e.lesson.newDate,callback:function(t){e.$set(e.lesson,"newDate",t)},expression:"lesson.newDate"}}),e._v(" "),s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"lesson.newTimeRange",staticClass:"w-100 custom mb-3",class:{"error-input-custom":e.veeErrors.has("lesson.newTimeRange")},attrs:{lang:e.datepickerParams.lang,"minute-step":5,"hour-options":e.datepickerParams.hours,format:"HH:mm","value-type":"format",type:"time",placeholder:"Godziny / minuty",range:"",name:"lesson.newTimeRange",id:"lessonNewTimeRange"},on:{clear:function(t){e.lesson.newTimeRange=[]}},scopedSlots:e._u([{key:"header",fn:function(t){return t.emit,[s("b-row",{staticClass:"mt-1 justify-content-center"},[s("b-col",{staticClass:"text-center"},[s("p",{},[e._v("Godz:min")])]),e._v(" "),s("b-col",{staticClass:"text-center"},[s("p",{},[e._v("Godz:min")])])],1)]}}],null,!1,3714308189),model:{value:e.lesson.newTimeRange,callback:function(t){e.$set(e.lesson,"newTimeRange",t)},expression:"lesson.newTimeRange"}})]:e._e(),e._v(" "),void 0!==e.id?s("b-form-group",{staticClass:"custom checkbox-big-span mb-3"},[s("b-form-checkbox-group",{attrs:{id:"lessonReplaced",options:[{text:"Zastępstwa",value:!0}],"unchecked-value":!1,disabled:e.lesson.replacementLeaders&&e.lesson.replacementLeaders.length>0&&!!e.lesson.replacementLeaders[0].id,value:!0,name:"flavour-1"},model:{value:e.lesson.replaced,callback:function(t){e.$set(e.lesson,"replaced",t)},expression:"lesson.replaced"}})],1):e._e(),e._v(" "),void 0!==e.id&&e.lesson.replaced?[e._l(e.lesson.replacementLeaders,function(t,a){return s("div",{key:a},[s("h6",{staticClass:"my-3"},[e._v("Aktywuj")]),e._v(" "),s("b-form-group",e._l([{title:"Tak",value:!0},{title:"Nie",value:!1}],function(t,i){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],staticClass:"d-inline-block mr-3",class:{"error-input-custom":e.veeErrors.has("lesson.replacementLeaders.active"+a)},attrs:{value:t.value,disabled:!(e.authUser.id===e.lesson.leader.id||!e.lesson.id||e.$store.getters.isDirector),name:"lesson.replacementLeaders.active"+a},model:{value:e.lesson.replacementLeaders[a].active,callback:function(t){e.$set(e.lesson.replacementLeaders[a],"active",t)},expression:"lesson.replacementLeaders[index].active"}},[e._v("\n            "+e._s(t.title)+"\n          ")])}),1),e._v(" "),e.lesson.replacementLeaders[a].leader?s("b-form-group",{staticClass:"custom mt-2"},[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"lesson.replacementLeaders.leaders"+a,staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("lesson.replacementLeaders.leaders"+a)},attrs:{multiple:!1,disabled:!(e.authUser.id===e.lesson.leader.id||!e.lesson.id||e.$store.getters.isDirector),placeholder:"Prowadzący",options:e.leadersReplaceTreeselect(e.lesson.school.id),name:"lesson.replacementLeaders.leaders"+a},model:{value:e.lesson.replacementLeaders[a].leader.id,callback:function(t){e.$set(e.lesson.replacementLeaders[a].leader,"id",t)},expression:"lesson.replacementLeaders[index].leader.id"}})],1):e._e(),e._v(" "),null===e.lesson.replacementLeaders[a].leader.id||void 0===e.lesson.replacementLeaders[a].leader.id?s("b-btn",{staticClass:"custom d-block mr-auto mb-2",attrs:{variant:"delete",size:"sm"},on:{click:function(t){return e.removeReplacedLeader(a)}}},[e._v("Usuń\n        ")]):e._e()],1)}),e._v(" "),s("b-btn",{staticClass:"custom d-block ml-auto my-3",attrs:{disabled:!(e.authUser.id===e.lesson.leader.id||!e.lesson.id||e.$store.getters.isDirector),variant:"primary",size:"sm"},on:{click:e.addReplacedLeader}},[e._v("Dodaj\n      ")])]:e._e(),e._v(" "),s("b-row",{staticClass:"mt-4"},[s("b-col",[1==e.lesson.active?s("b-btn",{staticClass:"custom",attrs:{variant:"delete"},on:{click:function(t){return e.deleteFromForm("deleteLesson",e.lesson.id,void 0,"lessons",{})}}},[e._v("\n          Usuń\n        ")]):s("b-btn",{staticClass:"custom",attrs:{variant:"delete"},on:{click:e.activateLesson}},[e._v("\n          Przywróć\n        ")])],1),e._v(" "),s("b-col",[s("b-btn",{staticClass:"custom btn",attrs:{block:"",to:{name:"lessons"}}},[e._v("\n          Anuluj\n        ")])],1),e._v(" "),s("b-col",[s("b-btn",{staticClass:"custom",attrs:{variant:"primary",block:""},on:{click:e.submit}},[e._v("\n          Zapisz\n        ")])],1)],1)],2)],1):e._e()},staticRenderFns:[]};var Ks=s("VU/8")(Ys,Zs,!1,function(e){s("QGL9")},"data-v-024c2e98",null).exports,Ws={name:"FormObjects",props:["lesson","schoolIds"],components:{Treeselect:r.a},mixins:[F,ft,bs],data:function(){return{selectedSchoolsIds:[],titlePlace:"",orgTypes:[]}},computed:L()({},Object(I.c)(["schools","sportObjects"]),{lessonSportObjects:{get:function(){return this.checkLessonSportObjects(this.$store.getters.lessonSportObjects),this.$store.getters.lessonSportObjects},set:function(e){console.log(e),this.$store.dispatch("setLessonSportObjects",e)}},schoolOrClubTreeselect:function(){var e=this;return function(t){var s=e.schools,a=[];for(var i in s)void 0!==e.orgTypes[t]&&parseInt(s[i].type)!==e.orgTypes[t]||(-1===e.selectedSchoolsIds.indexOf(s[i].id)?a.push({id:s[i].id,label:s[i].name}):a.push({id:s[i].id,label:s[i].name,isDisabled:!0}));return a}},sportObjectByIdTreeselect:function(){var e=this;return function(t){var s=e.sportObjects,a=[];for(var i in s){void 0!==s[i].schools.find(function(e){return parseInt(e.id)===parseInt(t)})&&a.push({id:s[i].id,label:s[i].title})}return a}}}),methods:L()({},Object(I.b)(["getSportObjects","getSchools"]),{deleteLessonSportObject:function(e,t){this.$store.dispatch("deleteLessonSportObject",{id:e}),console.log(t),delete this.orgTypes[t]},addEmptyLessonSportObject:function(){this.$store.dispatch("addEmptyLessonSportObject")},removeSportObject:function(e){this.lesson.sportObjects.splice(e,1)},addSportObject:function(){this.lesson.sportObjects.push({id:null})},goToFormTab:function(e){this.$parent.goToFormTab(e)},submit:function(e){console.log(e);var t={id:this.$route.params.id,lessonSchools:ht()({},this.lessonSportObjects)};this.$parent.submit(t,e)},checkLessonSportObjects:function(e){for(var t in this.selectedSchoolsIds=[],e)e[t].school&&e[t].school.id&&-1===this.selectedSchoolsIds.indexOf(e[t].school.id)&&this.selectedSchoolsIds.push(e[t].school.id)}}),created:function(){this.getSchools(),this.getSportObjects({confirmed:1}),this.$emit("tabLinkChanged","sportObjects")}},Hs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.lesson?s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"6"}},[s("h5",{staticClass:"mb-3"},[e._v("Obiekty Sportowe")]),e._v(" "),e._l(e.lessonSportObjects,function(t,a){return e.lessonSportObjects?s("div",{key:a,staticClass:"row"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"text-center _custom-css"},[s("p",{staticClass:"m-auto"},[e._v(e._s(a+1))])]),e._v(" "),e.lessonSportObjects.length>0?s("p",{on:{click:function(t){return e.deleteLessonSportObject(e.lessonSportObjects[a].id,a)}}},[e._v("usuń")]):e._e()]),e._v(" "),s("div",{staticClass:"col-10"},[e._l([{title:"Klub",value:0},{title:"Szkoła",value:1}],function(t,i){return s("b-form-radio",{key:"orgType"+a+"_"+i,staticClass:"d-inline-block mr-4 mb-2",attrs:{value:t.value,name:"orgType"+a+"_"+i},model:{value:e.orgTypes[a],callback:function(t){e.$set(e.orgTypes,a,t)},expression:"orgTypes[index]"}},[e._v("\n          "+e._s(t.title)+"\n        ")])}),e._v(" "),e.lessonSportObjects[a].school?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"lessonSportObjects.school"+a,staticClass:"custom mb-2",class:{"error-input-custom":e.veeErrors.has("lessonSportObjects.school"+a)},attrs:{multiple:!1,placeholder:"Nawa Klub / szkoły",options:e.schoolOrClubTreeselect(a),name:"lessonSportObjects.school"+a},on:{change:function(t){e.lessonSportObjects[a].places=[]}},model:{value:e.lessonSportObjects[a].school.id,callback:function(t){e.$set(e.lessonSportObjects[a].school,"id",t)},expression:"lessonSportObjects[index].school.id"}}):e._e(),e._v(" "),e.lessonSportObjects[a].place?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"lessonSportObjects.place"+a,staticClass:"custom mb-4",class:{"error-input-custom":e.veeErrors.has("lessonSportObjects.place"+a)},attrs:{multiple:!1,placeholder:"Nawa obiektu",name:"lessonSportObjects.place"+a,options:e.sportObjectByIdTreeselect(e.lessonSportObjects[a].school.id)},model:{value:e.lessonSportObjects[a].place.id,callback:function(t){e.$set(e.lessonSportObjects[a].place,"id",t)},expression:"lessonSportObjects[index].place.id"}}):e._e()],2)]):e._e()}),e._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"text-center _custom-css"},[s("p",{staticClass:"m-auto"},[e._v(e._s(e.lessonSportObjects.length+1))])])]),e._v(" "),s("div",{staticClass:"col-10"},[s("b-btn",{attrs:{variant:"primary","block-class":"w-50"},on:{click:function(t){return e.addEmptyLessonSportObject()}}},[e._v("+ Dodaj\n        ")])],1)]),e._v(" "),s("b-row",{staticClass:"mt-4"},[s("b-col",[s("b-btn",{attrs:{"block-class":"custom btn",to:{name:"lessons"}}},[e._v("\n          Anuluj\n        ")])],1),e._v(" "),s("b-col",[s("b-btn",{attrs:{variant:"primary",block:""},on:{click:e.submit}},[e._v("Zapisz")])],1),e._v(" "),s("b-col",[s("b-btn",{attrs:{variant:"primary"},on:{click:function(t){return e.goToFormTab("participant-group-list")}}},[e._v("\n          Dalej\n        ")])],1)],1)],2)],1):e._e()},staticRenderFns:[]};var Js=s("VU/8")(Ws,Hs,!1,function(e){s("4BWr")},"data-v-1130e7b0",null).exports,Qs={components:{SportObjectTable:at},mixins:[],data:function(){return{}},computed:{sportObjectTypes:function(){return this.$store.getters.sportObjectTypes}},methods:{},created:function(){this.$store.dispatch("getSportObjectTypes")}},Xs={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},["confirmed"===this.$route.params.tab?t("SportObjectTable",{key:this.$route.params.tab,attrs:{sportObjectTypes:this.sportObjectTypes,"is-confirmed":!0,fieldsParams:[{key:"schoolOrClub",label:"Nazwa Klubu/Szkoły",sortable:!0,toInsert:!0},{key:"status",label:"Status w systemie",sortable:!0,toInsert:!0},{key:"edit",label:"",toInsert:!0}]}}):this._e()],1)},staticRenderFns:[]};var ea=s("VU/8")(Qs,Xs,!1,function(e){s("wkbB")},"data-v-77954af8",null).exports,ta={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"wrap"},[this._v("\n  FormParticipantGroupList\n")])},staticRenderFns:[]};var sa=s("VU/8")({name:"FormParticipantGroupList"},ta,!1,function(e){s("meyX")},"data-v-7559d0f5",null).exports,aa={name:"FormParticipants",components:{ParticipantList:Mt},props:["lesson"],created:function(){console.log(1111)}},ia={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("ParticipantList",{attrs:{lesson:this.lesson}})],1)},staticRenderFns:[]};var na=s("VU/8")(aa,ia,!1,function(e){s("FlXV")},"data-v-25c1e119",null).exports,oa={name:"FormFrequency",props:["lessonId"],components:{Frequency:ts}},ra={render:function(){var e=this.$createElement;return(this._self._c||e)("Frequency",{attrs:{lessonId:this.lessonId}})},staticRenderFns:[]};var ca=s("VU/8")(oa,ra,!1,function(e){s("TpfZ")},"data-v-02697679",null).exports,la={name:"LessonForm",components:{TabLinks:$e,Treeselect:r.a,FormMainData:Ks,FormObjects:Js,ListObjects:ea,FormParticipants:na,FormFrequency:ca,FormParticipantGroupsList:sa},mixins:[F,ft],data:function(){return{tabLinks:[{title:"Dane ogólne",link:"lesson",tab:"main-data",method:"changeTab",methodParams:"main-data"}],lesson:{repetition:null,date:null,newDate:null,timeRange:[],newTimeRange:[],active:!0,canceled:!1,replaced:!1,sex:[0,1],title:"",participantGroup:{id:null},school:{id:null},place:{id:null},leader:{id:null},discipline:{id:null},lessonCategory:{id:null},class:{id:null},replacementLeaders:[]},isValidForm:!1}},computed:L()({},Object(I.c)(["lessonSportObjects"])),methods:{changeTab:function(e){var t=this;return console.log(e),new M.a(function(s,a){return t.$refs[t.$route.params.tab].$validator.validateScopes().then(function(a){!1!==a?(t.$router.push({name:"lesson",params:{tab:e,id:t.id}}),s(a)):s(!1)}).catch(function(e){return a(e)})})},submit:function(e,t){var s=this;void 0===e&&(e=this.lesson);var a=void 0===this.id?"postLesson":"putLesson";void 0===this.id&&(delete e.newDate,delete e.newTimeRange),this.$store.dispatch(a,e).then(function(e){s.$router.push({name:"lessons",params:{filters:s.$route.params.filters}})}).catch(function(e){s.postSubmitError(e)})},prepareLesson:function(e){this.lesson=e,e.replacementLeaders&&e.replacementLeaders.length>0&&(this.lesson.replaced=!0),e.newDate&&e.newTimeRange&&e.newTimeRange.length>0&&(this.lesson.canceled=!0)},goToFormTab:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.checkValidMainForm();var s=L()({tab:e,id:this.id},t);this.$router.push({name:"lesson",params:s})}},created:function(){var e=this;void 0===this.$route.params.tab&&this.$router.push({name:"lesson",params:{tab:"main-data"}}),this.changeAdminNavbarButton({buttonLink:!1});this.changeAdminNavbarBreadcrumbs([{text:"Lista zajęć",to:{name:"lessons"}},{text:"Nowa",active:!0}]),this.id&&this.$store.dispatch("getLesson",{id:this.id}).then(function(t){e.prepareLesson(t),e.tabLinks=[{title:"Dane ogólne",link:"lesson",tab:"main-data",method:"changeTab",methodParams:"main-data"},{title:"Zawodnicy",link:"lesson",tab:"participants",method:"changeTab",methodParams:"participants"},{title:"Frekwencja",link:"lesson",tab:"frequency",method:"changeTab",methodParams:"frequency"}];var s=[{text:"Lista zajęć",to:{name:"lessons"}},{text:t.title,active:!0}];e.changeAdminNavbarBreadcrumbs(s)})}},ua={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("TabLinks",{attrs:{links:e.tabLinks}}),e._v(" "),[s("FormMainData",{directives:[{name:"show",rawName:"v-show",value:"main-data"===e.$route.params.tab,expression:"$route.params.tab === 'main-data'"}],key:e.$route.params.tab+"FormMainData",ref:"main-data",attrs:{lesson:e.lesson},on:{submit:e.submit}}),e._v(" "),"participants-list"===e.$route.params.tab?s("FormParticipantGroupsList",{key:e.$route.params.tab+"FormParticipantGroupsList",ref:"participants-list",attrs:{lesson:e.lesson,isValidForm:e.isValidForm},on:{submit:e.submit}}):e._e(),e._v(" "),"participants"===e.$route.params.tab?s("FormParticipants",{key:e.$route.params.tab+"FormParticipants",ref:"participants",attrs:{lesson:e.lesson}}):e._e(),e._v(" "),"frequency"===e.$route.params.tab&&e.lesson&&e.lesson.id?s("FormFrequency",{key:e.$route.params.tab+"Formfrequency",ref:"frequency",attrs:{"lesson-id":e.lesson.id}}):e._e()]],2)},staticRenderFns:[]};var da=s("VU/8")(la,ua,!1,function(e){s("J0c2")},"data-v-f8a90cdc",null).exports,pa={components:{Treeselect:r.a,Lessons:Ht,Events:ls,Calendar:O,DatePicker:Qt.a},mixins:[F],props:["showLessons","showEvents"],data:function(){return{lessonsFields:[{key:"school",label:"Szkoła / Klub",sortable:!0},{key:"title",label:"Nazwa zajęcia",sortable:!0},{key:"leaders",label:"Prowadzący",sortable:!1},{key:"status",label:"Status w systemie",sortable:!1},{key:"edit",label:""}],eventsFields:[{key:"dateStart",label:"Data rozpoczęcia",sortable:!0},{key:"title",label:"Nazwa",sortable:!0},{key:"organization",label:"Organizator",sortable:!0},{key:"edit",label:" ",sortable:!0}]}},computed:L()({},Object(I.c)(["leaderById"]),{storeLessons:function(){return this.$store.getters.lessons},storeEvents:function(){return this.$store.getters.eventsConfirmed},schoolsAndClubs:function(){return this.$store.getters.schools},buildUserNames:function(){return function(e){return void 0===e||null===e?null:e.firstName+" "+e.lastName}}}),methods:{getSchoolNameById:function(e){if(void 0===this.schoolsAndClubs||null===this.schoolsAndClubs||this.schoolsAndClubs.length<1)return"";var t=this.schoolsAndClubs.find(function(t){return t.id===e});return t?t.name:""},rowRedirectEvent:function(e){(this.$store.getters.isAdmin||this.$store.getters.isDirector)&&this.$router.push({name:"event",params:{tab:"main-data",id:e.id,isConfirmed:!0}})},rowRedirectLesson:function(e){this.$router.push({name:"lesson",params:{tab:"main-data",id:e.id}})}},created:function(){}},ma={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[e.showLessons&&e.showLessons.length>0?s("div",[s("h4",[e._v("Zajęcia")]),e._v(" "),s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.storeLessons,fields:e.lessonsFields,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.rowRedirectLesson},scopedSlots:e._u([{key:"school",fn:function(t){return[t.item&&t.item.school?s("span",[e._v("\n            "+e._s(e.getSchoolNameById(t.item.school.id))+"\n          ")]):e._e()]}},{key:"leaders",fn:function(t){return[t.item&&t.item.leader?s("span",[e._v("\n            "+e._s(e.buildUserNames(e.leaderById(t.item.leader.id)))+"\n          ")]):e._e()]}},{key:"status",fn:function(t){return[s("span",{staticClass:"status",class:{active:t.item.active}},[e._v(e._s(1==t.item.active?"aktywny":"nieaktywny"))])]}},{key:"edit",fn:function(e){return[s("b-link",{staticClass:"icon-link"},[s("span",{staticClass:"icon icon-iconm_search"})])]}}],null,!1,3559696022)})],1)],1)],1):e._e(),e._v(" "),e.showEvents&&e.showEvents.length>0?s("div",[s("h4",{staticClass:"my-3"},[e._v("Imprezy sportowe")]),e._v(" "),s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.storeEvents,fields:e.eventsFields,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.rowRedirectEvent},scopedSlots:e._u([{key:"dateStart",fn:function(t){return[s("span",[e._v(e._s(t.item.dateStart.substr(0,t.item.dateStart.indexOf(" "))))])]}},{key:"organization",fn:function(t){return[t.item.organization?s("span",[e._v(e._s(t.item.organization))]):t.item.school&&t.item.school.id?s("span",[e._v("\n          "+e._s(e.getSchoolNameById(t.item.school.id))+"\n        ")]):e._e()]}},{key:"edit",fn:function(t){return[s("span",{staticClass:"c-pointer"},[e._v("Szczegóły")])]}}],null,!1,245681500)})],1)],1)],1):e._e()])],1)],1)},staticRenderFns:[]};var ha={components:{List:s("VU/8")(pa,ma,!1,function(e){s("/5WI")},"data-v-8b4133c6",null).exports,TabLinks:$e,Treeselect:r.a,Lessons:Ht,Events:ls,Calendar:O,DatePicker:Qt.a},mixins:[F],data:function(){return{datepickerParams:c.e,rerenderCalendar:!1,tabLinks:[{title:"Kalendarz",link:"calendar",tab:"calendar"},{title:"Lista",link:"calendar",tab:"list"}],selectedYearFrom:null,selectedYearTo:null,districts:c.f,lessons:{districtValue:null,selectedType:[],schoolsAndClubs:null,selectedDiscipline:null,selectedCategory:null,selectedClass:null,selectedYear:null,selectedSportObject:null,selectedLeader:null,selectedLesson:null},events:{selectedYearFrom:null,selectedYearTo:null,address:"",organization:"",selectedDiscipline:null,selectedSchoolOrCLub:null},showLessons:[1],showEvents:[1]}},computed:{storeLessons:function(){return this.$store.getters.lessons},storeEvents:function(){return this.$store.getters.eventsConfirmed},schoolsAndClubsPrepared:function(){var e=this.$store.getters.schools,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].name});return t},disciplinesPrepared:function(){var e=this.$store.getters.disciplines,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t}},methods:{filterByRole:function(){var e=this.$store.getters.authUser;this.$store.getters.isDirector||(this.lessons.selectedLeader=[e.id],this.filter())},filter:function(){var e=this,t={lesson:this.lessons,dateFrom:this.selectedYearFrom,dateTo:this.selectedYearTo},s=L()({},this.events);s.selectedYearFrom=this.selectedYearFrom,s.selectedYearTo=this.selectedYearTo,this.$store.dispatch("getLessons",{filters:t}).then(function(t){e.$store.dispatch("getEvents",{confirmed:1,filters:s}).then(function(t){e.rerenderCalendar=!e.rerenderCalendar,e.$refs.mainCalendar&&e.$refs.mainCalendar.recalculateCalendar()})})},initCurrentMonthRange:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),s=new Date(e.getFullYear(),e.getMonth()+1,0);t=t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate()),s=s.getFullYear()+"-"+(s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+"-"+(s.getDate()<10?"0"+s.getDate():s.getDate()),this.selectedYearFrom=t,this.selectedYearTo=s;var a={dateFrom:t,dateTo:s};this.$store.dispatch("getLessons",{filters:a}),this.$store.dispatch("getEvents",{confirmed:1,filters:a})}},created:function(){this.initCurrentMonthRange(),this.$store.dispatch("getSchools",{confirmed:1,getAll:!0}),this.$store.dispatch("getSportObjects",{confirmed:1}),this.$store.dispatch("getLeaders",{confirmed:1,forLesson:!0}),this.$store.dispatch("getDisciplines"),this.$store.dispatch("getLessonCategories"),this.$store.dispatch("getClasses"),void 0===this.$route.params.tab&&this.$router.push({name:"calendar",params:{tab:"calendar"}}),this.changeAdminNavbarButton({buttonLink:!1}),this.changeAdminNavbarBreadcrumbs([{text:"Kalendarz zajęć i wydarzeń",active:!0}])}},fa={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("b-row",{},[s("b-col",[s("h4",[e._v("Zakres")])]),e._v(" "),s("b-col",[s("b-row",{staticClass:"justify-content-end"},[s("b-btn",{staticClass:"mr-3",attrs:{variant:"primary"},on:{click:e.filter}},[e._v("Filtruj")])],1)],1)],1),e._v(" "),s("b-row",{staticClass:"my-3"},[s("b-col",{attrs:{cols:"5"}},[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"selectedYearFrom",staticClass:"w-100 custom mt-3",class:{"error-input-custom":e.veeErrors.has("selectedYearFrom")},attrs:{lang:e.datepickerParams.lang,name:"selectedYearFrom","value-type":"format",format:"YYYY-MM-DD",type:"date",id:"selectedYearFrom",placeholder:"Od"},model:{value:e.selectedYearFrom,callback:function(t){e.selectedYearFrom=t},expression:"selectedYearFrom"}})],1),e._v(" "),s("b-col",{attrs:{cols:"2"}},[s("hr",{staticClass:"mt-4 mb-0"})]),e._v(" "),s("b-col",{attrs:{cols:"5"}},[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"selectedYearTo",staticClass:"w-100 custom mt-3",class:{"error-input-custom":e.veeErrors.has("selectedYearTo")},attrs:{lang:e.datepickerParams.lang,name:"selectedYearTo","value-type":"format",format:"YYYY-MM-DD",type:"date",id:"selectedYearTo",placeholder:"Do"},model:{value:e.selectedYearTo,callback:function(t){e.selectedYearTo=t},expression:"selectedYearTo"}})],1)],1),e._v(" "),s("b-form-group",{staticClass:"custom checkbox-big-span mb-3"},[s("b-form-checkbox-group",{attrs:{id:"checkbox-group-1",options:[{text:"Zajęcia",value:1}],"unchecked-value":!1,value:"false",name:"flavour-1"},model:{value:e.showLessons,callback:function(t){e.showLessons=t},expression:"showLessons"}})],1),e._v(" "),s("lessons",{directives:[{name:"show",rawName:"v-show",value:e.showLessons.length>0,expression:"showLessons.length > 0"}],attrs:{districts:e.districts,lessons:e.lessons}}),e._v(" "),s("b-form-group",{staticClass:"custom checkbox-big-span my-3"},[s("b-form-checkbox-group",{attrs:{id:"checkbox-group-show-events",options:[{text:"Imprezy sportowe",value:1}],"unchecked-value":!1,value:"false",name:"checkbox-group-show-events"},model:{value:e.showEvents,callback:function(t){e.showEvents=t},expression:"showEvents"}})],1),e._v(" "),s("events",{directives:[{name:"show",rawName:"v-show",value:e.showEvents.length>0,expression:"showEvents.length > 0"}],attrs:{events:e.events,disciplinesPrepared:e.disciplinesPrepared,schoolsAndClubsTreeselect:e.schoolsAndClubsPrepared}})],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("TabLinks",{attrs:{links:e.tabLinks}}),e._v(" "),"calendar"===e.$route.params.tab?s("calendar",{key:e.$route.params.tab+e.rerenderCalendar,ref:"mainCalendar",attrs:{lessons:e.storeLessons,events:e.storeEvents,showLessons:e.showLessons,showEvents:e.showEvents,dateFrom:e.selectedYearFrom,dateTo:e.selectedYearTo}}):e._e(),e._v(" "),"list"===e.$route.params.tab?s("list",{key:e.$route.params.tab,ref:"calendarList",attrs:{lessons:e.storeLessons,events:e.storeEvents,showLessons:e.showLessons,showEvents:e.showEvents}}):e._e()],1)],1)],1)},staticRenderFns:[]};var va=s("VU/8")(ha,fa,!1,function(e){s("jEfG")},"data-v-0870f0d0",null).exports,ba={mixins:[F,Ge.a],name:"CoAdministrators",data:function(){return{fields:[{key:"firstName",label:"Imię",sortable:!0},{key:"lastName",label:"Nazwisko",sortable:!0},{key:"phone",label:"Telefon",sortable:!0},{key:"email",label:"E-mail",sortable:!0},{key:"status",label:"Status w systemie",sortable:!0},{key:"edit",label:""}]}},computed:{administrators:function(){return this.$store.getters.administrators}},methods:{rowRedirect:function(e){this.$router.push({name:"co.administrator",params:{id:e.id}})}},created:function(){this.$store.dispatch("getAdministrators"),this.changeAdminNavbarButton({buttonLink:"co.administrator"}),this.changeAdminNavbarBreadcrumbs([{text:"Współadministratorzy",active:!0}])}},ga={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"col-12 col-xl-8 col-lg-8 col-md-12 col-sm-12 mt-4"},[s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.administrators,fields:e.fields,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.rowRedirect},scopedSlots:e._u([{key:"status",fn:function(t){return[s("span",{staticClass:"status",class:{active:t.item.active}},[e._v(e._s(1==t.item.active?"aktywny":"nieaktywny"))])]}},{key:"edit",fn:function(e){return[s("b-link",{staticClass:"icon-link"},[s("span",{staticClass:"icon icon-iconm_search"})])]}}])})],1)],1)],1)},staticRenderFns:[]};var ya=s("VU/8")(ba,ga,!1,function(e){s("Z/b0")},"data-v-6de03c18",null).exports,_a={name:"Messages",components:{Treeselect:r.a},mixins:[F,ft,{name:"MessagesMixin",data:function(){return{}},methods:{},computed:{schoolsTreeselect:function(){var e=this.$store.getters.schoolsConfirmed,t=[];for(var s in e)this.selectedType.length>0?this.selectedType.includes(e[s].type)&&t.push({id:e[s].id,label:e[s].email}):t.push({id:e[s].id,label:e[s].email});return t},leadersTreeselect:function(){var e=this.$store.getters.leaders,t=[];for(var s in e)e[s].active&&t.push({id:e[s].id,label:e[s].email});return t}}},Se.a],data:function(){return{selectedMail:{title:"",description:""},mailTemplate:{id:this.id,title:"",description:""},selectedSchoolOrCLub:[],selectedLeaders:[],typeOptions:[{text:"klub",value:0},{text:"szkola",value:1}],selectedType:[],templateFields:[{key:"title",label:"Tytuł",sortable:!0},{key:"description",label:"Treść",sortable:!0}],recipientFields:[{key:"title",label:"Tytuł",sortable:!0},{key:"created",label:"Data wysłania",sortable:!0},{key:"recipient",label:"Odbiorca",sortable:!0},{key:"description",label:"Treść",sortable:!0}]}},computed:{sender:function(){return this.$store.getters.sender},mailTemplates:function(){return this.sender?this.sender.mailTemplates:[]},mails:function(){if(this.sender&&this.sender.mails&&this.sender.mails.length>0){var e=JSON.parse(pt()(this.sender.mails));return e.sort(function(e,t){return t.id-e.id})}return[]}},methods:{selectAll:function(e){for(var t in 0===e?this.schoolsTreeselect:this.leadersTreeselect)0!==e||this.selectedSchoolOrCLub.includes(this.schoolsTreeselect[t].id)||this.selectedSchoolOrCLub.push(this.schoolsTreeselect[t].id),1!==e||this.selectedLeaders.includes(this.leadersTreeselect[t].id)||this.selectedLeaders.push(this.leadersTreeselect[t].id)},resetModal:function(){this.selectedMail={title:"",description:""}},showDescription:function(e){this.selectedMail.title=e.mailTemplate.title,this.selectedMail.description=e.mailTemplate.description,this.$refs.modalMessageDesc.show()},sendMessage:function(){var e=this;if(this.selectedSchoolOrCLub.length<1&&this.selectedLeaders.length<1)this.showToast("Wybierz co najmniej jednego odbiorcę","Uwaga!","danger");else if(this.mailTemplate.title.length<1||this.mailTemplate.description.length<1)this.showToast("Wypełni treść","Uwaga!","danger");else{var t={mailTemplate:L()({},this.mailTemplate),selectedSchoolOrCLub:[].concat(Zt()(this.selectedSchoolOrCLub)),selectedLeaders:[].concat(Zt()(this.selectedLeaders))};this.$store.dispatch("postSender",t).then(function(){e.showToast("Wiadomość została wysłana","Uwaga!","success"),e.clearData(),e.$store.dispatch("getSender")}).catch(function(t){e.postSubmitError(t),e.clearData()})}},clearData:function(){this.mailTemplate={id:this.id,title:"",description:""},this.selectedSchoolOrCLub=[],this.selectedLeaders=[]},rowRedirectMails:function(e){this.$router.push({name:"recipient",params:{id:e.id}})}},created:function(){this.$store.dispatch("getSender"),this.$store.dispatch("getSchools",{confirmed:1}),this.$store.dispatch("getLeaders",{confirmed:1}),this.$store.dispatch("getLeaders",{confirmed:0}),this.changeAdminNavbarButton({buttonLink:!1}),this.changeAdminNavbarBreadcrumbs([{text:"Komunikaty",active:!0}])}},ka={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"mb-2",attrs:{lg:"6",sm:"12"}},[s("h4",{staticClass:"mb-4"},[e._v("Dane ogólne")]),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{key:"mailTemplate.title",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mailTemplate.title")},attrs:{id:"title-1",placeholder:"Tytuł",name:"mailTemplate.title"},model:{value:e.mailTemplate.title,callback:function(t){e.$set(e.mailTemplate,"title",t)},expression:"mailTemplate.title"}})],1),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.mailTemplate.description,expression:"mailTemplate.description"}],key:"mailTemplate.description",staticClass:"custom w-100 mb-4",class:{"error-input-custom":e.veeErrors.has("mailTemplate.description")},attrs:{placeholder:"Wiadomość",name:"mailTemplate.description","v-validate":"required"},domProps:{value:e.mailTemplate.description},on:{input:function(t){t.target.composing||e.$set(e.mailTemplate,"description",t.target.value)}}}),e._v(" "),s("h4",{staticClass:"mb-2"},[e._v("Lista odbiorców")]),e._v(" "),e.$store.getters.isAdmin?s("b-form-checkbox-group",{staticClass:"mr-3 mb-2",attrs:{id:"checkbox-group-1",options:e.typeOptions,name:"checkbox-group-type"},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}}):e._e(),e._v(" "),e.$store.getters.isAdmin?s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,searchable:!1,placeholder:"Nazwa klubu/Szkoły",options:e.schoolsTreeselect},model:{value:e.selectedSchoolOrCLub,callback:function(t){e.selectedSchoolOrCLub=t},expression:"selectedSchoolOrCLub"}}):e._e(),e._v(" "),e.selectedLeaders?s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Prowadzący",options:e.leadersTreeselect},model:{value:e.selectedLeaders,callback:function(t){e.selectedLeaders=t},expression:"selectedLeaders"}}):e._e(),e._v(" "),s("b-row",{staticClass:"mt-4"},[s("b-col",{staticClass:"mb-2",attrs:{sm:"12",lg:"4"}},[s("b-btn",{staticClass:"custom",attrs:{block:"",variant:"primary"},on:{click:function(t){return e.selectAll(0)}}},[e._v("\n            Wszystkie Szkoły / Kluby\n          ")])],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{sm:"12",lg:"4"}},[s("b-btn",{staticClass:"custom",attrs:{block:"",variant:"primary"},on:{click:function(t){return e.selectAll(1)}}},[e._v("\n            Wszystkich prowadzących\n          ")])],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{sm:"12",lg:"4"}},[s("b-btn",{staticClass:"custom",attrs:{block:"",variant:"primary"},on:{click:function(t){return e.sendMessage()}}},[e._v("\n            Wyślij\n          ")])],1)],1)],1),e._v(" "),s("b-col",{attrs:{lg:"6",sm:"12"}},[s("h4",{staticClass:"mb-3"},[e._v("Wysłane")]),e._v(" "),s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.mails,fields:e.recipientFields,striped:"",responsive:"md"},scopedSlots:e._u([{key:"title",fn:function(t){return[s("p",[e._v(e._s(t.item.mailTemplate.title))])]}},{key:"created",fn:function(t){return[s("p",[e._v(e._s(t.item.mailTemplate.created))])]}},{key:"recipient",fn:function(t){return[s("p",[e._v(e._s(t.item.recipient.email))])]}},{key:"status",fn:function(t){return[s("span",{staticClass:"status",class:{active:t.item.status}},[e._v("\n          "+e._s(1==t.item.status?"Przeczytane w systemie":"Nieprzeczytane w systemie")+"\n        ")])]}},{key:"description",fn:function(t){return[s("p",{staticClass:"c-pointer",on:{click:function(s){return e.showDescription(t.item)}}},[e._v("Zobacz")])]}},{key:"edit",fn:function(e){return[s("b-link",{staticClass:"icon-link"},[s("span",{staticClass:"icon icon-iconm_search"})])]}}])})],1)],1),e._v(" "),s("b-modal",{ref:"modalMessageDesc",attrs:{"modal-class":"custom",centered:"",size:"md","hide-footer":!0,"footer-class":"justify-content-between","title-tag":"h2","header-class":"pr-4 pb-0"},on:{hidden:e.resetModal}},[s("template",{slot:"modal-title"},[e._v("\n      "+e._s(e.selectedMail.title)+"\n    ")]),e._v(" "),s("div",{staticClass:"d-flex",attrs:{slot:"default"},slot:"default"},[s("p",[e._v(e._s(e.selectedMail.description))])])],2)],1)},staticRenderFns:[]};var Ca=s("VU/8")(_a,ka,!1,function(e){s("wFbl")},"data-v-4d35730c",null).exports,wa={name:"DictionaryMixin",data:function(){return{dataAsArray:[],dataDefault:{title:""},editedInput:{index:null}}},computed:{computedList:function(){return[].concat(Zt()(this.$store.getters[this.getter]),Zt()(this.dataAsArray))},checkDataToAddNew:function(){return this.computedList.length<1||void 0===this.computedList.find(function(e){return void 0===e.id})}},methods:{submitObject:function(e){var t=this;this.preSubmit().then(function(s){s?(t.loading=!1,e.id&&e.id<0&&delete e.id,e.id?t.$store.dispatch(t.dispatchPut,e):t.$store.dispatch(t.dispatchPost,e).then(function(e){var s=t.dataAsArray.findIndex(function(t){return void 0===t.id&&t.title===e.title});t.dataAsArray.splice(s,1)}),t.editedInput.index=null):t.loading=!1})},checkSelected:function(e){return!(!this.editedInput||this.editedInput.index!==e)},editInput:function(e){this.editedInput.index=e},deleteData:function(e){e.id?this.deleteFromForm(this.dispatchDelete,e.id,e.title):this.dataAsArray=[]},addDefaultData:function(){this.dataAsArray.push(L()({},this.dataDefault))}}},xa={name:"SportObjectType",mixins:[F,ft,wa],data:function(){return{getter:"sportObjectTypes",dispatchDelete:"deleteSportObjectType",dispatchPost:"postSportObjectType",dispatchPut:"putSportObjectType"}},created:function(){this.$store.dispatch("getSportObjectTypes"),this.changeAdminNavbarButton({buttonLink:!1})}},$a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"6"}},[e._l(e.computedList,function(t,a){return e.computedList?s("div",{key:a,staticClass:"row align-items-center mt-2"},[s("div",{staticClass:"col-2"},[e.computedList.length>0?s("p",{on:{click:function(s){return e.deleteData(t,a)}}},[e._v("usuń "),s("span",{staticClass:"pl-1"},[e._v(e._s(a+1))])]):e._e()]),e._v(" "),s("div",{staticClass:"pl-2",class:e.checkSelected(a)?"col-8":"col-10"},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"type.title"+a,staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("type.title"+a)},attrs:{id:"input-1",name:"type.title"+a,placeholder:t.title},on:{focus:function(t){return e.editInput(a)}},model:{value:t.title,callback:function(s){e.$set(t,"title",s)},expression:"type.title"}})],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.checkSelected(a),expression:"checkSelected(index)"}],staticClass:"col-2 p-0"},[s("b-btn",{staticClass:"m-0",attrs:{block:"",variant:"primary"},on:{click:function(s){return e.submitObject(t)}}},[e._v("Zapisz")])],1)]):e._e()}),e._v(" "),s("b-row",{staticClass:" mt-3"},[s("b-col",{staticClass:"offset-2 pl-2",attrs:{cols:"10"}},[e.checkDataToAddNew?s("b-btn",{attrs:{variant:"primary",block:""},on:{click:e.addDefaultData}},[e._v("+ Dodaj Kolejne")]):e._e()],1)],1)],2)],1)},staticRenderFns:[]};var Ta=s("VU/8")(xa,$a,!1,function(e){s("+DKK")},"data-v-d8139fbe",null).exports,Sa={name:"Disciplines",mixins:[F,ft,wa],data:function(){return{getter:"disciplines",dispatchDelete:"deleteDiscipline",dispatchPost:"postDiscipline",dispatchPut:"putDiscipline"}},created:function(){this.$store.dispatch("getDisciplines"),this.changeAdminNavbarButton({buttonLink:!1})}},Pa={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"6"}},[e._l(e.computedList,function(t,a){return e.computedList?s("div",{key:a,staticClass:"row align-items-center mt-2"},[s("div",{staticClass:"col-2"},[e.computedList.length>0?s("p",{on:{click:function(s){return e.deleteData(t)}}},[e._v("usuń "),s("span",{staticClass:"pl-1"},[e._v(e._s(a+1))])]):e._e()]),e._v(" "),s("div",{staticClass:"pl-2",class:e.checkSelected(a)?"col-8":"col-10"},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"discipline.title"+a,staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("discipline.title"+a)},attrs:{id:"input-1",name:"discipline.title"+a,placeholder:t.title},on:{focus:function(t){return e.editInput(a)}},model:{value:t.title,callback:function(s){e.$set(t,"title",s)},expression:"discipline.title"}})],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.checkSelected(a),expression:"checkSelected(index)"}],staticClass:"col-2 p-0"},[s("b-btn",{staticClass:"m-0",attrs:{block:"",variant:"primary"},on:{click:function(s){return e.submitObject(t)}}},[e._v("Zapisz")])],1)]):e._e()}),e._v(" "),s("b-row",{staticClass:" mt-3"},[s("b-col",{staticClass:"offset-2 pl-2",attrs:{cols:"10"}},[e.checkDataToAddNew?s("b-btn",{attrs:{variant:"primary",block:""},on:{click:e.addDefaultData}},[e._v("+ Dodaj Kolejne")]):e._e()],1)],1)],2)],1)},staticRenderFns:[]};var ja=s("VU/8")(Sa,Pa,!1,function(e){s("rymv")},"data-v-2c013a10",null).exports,Da={name:"Disciplines",mixins:[F,ft,wa],data:function(){return{getter:"lessonCategories",dispatchDelete:"deleteLessonCategory",dispatchPost:"postLessonCategory",dispatchPut:"putLessonCategory"}},created:function(){this.$store.dispatch("getLessonCategories"),this.changeAdminNavbarButton({buttonLink:!1})}},La={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"6"}},[e._l(e.computedList,function(t,a){return e.computedList?s("div",{key:a,staticClass:"row align-items-center mt-2"},[s("div",{staticClass:"col-2"},[e.computedList.length>0?s("p",{on:{click:function(s){return e.deleteData(t)}}},[e._v("usuń "),s("span",{staticClass:"pl-1"},[e._v(e._s(a+1))])]):e._e()]),e._v(" "),s("div",{staticClass:"pl-2",class:e.checkSelected(a)?"col-8":"col-10"},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"lessonCategory.title"+a,staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("lessonCategory.title"+a)},attrs:{id:"input-1",name:"lessonCategory.title"+a,placeholder:t.title},on:{focus:function(t){return e.editInput(a)}},model:{value:t.title,callback:function(s){e.$set(t,"title",s)},expression:"lessonCategory.title"}})],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.checkSelected(a),expression:"checkSelected(index)"}],staticClass:"col-2 p-0"},[s("b-btn",{staticClass:"m-0",attrs:{block:"",variant:"primary"},on:{click:function(s){return e.submitObject(t)}}},[e._v("Zapisz")])],1)]):e._e()}),e._v(" "),s("b-row",{staticClass:" mt-3"},[s("b-col",{staticClass:"offset-2 pl-2",attrs:{cols:"10"}},[e.checkDataToAddNew?s("b-btn",{attrs:{variant:"primary",block:""},on:{click:e.addDefaultData}},[e._v("+ Dodaj Kolejne")]):e._e()],1)],1)],2)],1)},staticRenderFns:[]};var za=s("VU/8")(Da,La,!1,function(e){s("7eil")},"data-v-67e84b0d",null).exports,Fa={name:"ClassesAll",mixins:[F,ft,wa],data:function(){return{getter:"classesAll",dispatchDelete:"deleteClass",dispatchPost:"postClass",dispatchPut:"putClass"}},methods:{},created:function(){this.changeAdminNavbarButton({buttonLink:!1})}},Ia={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("h5",[e._v("Wszystkie")]),e._v(" "),e._l(e.computedList,function(t,a){return e.computedList?s("div",{key:a,staticClass:"row align-items-center mt-2"},[s("div",{staticClass:"col-2"},[e.computedList.length>0?s("p",{on:{click:function(s){return e.deleteData(t)}}},[e._v("usuń "),s("span",{staticClass:"pl-1"},[e._v(e._s(a+1))])]):e._e()]),e._v(" "),s("div",{staticClass:"pl-2",class:e.checkSelected(a)?"col-8":"col-10"},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"classAll.title"+a,staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("classAll.title"+a)},attrs:{id:"input-1",name:"classAll.title"+a,placeholder:t.title},on:{focus:function(t){return e.editInput(a)}},model:{value:t.title,callback:function(s){e.$set(t,"title",s)},expression:"classAll.title"}})],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.checkSelected(a),expression:"checkSelected(index)"}],staticClass:"col-2 p-0"},[s("b-btn",{staticClass:"m-0",attrs:{block:"",variant:"primary"},on:{click:function(s){return e.submitObject(Object.assign({},t,{type:2}))}}},[e._v("Zapisz")])],1)]):e._e()}),e._v(" "),s("b-row",{staticClass:" mt-3"},[s("b-col",{staticClass:"offset-2 pl-2",attrs:{cols:"10"}},[e.checkDataToAddNew?s("b-btn",{attrs:{variant:"primary",block:""},on:{click:e.addDefaultData}},[e._v("+ Dodaj Kolejne")]):e._e()],1)],1)],2)},staticRenderFns:[]};var Na=s("VU/8")(Fa,Ia,!1,function(e){s("Ux0Z")},"data-v-5c60b0d2",null).exports,Ea=s("jFya"),Oa={name:"ClassInputData",props:["classId","index","profileId"],mixins:[ft],data:function(){return{isFocused:!1}},computed:L()({},Object(I.c)(["classItemPerId"]),{classItem:function(){var e=this.classId;if(Object(Ea.b)(e))return{};var t=this.classItemPerId(e);return Object(Ea.b)(t)?{}:ht()({},t)}}),methods:{deleteClass:function(e){e.id<0?this.$store.dispatch("deleteClass",{profileId:this.profileId,id:e.id}):this.deleteFromForm("deleteClass",e.id,"klasę",!1,null,{profileId:this.profileId})},focusOut:function(){var e=this;setTimeout(function(){e.isFocused=!1},300)},submit:function(){var e="postClass";this.classItem.id>0&&(e="putClass"),this.isFocused=!1,this.$store.dispatch(e,this.classItem)}}},Aa={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"w-100"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"},[s("p",{on:{click:function(t){return e.deleteClass(e.classItem)}}},[e._v("usuń\n          "),s("span",[e._v(e._s(e.index+1))])])]),e._v(" "),s("div",{staticClass:"pl-2",class:e.isFocused?"col-7":"col-10"},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"profile.classes.title",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("profile.classes.title")},attrs:{id:"input-1",name:"profile.classes.title"},on:{focus:function(t){e.isFocused=!0},blur:e.focusOut},model:{value:e.classItem.title,callback:function(t){e.$set(e.classItem,"title",t)},expression:"classItem.title"}})],1)],1),e._v(" "),e.isFocused?s("div",{staticClass:"col-3 p-0"},[s("b-btn",{staticClass:"m-0",attrs:{type:"submit",block:"",variant:"primary"}},[e._v("Zapisz\n        ")])],1):e._e()])])])},staticRenderFns:[]};var Ma={name:"ClassesProfile",mixins:[F,ft,wa],components:{ClassInputData:s("VU/8")(Oa,Aa,!1,function(e){s("bgpu")},"data-v-372472cd",null).exports},data:function(){return{getter:"classProfiles",dispatchDelete:"deleteClass",dispatchPost:"postClass",dispatchPut:"putClass",selectedProfileName:"",addedClasses:[],profileClasses:{}}},computed:L()({},Object(I.c)(["classes"])),methods:L()({},Object(I.b)(["addEmptyClassToProfile","addEmptyProfile"]),{submitProfName:function(e,t){var s=this;this.selectedProfileName.length<1&&e.length<1||(t&&t>0?this.$store.dispatch("putClassProfile",{title:e,id:t}):this.$store.dispatch("postClassProfile",{title:e,id:t}).then(function(e){var t=s.dataAsArray.findIndex(function(t){return void 0!==t.title&&t.title===e.title});s.dataAsArray.splice(t,1)}),this.selectedProfileName="")},addDefaultDataClass:function(e){this.addEmptyClassToProfile(e)},addDefaultProfile:function(){this.addEmptyProfile()},deleteClassProfile:function(e){e&&e>0?this.deleteFromForm("deleteClassProfName",null,"profil",!1,null,{urlParams:e}):this.$store.dispatch("deleteClassProfName",{urlParams:e})},checkEmptyProfName:function(){for(var e in this.profileClassesPrepared)if(""===this.profileClassesPrepared[e].profileName)return!1;return!0}}),created:function(){this.changeAdminNavbarButton({buttonLink:!1})}},qa={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("h5",[e._v("Profilowe")]),e._v(" "),e._l(e.computedList,function(t,a){return e.computedList?s("div",{key:a,staticClass:"row"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"text-center _custom-css"},[s("p",{staticClass:"m-auto"},[e._v(e._s(a+1))])]),e._v(" "),void 0!==e.computedList&&e.computedList.length>0?s("p",{on:{click:function(s){return e.deleteClassProfile(t.id)}}},[e._v("\n        usuń\n      ")]):e._e()]),e._v(" "),s("div",{staticClass:"col-10 pl-4"},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"profile.profileName"+a,staticClass:"custom m-0 mb-3",class:{"error-input-custom":e.veeErrors.has("profile.profileName"+a)},attrs:{id:"input-1",name:"profile.profileName"+a},on:{blur:function(s){return e.submitProfName(t.title,t.id)},focus:function(s){e.selectedProfileName=t.title}},model:{value:t.title,callback:function(s){e.$set(t,"title",s)},expression:"profile.title"}})],1),e._v(" "),e._l(t.classes,function(i,n){return t.classes?s("div",{key:a+"_"+n},[s("ClassInputData",{attrs:{classId:i.id,index:n,profileId:t.id}})],1):e._e()}),e._v(" "),t.id&&t.id>0?s("div",{staticClass:"d-flex flex-row align-items-center mt-3"},[s("span",{staticClass:"pl-4"},[e._v(e._s(t.classes.length+1))]),e._v(" "),s("b-btn",{staticClass:"w-50 m-0 ml-3 mb-3",attrs:{variant:"primary"},on:{click:function(s){return e.addDefaultDataClass(t.id)}}},[e._v("+ Dodaj Kolejny\n        ")])],1):e._e()],2)]):e._e()}),e._v(" "),e.checkEmptyProfName()?s("div",{staticClass:"row"},[s("div",{staticClass:"col-2 mt-4"},[s("div",{staticClass:"text-center custom-class"},[s("p",{staticClass:"m-auto"},[e._v(e._s(e.computedList.length+1))])])]),e._v(" "),s("b-col",{staticClass:"pl-2 mt-4",attrs:{cols:"10"}},[s("b-btn",{attrs:{variant:"primary",block:""},on:{click:e.addDefaultProfile}},[e._v("+ Dodaj Grupę")])],1)],1):e._e()],2)},staticRenderFns:[]};var Ra={name:"Classes",components:{ClassesAll:Na,ClassesProfile:s("VU/8")(Ma,qa,!1,function(e){s("VfMT")},"data-v-5c5321d6",null).exports},mixins:[F],data:function(){return{}},created:function(){this.changeAdminNavbarButton({buttonLink:!1}),this.$store.dispatch("getClassProfiles"),this.$store.dispatch("getClasses")}},Ga={render:function(){var e=this.$createElement,t=this._self._c||e;return t("b-row",{staticClass:"justify-content-center"},[t("classes-profile"),this._v(" "),t("classes-all")],1)},staticRenderFns:[]};var Ua=s("VU/8")(Ra,Ga,!1,function(e){s("KWGt")},"data-v-402e1d3c",null).exports,Ba={name:"Seasons",components:{Treeselect:r.a,DatePicker:Qt.a},mixins:[F,ft,wa],data:function(){return{datepickerParams:c.e,getter:"seasons",dispatchDelete:"deleteSeason",dispatchPost:"postSeason",dispatchPut:"putSeason",years:[{id:1,label:"2000"},{id:2,label:"2001"},{id:3,label:"2002"}]}},methods:L()({},Object(I.b)(["addEmptySeason"]),{deleteSeason:function(e){e&&e>0?this.deleteFromForm("deleteSeason",null,"sezon",!1,null,{urlParams:e}):this.$store.dispatch("deleteSeason",{urlParams:e})}}),created:function(){this.$store.dispatch("getSeasons"),this.changeAdminNavbarButton({buttonLink:!1})}},Va={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"6"}},[e._l(e.computedList,function(t,a){return e.computedList?s("div",{key:a,staticClass:"row align-items-start"},[s("div",{staticClass:"col-2"},[e.computedList.length>0?s("p",{on:{click:function(s){return e.deleteSeason(t.id)}}},[e._v("usuń "),s("span",{staticClass:"pl-1"},[e._v(e._s(a+1))])]):e._e()]),e._v(" "),s("div",{staticClass:"col-10 pl-2"},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"season.title"+a,staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("season.title"+a)},attrs:{id:"input-1",placeholder:"Nazwa sezonu",name:"season.title"+a},on:{focus:function(t){return e.editInput(a)}},model:{value:e.computedList[a].title,callback:function(t){e.$set(e.computedList[a],"title",t)},expression:"computedList[index].title"}})],1),e._v(" "),s("b-row",{staticClass:"mt-3"},[s("b-col",{attrs:{cols:"5"}},[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"season.from"+a,staticClass:"w-100 custom mb-3",class:{"error-input-custom":e.veeErrors.has("season.from"+a)},attrs:{lang:e.datepickerParams.lang,name:"season.from"+a,id:"inputDatapicFrom",placeholder:""},on:{focus:function(t){return e.editInput(a)}},model:{value:e.computedList[a].from,callback:function(t){e.$set(e.computedList[a],"from",t)},expression:"computedList[index].from"}})],1),e._v(" "),s("b-col",{attrs:{cols:"2"}},[s("hr")]),e._v(" "),s("b-col",{attrs:{cols:"5"}},[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"season.to"+a,staticClass:"w-100 custom mb-3",class:{"error-input-custom":e.veeErrors.has("season.to"+a)},attrs:{lang:e.datepickerParams.lang,name:"season.to"+a,id:"inputDatapicTo",placeholder:""},on:{focus:function(t){return e.editInput(a)}},model:{value:e.computedList[a].to,callback:function(t){e.$set(e.computedList[a],"to",t)},expression:"computedList[index].to"}})],1)],1),e._v(" "),s("b-row",{directives:[{name:"show",rawName:"v-show",value:e.checkSelected(a),expression:"checkSelected(index)"}],staticClass:"justify-content-end mb-3"},[s("b-col",{attrs:{cols:"4"}},[s("b-btn",{attrs:{variant:"primary",block:""},on:{click:function(s){return e.submitObject(t)}}},[e._v("Zapisz")])],1)],1)],1)]):e._e()}),e._v(" "),s("b-row",{staticClass:" mt-3"},[s("b-col",{staticClass:"offset-2 pl-2",attrs:{cols:"10"}},[s("b-btn",{attrs:{variant:"primary",block:""},on:{click:function(t){return e.addEmptySeason()}}},[e._v("+ Dodaj Kolejne")])],1)],1)],2)],1)},staticRenderFns:[]};var Ya={components:{TabLinks:$e,SportObjectType:Ta,Disciplines:ja,LessonCategory:za,Classes:Ua,Seasons:s("VU/8")(Ba,Va,!1,function(e){s("A/9T")},"data-v-57674600",null).exports},mixins:[F],data:function(){return{tabLinks:[{title:"Kategorie zajęć",link:"dictionary",tab:"lesson-category"},{title:"Dyscypliny",link:"dictionary",tab:"disciplines"},{title:"Klasy",link:"dictionary",tab:"classes"},{title:"Typy obiektów sportowych",link:"dictionary",tab:"sport-object-type"},{title:"Czas trwania sezonu",link:"dictionary",tab:"seasons"}]}},created:function(){void 0===this.$route.params.tab&&this.$router.push({name:"dictionary",params:{tab:"sport-object-type"}}),this.changeAdminNavbarBreadcrumbs([{text:"Słownik",active:!0}])}},Za={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("TabLinks",{attrs:{links:e.tabLinks}})],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},["sport-object-type"===e.$route.params.tab?s("sport-object-type",{key:e.$route.params.tab}):e._e(),e._v(" "),"disciplines"===e.$route.params.tab?s("disciplines",{key:e.$route.params.tab}):e._e(),e._v(" "),"lesson-category"===e.$route.params.tab?s("lesson-category",{key:e.$route.params.tab}):e._e(),e._v(" "),"classes"===e.$route.params.tab?s("classes",{key:e.$route.params.tab}):e._e(),e._v(" "),"seasons"===e.$route.params.tab?s("seasons",{key:e.$route.params.tab}):e._e()],1)],1)],1)},staticRenderFns:[]};var Ka=s("VU/8")(Ya,Za,!1,function(e){s("N+Ai")},"data-v-7da6fea0",null).exports,Wa={components:{},mixins:[F],data:function(){return{selectedItem:{name:null},editCells:!1}},computed:{mtsfDataList:function(){return this.$store.getters.mtsfDataList}},methods:{submit:function(){this.selectedItem.bieg50m=this.selectedItem.bieg50m.join("|"),this.selectedItem.skokDalZMiejsca=this.selectedItem.skokDalZMiejsca.join("|"),this.selectedItem.biegDlugaDystancja=this.selectedItem.biegDlugaDystancja.join("|"),this.selectedItem.silaDloni=this.selectedItem.silaDloni.join("|"),this.selectedItem.zwisNaUgietychRekach=this.selectedItem.zwisNaUgietychRekach.join("|"),this.selectedItem.bieg4x10=this.selectedItem.bieg4x10.join("|"),this.selectedItem.siadyZLezenia=this.selectedItem.siadyZLezenia.join("|"),this.selectedItem.sklonTulowia=this.selectedItem.sklonTulowia.join("|"),this.$store.dispatch("putMtsfData",this.selectedItem),this.resetModal(),this.$refs.MTSFDataModal.hide()},parseColumn:function(e){return e?"string"==typeof e?e.split("|"):e:"Nie ma danych"},resetModal:function(){this.selectedItem={name:null}},openModal:function(e,t){this.$set(this,"selectedItem",e),this.selectedItem.bieg50m=this.parseColumn(this.selectedItem.bieg50m),this.selectedItem.skokDalZMiejsca=this.parseColumn(this.selectedItem.skokDalZMiejsca),this.selectedItem.biegDlugaDystancja=this.parseColumn(this.selectedItem.biegDlugaDystancja),this.selectedItem.silaDloni=this.parseColumn(this.selectedItem.silaDloni),this.selectedItem.zwisNaUgietychRekach=this.parseColumn(this.selectedItem.zwisNaUgietychRekach),this.selectedItem.bieg4x10=this.parseColumn(this.selectedItem.bieg4x10),this.selectedItem.siadyZLezenia=this.parseColumn(this.selectedItem.siadyZLezenia),this.selectedItem.sklonTulowia=this.parseColumn(this.selectedItem.sklonTulowia),this.editCells=t,this.$refs.MTSFDataModal.show()}},created:function(){this.$store.dispatch("getMtsfDataList")}},Ha={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-between"},[s("b-col",{staticClass:"col-lg-6 col-md-6 col-sm-12"},e._l(e.mtsfDataList,function(t,a){return a<13?s("b-row",{key:a,staticClass:"mb-3 justify-content-between"},[s("b-col",[e._v(e._s(t.name))]),e._v(" "),s("b-col",[s("b-btn",{staticClass:"custom mb-2",attrs:{variant:"primary"},on:{click:function(s){return e.openModal(t,!1)}}},[e._v("Zobacz")]),e._v(" "),s("b-btn",{staticClass:"custom mb-2",attrs:{variant:"primary"},on:{click:function(s){return e.openModal(t,!0)}}},[e._v("Edytuj")])],1)],1):e._e()}),1),e._v(" "),s("b-col",{staticClass:"col-lg-6 col-md-6 col-sm-12"},e._l(e.mtsfDataList,function(t,a){return a>12?s("b-row",{key:a,staticClass:"mb-3 justify-content-between"},[s("b-col",[e._v(e._s(t.name))]),e._v(" "),s("b-col",[s("b-btn",{staticClass:"custom mb-2",attrs:{variant:"primary"},on:{click:function(s){return e.openModal(t,!1)}}},[e._v("Zobacz")]),e._v(" "),s("b-btn",{staticClass:"custom mb-2",attrs:{variant:"primary"},on:{click:function(s){return e.openModal(t,!0)}}},[e._v("Edytuj")])],1)],1):e._e()}),1)],1),e._v(" "),s("b-modal",{ref:"MTSFDataModal",staticClass:"modal-mtsf-values",attrs:{"modal-class":"custom modal-mtsf-values justify-content-between",scrollable:"",centered:"",size:"xl","hide-footer":!e.editCells,"title-tag":"h2","header-class":"pr-4 pb-0"},on:{hidden:e.resetModal}},[s("template",{slot:"modal-title"},[e._v("\n      "+e._s(e.selectedItem.name)+"\n    ")]),e._v(" "),s("div",[s("div",{staticClass:"mw-1000"},[s("span",{staticClass:"text-center d-inline-block mw-100"},[s("span",{staticClass:"border-span"},[e._v("Punkty")]),s("br"),s("span",[e._v("Pkt")])]),e._v(" "),s("span",{staticClass:"text-center d-inline-block mw-100"},[s("span",{staticClass:"border-span"},[e._v("Bieg na 50 m")]),s("br"),s("span",[e._v("s")])]),e._v(" "),s("span",{staticClass:"text-center d-inline-block mw-100"},[s("span",{staticClass:"border-span"},[e._v("Skok w dal z miejsca")]),s("br"),s("span",[e._v("cm")])]),e._v(" "),s("span",{staticClass:"text-center d-inline-block mw-100"},[s("span",{staticClass:"border-span"},[e._v("Bieg na 600 m")]),s("br"),s("span",[e._v("s")])]),e._v(" "),s("span",{staticClass:"text-center d-inline-block mw-100"},[s("span",{staticClass:"border-span"},[e._v("Siła dłoni")]),s("br"),s("span",[e._v("kg")])]),e._v(" "),s("span",{staticClass:"text-center d-inline-block mw-100"},[s("span",{staticClass:"border-span"},[e._v("Zwis na ugiętych rękach")]),s("br"),s("span",[e._v("s")])]),e._v(" "),s("span",{staticClass:"text-center d-inline-block mw-100"},[s("span",{staticClass:"border-span"},[e._v("Bieg 4 x 10m")]),s("br"),s("span",[e._v("s")])]),e._v(" "),s("span",{staticClass:"text-center d-inline-block mw-100"},[s("span",{staticClass:"border-span"},[e._v("Siady z leżenia")]),s("br"),s("span",[e._v("liczba")])]),e._v(" "),s("span",{staticClass:"text-center d-inline-block mw-100"},[s("span",{staticClass:"border-span"},[e._v("Skłon tułowia")]),s("br"),s("span",[e._v("cm")])])]),e._v(" "),s("hr"),e._v(" "),s("div",{staticClass:"mw-1000"},[s("div",{staticClass:"text-center d-inline-block mw-100"},e._l(100,function(t,a){return s("div",{key:a,staticClass:"h-50"},[e._v("\n            "+e._s(t)+"\n          ")])}),0),e._v(" "),s("div",{staticClass:"text-center d-inline-block mw-100"},e._l(e.selectedItem.bieg50m,function(t,a){return s("div",{key:a,staticClass:"h-50"},[e.editCells?[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"name-1",type:"number"},model:{value:e.selectedItem.bieg50m[a],callback:function(t){e.$set(e.selectedItem.bieg50m,a,t)},expression:"selectedItem.bieg50m[index]"}})]:[e._v("\n              "+e._s(t.length>0?t:"-")+"\n            ")]],2)}),0),e._v(" "),s("div",{staticClass:"text-center d-inline-block mw-100"},e._l(e.selectedItem.skokDalZMiejsca,function(t,a){return s("div",{key:a,staticClass:"h-50"},[e.editCells?[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"name-1",type:"number"},model:{value:e.selectedItem.skokDalZMiejsca[a],callback:function(t){e.$set(e.selectedItem.skokDalZMiejsca,a,t)},expression:"selectedItem.skokDalZMiejsca[index]"}})]:[e._v("\n              "+e._s(t.length>0?t:"-")+"\n            ")]],2)}),0),e._v(" "),s("div",{staticClass:"text-center d-inline-block mw-100"},e._l(e.selectedItem.biegDlugaDystancja,function(t,a){return s("div",{key:a,staticClass:"h-50"},[e.editCells?[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"name-1",type:"number"},model:{value:e.selectedItem.biegDlugaDystancja[a],callback:function(t){e.$set(e.selectedItem.biegDlugaDystancja,a,t)},expression:"selectedItem.biegDlugaDystancja[index]"}})]:[e._v("\n              "+e._s(t.length>0?t:"-")+"\n            ")]],2)}),0),e._v(" "),s("div",{staticClass:"text-center d-inline-block mw-100"},e._l(e.selectedItem.silaDloni,function(t,a){return s("div",{key:a,staticClass:"h-50"},[e.editCells?[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"name-1",type:"number"},model:{value:e.selectedItem.silaDloni[a],callback:function(t){e.$set(e.selectedItem.silaDloni,a,t)},expression:"selectedItem.silaDloni[index]"}})]:[e._v("\n              "+e._s(t.length>0?t:"-")+"\n            ")]],2)}),0),e._v(" "),s("div",{staticClass:"text-center d-inline-block mw-100"},e._l(e.selectedItem.zwisNaUgietychRekach,function(t,a){return s("div",{key:a,staticClass:"h-50"},[e.editCells?[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"name-1",type:"number"},model:{value:e.selectedItem.zwisNaUgietychRekach[a],callback:function(t){e.$set(e.selectedItem.zwisNaUgietychRekach,a,t)},expression:"selectedItem.zwisNaUgietychRekach[index]"}})]:[e._v("\n              "+e._s(t.length>0?t:"-")+"\n            ")]],2)}),0),e._v(" "),s("div",{staticClass:"text-center d-inline-block mw-100"},e._l(e.selectedItem.bieg4x10,function(t,a){return s("div",{key:a,staticClass:"h-50"},[e.editCells?[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"name-1",type:"number"},model:{value:e.selectedItem.bieg4x10[a],callback:function(t){e.$set(e.selectedItem.bieg4x10,a,t)},expression:"selectedItem.bieg4x10[index]"}})]:[e._v("\n              "+e._s(t.length>0?t:"-")+"\n            ")]],2)}),0),e._v(" "),s("div",{staticClass:"text-center d-inline-block mw-100"},e._l(e.selectedItem.siadyZLezenia,function(t,a){return s("div",{key:a,staticClass:"h-50"},[e.editCells?[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"name-1",type:"number"},model:{value:e.selectedItem.siadyZLezenia[a],callback:function(t){e.$set(e.selectedItem.siadyZLezenia,a,t)},expression:"selectedItem.siadyZLezenia[index]"}})]:[e._v("\n              "+e._s(t.length>0?t:"-")+"\n            ")]],2)}),0),e._v(" "),s("div",{staticClass:"text-center d-inline-block mw-100"},e._l(e.selectedItem.sklonTulowia,function(t,a){return s("div",{key:a,staticClass:"h-50"},[e.editCells?[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"name-1",type:"number"},model:{value:e.selectedItem.sklonTulowia[a],callback:function(t){e.$set(e.selectedItem.sklonTulowia,a,t)},expression:"selectedItem.sklonTulowia[index]"}})]:[e._v("\n              "+e._s(t.length>0?t:"-")+"\n            ")]],2)}),0)])]),e._v(" "),e.editCells?s("template",{slot:"modal-footer"},[s("b-btn",{staticClass:"custom mb-2",attrs:{variant:"primary"},on:{click:function(t){return e.submit()}}},[e._v("Zapisz")])],1):e._e()],2)],1)},staticRenderFns:[]};var Ja=s("VU/8")(Wa,Ha,!1,function(e){s("Ps2t")},"data-v-1cad26e0",null).exports,Qa={components:{Treeselect:r.a,MTSFValuesList:Ja,TabLinks:$e},mixins:[F],data:function(){return{currentPage:1,perPage:20,totalRows:0,generateExcel:!0,generatePdf:!0,selectedType:"Mtsf",tabLinks:[{title:"Wyniki",link:"mtsf",tab:"participants"},{title:"Dane Podstawowe",link:"mtsf",tab:"values"}],searchText:"",selectedLeaders:null,selectedSeasons:null,fields:[{key:"firstName",label:"Imię",sortable:!0},{key:"lastName",label:"Nazwisko",sortable:!0},{key:"sex",label:"Płeć",sortable:!0},{key:"season",label:"Sezon",sortable:!0},{key:"date",label:"Data obliczenia",sortable:!0},{key:"points",label:"Punkty sumeryczne",sortable:!0},{key:"edit",label:""}],listItems:[]}},computed:{isLoading:function(){return this.$store.getters.isLoading},seasonsTreeselect:function(){var e=this.$store.getters.seasons,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t},leadersTreeselect:function(){var e=[];for(var t in this.$store.getters.leadersConfirmed)e.push({id:this.$store.getters.leadersConfirmed[t].id,label:this.$store.getters.leadersConfirmed[t].email});return e}},watch:{currentPage:function(e){this.filterMtsfList(e)},isLoading:function(e){e?this.$refs.loadingModal.show():(this.$refs.loadingModal.hide(),this.$bvToast.toast("Ilość wyników przy wygenerowaniu MTSF zależy od uprawnień, które masz w szkołach / klubach lub wybranej filtracji.",{title:"Uwaga!",toaster:"b-toaster-bottom-right",solid:!0,variant:"info",appendToast:!1,autoHideDelay:1e4}))},searchText:function(e){this.changeAdminNavbarButtonWithParams()},selectedLeaders:function(e){this.changeAdminNavbarButtonWithParams()},selectedSeasons:function(e){this.changeAdminNavbarButtonWithParams()},"$route.params.tab":function(e){"values"===e?this.changeAdminNavbarButton({buttonLink:!1}):this.changeAdminNavbarButtonWithParams()}},methods:{filterMtsfList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={searchText:this.searchText,selectedLeaders:this.selectedLeaders,selectedSeasons:this.selectedSeasons};this.$store.dispatch("getMtsfList",{filters:a,currentPage:t,perPage:this.perPage}).then(function(t){e.totalRows=t.totalCount,e.listItems=t.data,s&&(e.currentPage=1)})},changeAdminNavbarButtonWithParams:function(){this.changeAdminNavbarButton({buttonLink:!1,generateExcel:this.generateExcel,generatePdf:this.generatePdf,generationParams:{type:this.selectedType,filters:{searchText:this.searchText,selectedLeaders:this.selectedLeaders,selectedSeasons:this.selectedSeasons},results:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]}})}},created:function(){void 0===this.$route.params.tab&&this.$router.push({name:"mtsf",params:{tab:"participants"}}),this.filterMtsfList(),this.$store.dispatch("getSchools",{}),this.$store.dispatch("getLeaders",{confirmed:1}),this.$store.dispatch("getSeasons"),this.changeAdminNavbarButtonWithParams(),this.changeAdminNavbarBreadcrumbs([{text:"Lista MTSF",active:!0}])}},Xa={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("TabLinks",{attrs:{links:e.tabLinks}})],1)],1),e._v(" "),"participants"===e.$route.params.tab?s("b-row",{key:e.$route.params.tab,staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("b-row",[s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("b-form-group",{staticClass:"custom"},[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"season",staticClass:"custom m-0",attrs:{multiple:!0,placeholder:"Sezon",options:e.seasonsTreeselect,name:"season"},model:{value:e.selectedSeasons,callback:function(t){e.selectedSeasons=t},expression:"selectedSeasons"}})],1)],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("b-form-group",{staticClass:"custom"},[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"leaders",staticClass:"custom m-0",attrs:{multiple:!0,placeholder:"Prowadzący",options:e.leadersTreeselect,name:"leaders"},model:{value:e.selectedLeaders,callback:function(t){e.selectedLeaders=t},expression:"selectedLeaders"}})],1)],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"searchText",staticClass:"custom m-0",attrs:{id:"title-1",placeholder:"Szukaj po imieniu lub nazwisku zawodnika",name:"searchText"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1)],1)],1),e._v(" "),s("b-row",{staticClass:"text-right"},[s("b-col",[s("b-btn",{staticClass:"m-0 mb-2",attrs:{variant:"primary"},on:{click:function(t){return e.filterMtsfList(1,!0)}}},[e._v("Filtruj")])],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm","aria-controls":"history-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),e._v(" "),s("h4",[e._v("Wyniki")]),e._v(" "),s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.listItems,fields:e.fields,"per-page":e.perPage,striped:"","sort-icon-left":"",responsive:"md"},scopedSlots:e._u([{key:"firstName",fn:function(t){return[s("span",[e._v(e._s(t.item.participant.firstName))])]}},{key:"lastName",fn:function(t){return[s("span",[e._v(e._s(t.item.participant.lastName))])]}},{key:"sex",fn:function(t){return[s("span",[e._v(e._s(1===t.item.participant.sex?"Mężczyzna":"Kobieta"))])]}},{key:"season",fn:function(t){return[s("span",[e._v(e._s(t.item.season.title))])]}},{key:"date",fn:function(t){return[s("span",[e._v(e._s(t.item.finalDate))])]}},{key:"points",fn:function(t){return[s("span",[e._v(e._s(t.item.totalPoints))])]}},{key:"edit",fn:function(e){return[s("b-link",{staticClass:"icon-link"},[s("span",{staticClass:"icon icon-iconm_search"})])]}}],null,!1,354730464)})],1)],1):e._e(),e._v(" "),"values"===e.$route.params.tab?s("MTSFValuesList",{key:e.$route.params.tab}):e._e(),e._v(" "),s("b-modal",{ref:"loadingModal",attrs:{centered:"","hide-header":"","hide-header-close":"","hide-footer":"",size:"lg"}},[s("h3",{staticClass:"text-center"},[e._v("Trwa ladowanie...")])])],1)},staticRenderFns:[]};var ei=s("VU/8")(Qa,Xa,!1,function(e){s("fL3t")},"data-v-36e3b2bd",null).exports,ti={name:"ListToConfirm",mixins:[us],data:function(){return{fields:[{key:"dateStart",label:"Data rozpoczęcia",sortable:!0},{key:"title",label:"Nazwa",sortable:!0},{key:"discipline",label:"Dyscyplina",sortable:!0},{key:"organization",label:"Organizator",sortable:!0},{key:"btnTable",label:"",sortable:!0},{key:"edit",label:""}]}},computed:{eventsToConfirm:function(){return this.$store.getters.eventsToConfirm}},methods:{rowRedirect:function(e){this.$parent.rowRedirect(e.id,!1)},confirmItem:function(e){var t=this;this.$store.dispatch("putEvent",{id:e,confirmed:1}).then(function(e){t.$store.dispatch("getEvents",{confirmed:0,forSchool:!0})})}},created:function(){this.$store.dispatch("getEvents",{confirmed:0,forSchool:!0})}},si={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"12",lg:"12",md:"12",sm:"12"}},[s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.eventListFiltered,fields:e.fields,striped:"","sort-icon-left":"",responsive:"md"},on:{"row-clicked":e.rowRedirect},scopedSlots:e._u([{key:"dateStart",fn:function(t){return[s("span",[e._v(e._s(t.item.dateStart.substr(0,t.item.dateStart.indexOf(" "))))])]}},{key:"discipline",fn:function(t){return[t.item.discipline&&t.item.discipline.id?s("span",[e._v("\n          "+e._s(e.getDisciplineTitleById(t.item.discipline.id))+"\n        ")]):e._e()]}},{key:"organization",fn:function(t){return[t.item.organization?s("span",[e._v(e._s(t.item.organization))]):t.item.school&&t.item.school.id?s("span",[e._v("\n          "+e._s(e.getSchoolNameById(t.item.school.id))+"\n        ")]):e._e()]}},{key:"btnTable",fn:function(t){return e.$store.getters.isAdmin?[s("b-btn",{staticClass:"custom mb-0",attrs:{variant:"primary"},on:{click:function(s){return e.confirmItem(t.item.id)}}},[e._v("\n          Zatwierdź\n        ")])]:void 0}},{key:"edit",fn:function(t){return[s("span",{staticClass:"c-pointer"},[e._v("Szczegóły")])]}}],null,!0)})],1)],1)},staticRenderFns:[]};var ai={components:{TabLinks:$e,ListConfirmed:ms,ListToConfirm:s("VU/8")(ti,si,!1,function(e){s("dneG")},"data-v-875f2b14",null).exports},mixins:[F,Ge.a],data:function(){return{tabLinks:[{title:"Zatwierdzone",link:"events",tab:"confirmed"},{title:"Do zatwierdzenia ("+this.$store.getters.eventsToConfirm.length+")",link:"events",tab:"to-confirm"}]}},watch:{"$store.getters.eventsToConfirm":function(e){this.tabLinks=[{title:"Zatwierdzone",link:"events",tab:"confirmed"},{title:"Do zatwierdzenia ("+e.length+")",link:"events",tab:"to-confirm"}]}},computed:{authUser:function(){return this.$store.getters.authUser&&2!==this.$store.getters.authUser.role&&3!==this.$store.getters.authUser.role&&(this.tabLinks=[{title:"Zatwierdzone",link:"events",tab:"confirmed"}]),this.$store.getters.authUser}},methods:{rowRedirect:function(e,t){this.$router.push({name:"event",params:{tab:"main-data",id:e,isConfirmed:t}})}},created:function(){void 0===this.$route.params.tab&&this.$router.push({name:"events",params:{tab:"confirmed"}}),this.$store.dispatch("getEvents",{confirmed:0,forSchool:!0}),this.changeAdminNavbarButton({buttonLink:"event"}),this.changeAdminNavbarBreadcrumbs([{text:"Lista imprez sportowych",active:!0}])}},ii={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("TabLinks",{attrs:{links:e.tabLinks}})],1)],1),e._v(" "),"confirmed"===e.$route.params.tab?s("list-confirmed",{key:e.$route.params.tab}):e._e(),e._v(" "),"to-confirm"===e.$route.params.tab?s("list-to-confirm",{key:e.$route.params.tab}):e._e()],1)},staticRenderFns:[]};var ni=s("VU/8")(ai,ii,!1,function(e){s("2c+9")},"data-v-eef194e8",null).exports,oi={name:"FormMainData",props:["event"],components:{Treeselect:r.a,ImageInputAdvanced:De,DatePicker:Qt.a},mixins:[F,ft,us],data:function(){return{datepickerParams:c.e,orgType:0,addressType:0}},watch:{orgType:function(e){console.log(e),2===e?this.event.school.id=null:this.event.organization=""},event:function(e){console.log(e),e.id&&null===e.school.id&&(this.event.organization=e.organization,this.orgType=2),console.log(e)}},computed:L()({},Object(I.c)(["schools"]),{leadersTreeselect:function(){var e=this;return function(t){var s=e.leadersConfirmed,a=[];for(var i in s)Array.isArray(s[i].eventsUsers)&&void 0!==s[i].eventsUsers.find(function(e){return parseInt(e.school.id)===t})&&a.push({id:s[i].id,label:s[i].firstName});return a}}}),methods:{removeDate:function(e){var t=this.$parent.event.dates.findIndex(function(t){return t.id===e});this.$parent.event.dates.splice(t,1)},addDate:function(){var e=-1;for(var t in this.$parent.event.dates)this.$parent.event.dates[t].id&&this.$parent.event.dates[t].id<=e&&(e=this.$parent.event.dates[t].id-1);this.$parent.event.dates.push({date:null,timeRange:"",id:e})},clearAddress:function(){this.event.addressDesc="",this.event.address=""},addImage:function(){var e=-1;for(var t in this.$parent.event.images)this.$parent.event.images[t].id&&this.$parent.event.images[t].id<=e&&(e=this.$parent.event.images[t].id-1);this.$parent.event.images.push({path:null,id:e})},removeImage:function(e){var t=this.$parent.event.images.findIndex(function(t){return t.id===e});this.$parent.event.images.splice(t,1)},submit:function(e){var t=this;e?this.preSubmit().then(function(e){e?(t.loading=!1,t.$parent.submit()):t.loading=!1}):this.$parent.submit()},afterCropImage:function(e){for(var t in console.log(e),this.$parent.event.images)this.$parent.event.images[t].id===e.id&&(this.$parent.event.images[t].path=e.image)}},mounted:function(){this.$route.params.validateForm&&this.checkValidForm()},created:function(){this.$store.dispatch("getSchools",{}),this.$store.dispatch("getDisciplines"),this.changeAdminNavbarButton({buttonLink:!1})}},ri={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"5"}},[s("h2",[e._v("Zdjęcie")]),e._v(" "),e._l(e.event.images,function(t,a){return s("div",{key:t.id},[s("ImageInputAdvanced",{attrs:{imgPath:e.event.images[a].path,"image-multiple":!0,imageId:t.id,"min-aspect-ratio":5/4,"max-aspect-ratio":1.5,"min-height":100,"min-width":100,"max-height":5e3,"max-width":5e3},on:{afterCropImage:e.afterCropImage}})],1)}),e._v(" "),s("b-btn",{staticClass:"custom mt-4",attrs:{variant:"primary",block:""},on:{click:e.addImage}},[e._v("Dodaj kolejne")])],2),e._v(" "),s("b-col",{staticClass:"justify-content-center justify-content-md-end"},[s("h2",{staticClass:"my-4"},[e._v("Dane ogólne")]),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"event.title",staticClass:"custom mb-3",class:{"error-input-custom":e.veeErrors.has("event.title")},attrs:{id:"input-1",placeholder:"Nazwa Imprezy",name:"event.title"},model:{value:e.event.title,callback:function(t){e.$set(e.event,"title",t)},expression:"event.title"}})],1),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.event.description,expression:"event.description"}],key:"event.description",staticClass:"custom w-100 mb-3",attrs:{placeholder:"Opis",name:"event.description"},domProps:{value:e.event.description},on:{input:function(t){t.target.composing||e.$set(e.event,"description",t.target.value)}}}),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{email:!0},expression:"{'email':true}"}],key:"event.email",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("event.email")},attrs:{id:"input-2",placeholder:"E-mail",name:"event.email"},model:{value:e.event.email,callback:function(t){e.$set(e.event,"email",t)},expression:"event.email"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{key:"event.phone",staticClass:"custom",attrs:{id:"input-3",placeholder:"Telefon",name:"event.phone"},model:{value:e.event.phone,callback:function(t){e.$set(e.event,"phone",t)},expression:"event.phone"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{key:"event.facebook",staticClass:"custom",attrs:{id:"input-4",placeholder:"Facebook",name:"event.facebook"},model:{value:e.event.facebook,callback:function(t){e.$set(e.event,"facebook",t)},expression:"event.facebook"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{key:"event.youtube",staticClass:"custom",attrs:{id:"input-4",placeholder:"Youtube",name:"event.youtube"},model:{value:e.event.youtube,callback:function(t){e.$set(e.event,"youtube",t)},expression:"event.youtube"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{key:"event.www",staticClass:"custom",attrs:{id:"input-4",placeholder:"WWW",name:"event.www"},model:{value:e.event.www,callback:function(t){e.$set(e.event,"www",t)},expression:"event.www"}})],1),e._v(" "),s("b-form-group",[e.event.discipline?s("b-form-group",[s("treeselect",{key:"event.discipline",staticClass:"custom mb-2",attrs:{multiple:!1,placeholder:"Dyscyplina",options:e.disciplinesPrepared,name:"event.discipline"},model:{value:e.event.discipline.id,callback:function(t){e.$set(e.event.discipline,"id",t)},expression:"event.discipline.id"}})],1):e._e()],1),e._v(" "),s("h2",{staticClass:"my-4"},[e._v("Organizator")]),e._v(" "),s("b-form-group",e._l([{title:"Klub",value:0},{title:"Szkoła",value:1},{title:"Inny podmiot",value:2}],function(t,a){return void 0===e.event.id?s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"organizatorType"+a,staticClass:"d-inline-block mt-3 mr-3",class:{"error-input-custom":e.veeErrors.has("organizatorType")},attrs:{value:t.value,name:"organizatorType"},on:{change:function(t){e.event.school.id=null}},model:{value:e.orgType,callback:function(t){e.orgType=t},expression:"orgType"}},[e._v("\n            "+e._s(t.title)+"\n          ")]):e._e()}),1),e._v(" "),2!==e.orgType?s("div",[e.event.school?s("b-form-group",[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"event.school",staticClass:"custom mb-2",class:{"error-input-custom":e.veeErrors.has("event.school")},attrs:{disabled:1==e.event.id,multiple:!1,placeholder:"Klub / Szkoła",options:e.schoolsAndClubsPrepared,name:"event.school"},model:{value:e.event.school.id,callback:function(t){e.$set(e.event.school,"id",t)},expression:"event.school.id"}})],1):e._e()],1):s("div",[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"event.organization",staticClass:"custom mb-3",class:{"error-input-custom":e.veeErrors.has("event.organization")},attrs:{id:"input-1",placeholder:"Nazwa organizatora",name:"event.organization"},model:{value:e.event.organization,callback:function(t){e.$set(e.event,"organization",t)},expression:"event.organization"}})],1)],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"event.personToContact",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("event.personToContact")},attrs:{id:"input-4",placeholder:"Osoba kontaktowa",name:"event.personToContact"},model:{value:e.event.personToContact,callback:function(t){e.$set(e.event,"personToContact",t)},expression:"event.personToContact"}})],1),e._v(" "),s("h2",{staticClass:"my-4"},[e._v("Lokalizacja")]),e._v(" "),s("div",[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"event.address",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("event.address")},attrs:{id:"input-address",placeholder:"Adres",name:"event.address"},model:{value:e.event.address,callback:function(t){e.$set(e.event,"address",t)},expression:"event.address"}})],1)],1),e._v(" "),s("h2",{staticClass:"my-4"},[e._v("Data / Zakres dat")]),e._v(" "),s("b-row",{staticClass:"pb-0 mb-0"},[s("b-col",[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"event.dateStart",staticClass:"w-100 custom mt-3",class:{"error-input-custom":e.veeErrors.has("event.dateStart")},attrs:{lang:e.datepickerParams.lang,name:"event.dateStart","value-type":"format",format:"YYYY-MM-DD",type:"date",id:"event.dateStart",placeholder:"data rozpoczęcia"},model:{value:e.event.dateStart,callback:function(t){e.$set(e.event,"dateStart",t)},expression:"event.dateStart"}})],1),e._v(" "),s("b-col",[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"event.dateEnd",staticClass:"w-100 custom mt-3",class:{"error-input-custom":e.veeErrors.has("event.dateEnd")},attrs:{lang:e.datepickerParams.lang,name:"event.dateEnd","value-type":"format",format:"YYYY-MM-DD",type:"date",id:"event.dateEnd",placeholder:"data zakończenia"},model:{value:e.event.dateEnd,callback:function(t){e.$set(e.event,"dateEnd",t)},expression:"event.dateEnd"}})],1)],1),e._v(" "),e.event.dates.length>0?s("h6",{staticClass:"mb-0 pb-0 mt-4"},[e._v("Harmonogram")]):e._e(),e._v(" "),e._l(e.event.dates,function(t,a){return s("div",{key:t.id},[s("b-row",{staticClass:"pb-0 mb-0"},[s("b-col",[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"event.date"+t.id,staticClass:"w-100 custom mt-3",class:{"error-input-custom":e.veeErrors.has("event.date"+t.id)},attrs:{lang:e.datepickerParams.lang,name:"event.date"+t.id,"value-type":"format",format:"YYYY-MM-DD",type:"date",id:"event.date"+t.id,placeholder:"data"},model:{value:e.event.dates[a].date,callback:function(t){e.$set(e.event.dates[a],"date",t)},expression:"event.dates[index].date"}})],1),e._v(" "),s("b-col",[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"event.timeRange"+t.id,staticClass:"w-100 custom mt-3",class:{"error-input-custom":e.veeErrors.has("event.timeRange"+t.id)},attrs:{lang:e.datepickerParams.lang,"minute-step":5,"hour-options":e.datepickerParams.hours,format:"HH:mm","value-type":"format",type:"time",placeholder:"Godziny / minuty",range:"",name:"event.timeRange"+t.id,id:"event.timeRange"+t.id},on:{clear:function(t){e.event.dates[a].timeRange=[]}},scopedSlots:e._u([{key:"header",fn:function(t){return t.emit,[s("b-row",{staticClass:"mt-1 justify-content-center"},[s("b-col",{staticClass:"text-center"},[s("p",{},[e._v("Godz:min")])]),e._v(" "),s("b-col",{staticClass:"text-center"},[s("p",{},[e._v("Godz:min")])])],1)]}}],null,!0),model:{value:e.event.dates[a].timeRange,callback:function(t){e.$set(e.event.dates[a],"timeRange",t)},expression:"event.dates[index].timeRange"}})],1)],1),e._v(" "),s("b-btn",{staticClass:"custom",attrs:{variant:"delete"},on:{click:function(s){return e.removeDate(t.id)}}},[e._v("Usuń datę\n          ")])],1)}),e._v(" "),s("b-btn",{staticClass:"custom mt-4",attrs:{variant:"primary",block:""},on:{click:e.addDate}},[e._v("Dodaj datę")]),e._v(" "),e.$store.getters.isDirector||e.$store.getters.isAdmin?s("b-row",{staticClass:"mt-4"},[s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("b-btn",{staticClass:"custom",attrs:{variant:"delete"},on:{click:function(t){return e.deleteFromForm("deleteEvent",e.event.id,void 0,"events",{tab:"confirmed"})}}},[e._v("\n              Usuń\n            ")])],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("b-btn",{staticClass:"custom btn",attrs:{block:"",to:{name:"events",params:{tab:"confirmed"}}}},[e._v("\n              Anuluj\n            ")])],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("b-btn",{staticClass:"custom btn",attrs:{block:"",variant:"primary"},on:{click:function(t){return e.submit(!0)}}},[e._v("\n              Zapisz\n            ")])],1)],1):e._e()],2)],1)],1)},staticRenderFns:[]};var ci={components:{FormMainData:s("VU/8")(oi,ri,!1,function(e){s("foiT")},"data-v-5674dcfb",null).exports},mixins:[F,ft],data:function(){return{event:{id:this.id,image:null,images:[],dates:[],title:"",description:"",address:"",addressDesc:"",email:"",phone:"",facebook:"",youtube:"",www:"",organization:"",personToContact:"",dateStart:null,dateEnd:null,confirmed:!1,school:{id:null},discipline:{id:null}},isValidForm:!1,isConfirmed:void 0}},computed:{},methods:{submit:function(){var e=this,t=this.event;null===t.discipline.id&&delete t.discipline;var s=void 0===this.id?"postEvent":"putEvent";this.$store.dispatch(s,t).then(function(){e.postSubmitRedirect("events")}).catch(function(t){e.postSubmitError(t)})},checkValidMainForm:function(){var e=this;this.$refs.FormMainData.checkValidForm().then(function(t){e.isValidForm=t})},prepareEvent:function(e){this.event=e,null===e.discipline&&(this.event.discipline={id:null}),null===e.school&&(this.event.school={id:null})}},created:function(){var e=this;this.$route.params.isConfirmed&&(this.isConfirmed=this.$route.params.isConfirmed),this.event=ht()(this.event,this.$store.getters.event(this.isConfirmed,this.id)),void 0===this.$route.params.tab&&this.$router.push({name:"event",params:{tab:"main-data"}});var t=[{text:"Lista imprez sportowych",to:{name:"events",params:{tab:"confirmed"}}},{text:this.id?this.event.title:"Nowa",active:!0}];this.changeAdminNavbarBreadcrumbs(t),this.id&&this.$store.dispatch("getEvent",{id:this.id}).then(function(t){e.prepareEvent(t),console.log(t.title);var s=[{text:"Lista imprez",to:{name:"events",params:{tab:"confirmed"}}},{text:e.id?t.title:"Nowa",active:!0}];e.changeAdminNavbarBreadcrumbs(s)}),this.changeAdminNavbarButton({buttonLink:!1})}},li={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[[t("FormMainData",{directives:[{name:"show",rawName:"v-show",value:"main-data"===this.$route.params.tab,expression:"$route.params.tab === 'main-data'"}],key:this.$route.params.tab+"FormMainData",ref:"FormMainData",attrs:{event:this.event},on:{childSubmit:this.submit}})]],2)},staticRenderFns:[]};var ui=s("VU/8")(ci,li,!1,function(e){s("Wkf0")},"data-v-1ab616b3",null).exports,di={components:{Treeselect:r.a},mixins:[F],props:["lessons"],data:function(){return{}},computed:{schoolsAndClubsPrepared:function(){var e=this.$store.getters.schools,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].name});return t}},created:function(){this.$store.dispatch("getSchools",{})}},pi={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Dzielnica",options:e.lessons.districts},model:{value:e.lessons.districtValue,callback:function(t){e.$set(e.lessons,"districtValue",t)},expression:"lessons.districtValue"}}),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Dyscyplina",options:e.lessons.disciplines},model:{value:e.lessons.selectedDiscipline,callback:function(t){e.$set(e.lessons,"selectedDiscipline",t)},expression:"lessons.selectedDiscipline"}}),e._v(" "),s("b-row",{staticClass:"align-items-center mb-2"},[s("b-col",[s("b-form-group",{staticClass:"custom"},[s("b-form-checkbox-group",{attrs:{id:"checkbox-group-type",options:e.lessons.typeOptions,name:"checkbox-group-type"},model:{value:e.lessons.selectedType,callback:function(t){e.$set(e.lessons,"selectedType",t)},expression:"lessons.selectedType"}})],1)],1),e._v(" "),s("b-col",[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"sportObject.schools",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("sportObject.schools")},attrs:{multiple:!0,searchable:!1,placeholder:"Nazwa klubu/Szkoły",options:e.schoolsAndClubsPrepared,name:"sportObject.schools"},model:{value:e.lessons.schoolsAndClubs,callback:function(t){e.$set(e.lessons,"schoolsAndClubs",t)},expression:"lessons.schoolsAndClubs"}})],1)],1),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Kategoria",options:e.lessons.categories},model:{value:e.lessons.selectedCategory,callback:function(t){e.$set(e.lessons,"selectedCategory",t)},expression:"lessons.selectedCategory"}}),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Klasa",options:e.lessons.classes},model:{value:e.lessons.selectedClass,callback:function(t){e.$set(e.lessons,"selectedClass",t)},expression:"lessons.selectedClass"}}),e._v(" "),s("b-row",{staticClass:"my-3"},[s("b-col",{attrs:{cols:"5"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Rocznik od",options:e.lessons.years},model:{value:e.lessons.selectedYearFrom,callback:function(t){e.$set(e.lessons,"selectedYearFrom",t)},expression:"lessons.selectedYearFrom"}})],1),e._v(" "),s("b-col",{attrs:{cols:"2"}},[s("hr",{staticClass:"mt-4"})]),e._v(" "),s("b-col",{attrs:{cols:"5"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Rocznik do",options:e.lessons.years},model:{value:e.lessons.selectedYearTo,callback:function(t){e.$set(e.lessons,"selectedYearTo",t)},expression:"lessons.selectedYearTo"}})],1)],1),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Obiekt sportowy",options:e.lessons.sportObjects},model:{value:e.lessons.selectedSportObject,callback:function(t){e.$set(e.lessons,"selectedSportObject",t)},expression:"lessons.selectedSportObject"}}),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Prowadzący",options:e.lessons.leaders},model:{value:e.lessons.selectedLeader,callback:function(t){e.$set(e.lessons,"selectedLeader",t)},expression:"lessons.selectedLeader"}}),e._v(" "),s("b-row",{staticClass:"align-items-center mb-2"},[s("b-col",[s("b-form-group",{staticClass:"custom"},[s("b-form-checkbox-group",{attrs:{id:"checkbox-group-gender",options:e.lessons.genderOptions,name:"checkbox-group-gender"},model:{value:e.lessons.selectedGender,callback:function(t){e.$set(e.lessons,"selectedGender",t)},expression:"lessons.selectedGender"}})],1)],1),e._v(" "),s("b-col",[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"sportObject.schools",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("sportObject.schools")},attrs:{multiple:!0,searchable:!1,placeholder:"Lista",options:e.schoolsAndClubsPrepared,name:"sportObject.schools"},model:{value:e.lessons.schoolsAndClubs,callback:function(t){e.$set(e.lessons,"schoolsAndClubs",t)},expression:"lessons.schoolsAndClubs"}})],1)],1),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Imię i Nazwisko zawodnika",options:e.lessons.leaders},model:{value:e.lessons.selectedParticipant,callback:function(t){e.$set(e.lessons,"selectedParticipant",t)},expression:"lessons.selectedParticipant"}}),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Nazwa zajęcia",options:e.lessons.sportObjects},model:{value:e.lessons.selectedLesson,callback:function(t){e.$set(e.lessons,"selectedLesson",t)},expression:"lessons.selectedLesson"}})],1)},staticRenderFns:[]};var mi=s("VU/8")(di,pi,!1,function(e){s("LbBg")},"data-v-1023a7f2",null).exports,hi={components:{Treeselect:r.a},mixins:[F],props:["lessons","districts"],data:function(){return{typeOptions:[{text:"klub",value:0},{text:"szkola",value:1}],selectedType:[]}},watch:{selectedType:function(e){this.lessons.schoolsAndClubs=null}},computed:{schoolsAndClubsPrepared:function(){var e=this.$store.getters.schoolsConfirmed,t=[];for(var s in e)this.selectedType.length>0?this.selectedType.includes(e[s].type)&&t.push({id:e[s].id,label:e[s].name}):t.push({id:e[s].id,label:e[s].name});return t},sportObjectsTreeselect:function(){var e=this;return function(t){if(null===t||void 0===t)return[];var s=e.$store.getters.sportObjectsConfirmed;console.log(s);var a=[];for(var i in s)t.includes(parseInt(s[i].school.id))&&a.push({id:s[i].id,label:s[i].title});return a}},leadersTreeselect:function(){var e=this.$store.getters.leadersConfirmed,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].email});return t},leadersTreeselectBySchool:function(){var e=this;return function(t){if(null===t||void 0===t)return[];var s=e.$store.getters.leadersConfirmed;console.log(s);var a=[];for(var i in s){var n=!1;for(var o in s[i].schoolsUsers)t.includes(s[i].schoolsUsers[o].school.id)&&(n=!0);n&&a.push({id:s[i].id,label:s[i].firstName+" "+s[i].lastName})}return a}},disciplinesTreeselect:function(){var e=[],t=this.$store.getters.disciplines;for(var s in t)e.push({id:t[s].id,label:t[s].title});return e},lessonCategoryTreeselect:function(){var e=this.$store.getters.lessonCategories||[],t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t},lessonClassTreeselect:function(){var e=this.$store.getters.classes||[],t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t}},created:function(){}},fi={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{staticClass:"custom",attrs:{type:"text",placeholder:"Nazwa zajęcia"},model:{value:e.lessons.selectedLesson,callback:function(t){e.$set(e.lessons,"selectedLesson",t)},expression:"lessons.selectedLesson"}})],1),e._v(" "),s("b-row",{staticClass:"align-items-center mb-2"},[s("b-col",[s("b-form-group",{staticClass:"custom"},[s("b-form-checkbox-group",{attrs:{id:"checkbox-group-type",options:e.typeOptions,name:"checkbox-group-type"},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1)],1),e._v(" "),s("b-col",[s("treeselect",{key:"sportObject.schools",staticClass:"custom",attrs:{multiple:!0,searchable:!1,placeholder:"Nazwa klubu/Szkoły",options:e.schoolsAndClubsPrepared,name:"sportObject.schools"},model:{value:e.lessons.schoolsAndClubs,callback:function(t){e.$set(e.lessons,"schoolsAndClubs",t)},expression:"lessons.schoolsAndClubs"}})],1)],1),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Obiekt sportowy",options:e.sportObjectsTreeselect(e.lessons.schoolsAndClubs)},model:{value:e.lessons.selectedSportObject,callback:function(t){e.$set(e.lessons,"selectedSportObject",t)},expression:"lessons.selectedSportObject"}}),e._v(" "),e.$store.getters.isDirector||e.$store.getters.isAdmin?s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Prowadzący",options:e.leadersTreeselect},model:{value:e.lessons.selectedLeader,callback:function(t){e.$set(e.lessons,"selectedLeader",t)},expression:"lessons.selectedLeader"}}):e._e(),e._v(" "),s("treeselect",{staticClass:"custom mt-4 mb-2",attrs:{multiple:!0,placeholder:"Dzielnica",options:e.districts},model:{value:e.lessons.districtValue,callback:function(t){e.$set(e.lessons,"districtValue",t)},expression:"lessons.districtValue"}}),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Dyscyplina",options:e.disciplinesTreeselect},model:{value:e.lessons.selectedDiscipline,callback:function(t){e.$set(e.lessons,"selectedDiscipline",t)},expression:"lessons.selectedDiscipline"}}),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Kategoria",options:e.lessonCategoryTreeselect},model:{value:e.lessons.selectedCategory,callback:function(t){e.$set(e.lessons,"selectedCategory",t)},expression:"lessons.selectedCategory"}}),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Klasa",options:e.lessonClassTreeselect},model:{value:e.lessons.selectedClass,callback:function(t){e.$set(e.lessons,"selectedClass",t)},expression:"lessons.selectedClass"}})],1)},staticRenderFns:[]};var vi=s("VU/8")(hi,fi,!1,function(e){s("xlcC")},"data-v-0a2fa739",null).exports,bi={name:"Reporting",components:{Treeselect:r.a,LessonsFromCalendar:vi,Events:ls,TabLinks:$e,Calendar:O,Lessons:mi,DatePicker:Qt.a},mixins:[F],data:function(){return{generateExcel:!0,generatePdf:!0,districts:c.f,datepickerParams:c.e,selectedYearFrom:null,selectedYearTo:null,selectedType:"Zajęcia",activeOptions:[{text:"Aktywne",value:1},{text:"Nie aktywne",value:0}],lessons:{selectedAccepted:[],districtValue:null,selectedType:[],schoolsAndClubs:null,selectedDiscipline:null,selectedCategory:null,selectedClass:null,selectedSportObject:null,selectedLeader:null,selectedLesson:null},checkboxFilterValues:[15],checkboxFilters:[{text:"Dzielnica",value:0,key:"district"},{text:"Klub/Szkoła",value:1,key:"klubOrSchool"},{text:"Obiekt",value:2,key:"object"},{text:"Dyscyplina",value:3,key:"discipline"},{text:"Kategoria",value:4,key:"category"},{text:"Klasa",value:5,key:"class"},{text:"Prowadzący",value:6,key:"leader"},{text:"Lista zawodników",value:7,key:"participantList"},{text:"Płeć",value:8,key:"gender"},{text:"Zawodnik",value:9,key:"participant"},{text:"Rocznik",value:10,key:"year"},{text:"Data",value:11,key:"date"},{text:"Status",value:12,key:"status"},{text:"Zastępstwo",value:13,key:"replacementLeader"},{text:"Odwolanie",value:14,key:"newDate"},{text:"Nazwa",value:15,key:"title"}],fields:[],listItems:[{id:1,district:"Centrum",klubOrSchool:"Kłub",object:"Park",discipline:"Bieg 50m",category:"2",class:"4A",leader:"Marek",participantList:"PL",gender:"M",participant:"13",year:"2003",date:"23/11/19",status:"1"},{id:1,district:"Centrum",klubOrSchool:"Kłub",object:"Park",discipline:"Bieg 50m",category:"2",class:"4A",leader:"Marek",participantList:"PL",gender:"M",participant:"13",year:"2003",date:"23/11/19",status:"1"},{id:1,district:"Centrum",klubOrSchool:"Kłub",object:"Park",discipline:"Bieg 50m",category:"2",class:"4A",leader:"Marek",participantList:"PL",gender:"M",participant:"13",year:"2003",date:"23/11/19",status:"1"},{id:1,district:"Centrum",klubOrSchool:"Kłub",object:"Park",discipline:"Bieg 50m",category:"2",class:"4A",leader:"Marek",participantList:"PL",gender:"M",participant:"13",year:"2003",date:"23/11/19",status:"1"}]}},computed:{},watch:{checkboxFilterValues:function(e){var t=this,s=[],a=function(a){var i=t.checkboxFilters.filter(function(t){return t.value===e[a]});s.push({key:i[0].key,label:i[0].text,sortable:!0})};for(var i in e)a(i);this.fields=s,this.changeAdminNavbarButtonWithParams()},selectedType:function(e){this.generateExcel="Zajęcia"===e,this.changeAdminNavbarButtonWithParams()},lessons:{handler:function(e){this.changeAdminNavbarButtonWithParams()},deep:!0},selectedYearTo:function(e){this.changeAdminNavbarButtonWithParams()},selectedYearFrom:function(e){this.changeAdminNavbarButtonWithParams()}},methods:{changeAdminNavbarButtonWithParams:function(){this.changeAdminNavbarButton({buttonLink:!1,generateExcel:this.generateExcel,generatePdf:this.generatePdf,generationParams:{type:this.selectedType,lesson:this.lessons,dateFrom:this.selectedYearFrom,dateTo:this.selectedYearTo,results:this.checkboxFilterValues}})}},created:function(){this.changeAdminNavbarButton({buttonLink:!1,generateExcel:!0,generatePdf:!0}),this.changeAdminNavbarBreadcrumbs([{text:"Raporty",active:!0}])}},gi={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("h4",[e._v("Typ")]),e._v(" "),s("b-form-group",{staticClass:"my-3"},[s("b-form-radio",{staticClass:"d-inline-block mr-4",attrs:{name:"some-radios",value:"Zajęcia"},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},[e._v("Zajęcia\n        ")]),e._v(" "),s("b-form-radio",{staticClass:"d-inline-block mr-4",attrs:{name:"some-radios",value:"Frekwencja"},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},[e._v("Frekwencja\n        ")])],1),e._v(" "),s("h4",[e._v("Zakres")]),e._v(" "),s("b-row",{staticClass:"my-3"},[s("b-col",{attrs:{cols:"5"}},[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"selectedYearFrom",staticClass:"w-100 custom mt-3",class:{"error-input-custom":e.veeErrors.has("selectedYearFrom")},attrs:{lang:e.datepickerParams.lang,name:"selectedYearFrom","value-type":"format",format:"YYYY-MM-DD",type:"date",id:"selectedYearFrom",placeholder:"Od"},model:{value:e.selectedYearFrom,callback:function(t){e.selectedYearFrom=t},expression:"selectedYearFrom"}})],1),e._v(" "),s("b-col",{attrs:{cols:"2"}},[s("hr",{staticClass:"mt-4 mb-0"})]),e._v(" "),s("b-col",{attrs:{cols:"5"}},[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"selectedYearTo",staticClass:"w-100 custom mt-3",class:{"error-input-custom":e.veeErrors.has("selectedYearTo")},attrs:{lang:e.datepickerParams.lang,name:"selectedYearTo","value-type":"format",format:"YYYY-MM-DD",type:"date",id:"selectedYearTo",placeholder:"Do"},model:{value:e.selectedYearTo,callback:function(t){e.selectedYearTo=t},expression:"selectedYearTo"}})],1)],1),e._v(" "),s("h4",{staticClass:"mt-5"},[e._v("Wybierz wyniki")]),e._v(" "),s("b-form-checkbox-group",{attrs:{id:"checkbox-group-filter",options:e.checkboxFilters,name:"checkbox-group-typefilter"},model:{value:e.checkboxFilterValues,callback:function(t){e.checkboxFilterValues=t},expression:"checkboxFilterValues"}})],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("h4",[e._v("Zajęcia")]),e._v(" "),s("b-form-group",{staticClass:"custom my-3"},[s("b-form-checkbox-group",{attrs:{id:"checkbox-group-type-lesson-active",options:e.activeOptions,name:"checkbox-group-type-lesson-active"},model:{value:e.lessons.selectedAccepted,callback:function(t){e.$set(e.lessons,"selectedAccepted",t)},expression:"lessons.selectedAccepted"}})],1),e._v(" "),s("LessonsFromCalendar",{attrs:{districts:e.districts,lessons:e.lessons}})],1)],1)},staticRenderFns:[]};var yi=s("VU/8")(bi,gi,!1,function(e){s("oHnh")},"data-v-47b686f2",null).exports,_i={components:{Treeselect:r.a,DatePicker:Qt.a},mixins:[F],props:["lessons"],data:function(){return{selectedYear:null,datepickerParams:c.e,districts:c.f,districtValue:null,selectedAccepted:[],acceptedValues:[{text:"Aktywne",value:1},{text:"Nie aktywne",value:0}],selectedType:[],typeOptions:[{text:"klub",value:0},{text:"szkola",value:1}],selectedGender:[],genderOptions:[{text:"kobieta",value:0},{text:"mężczyzna",value:1}]}},computed:{schoolsAndClubsPrepared:function(){var e=this.$store.getters.schoolsConfirmed,t=[];for(var s in e)this.selectedType.length>0?this.selectedType.includes(e[s].type)&&t.push({id:e[s].id,label:e[s].name}):t.push({id:e[s].id,label:e[s].name});return t},sportObjectsTreeselect:function(){var e=this;return function(t){if(null===t||void 0===t)return[];var s=e.$store.getters.sportObjectsConfirmed;console.log(s);var a=[];for(var i in s)t.includes(parseInt(s[i].school.id))&&a.push({id:s[i].id,label:s[i].title});return a}},leadersTreeselect:function(){var e=this.$store.getters.leadersConfirmed,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].email});return t},disciplinesTreeselect:function(){var e=[],t=this.$store.getters.disciplines;for(var s in t)e.push({id:t[s].id,label:t[s].title});return e},lessonCategoryTreeselect:function(){var e=this.$store.getters.lessonCategories||[],t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t},lessonClassTreeselect:function(){var e=this.$store.getters.classes||[],t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t}},methods:{filter:function(){var e=this;if(void 0!==this.selectedYear&&null!==this.selectedYear){var t={lesson:this.lessons,date:this.selectedYear};this.$store.dispatch("getLessons",{filters:t}).then(function(t){e.$parent.setLocations(t)})}}},created:function(){this.$store.dispatch("getSchools",{})}},ki={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-row",[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("h2",{staticClass:"my-3"},[e._v("Zajęcia (filtruj, aby pojawiały się na mapie)")]),e._v(" "),s("b-form-group",{staticClass:"custom my-3"},[s("b-form-checkbox-group",{attrs:{id:"checkbox-confirm-type",options:e.acceptedValues,name:"checkbox-confirm-type"},model:{value:e.lessons.selectedAccepted,callback:function(t){e.$set(e.lessons,"selectedAccepted",t)},expression:"lessons.selectedAccepted"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mt-1 mb-2"},[s("b-form-input",{staticClass:"custom mb-0",attrs:{type:"text",placeholder:"Nazwa zajęcia"},model:{value:e.lessons.selectedLesson,callback:function(t){e.$set(e.lessons,"selectedLesson",t)},expression:"lessons.selectedLesson"}})],1),e._v(" "),s("b-row",{staticClass:"align-items-center mb-2"},[s("b-col",[s("b-form-group",{staticClass:"custom"},[s("b-form-checkbox-group",{attrs:{id:"checkbox-schhol-type",options:e.typeOptions,name:"checkbox-schhol-type"},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1)],1),e._v(" "),s("b-col",[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"sportObject.schools",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("sportObject.schools")},attrs:{multiple:!0,searchable:!1,placeholder:"Nazwa klubu/Szkoły",options:e.schoolsAndClubsPrepared,name:"sportObject.schools"},model:{value:e.lessons.schoolsAndClubs,callback:function(t){e.$set(e.lessons,"schoolsAndClubs",t)},expression:"lessons.schoolsAndClubs"}})],1)],1),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Obiekt sportowy",options:e.sportObjectsTreeselect(e.lessons.schoolsAndClubs)},model:{value:e.lessons.selectedSportObject,callback:function(t){e.$set(e.lessons,"selectedSportObject",t)},expression:"lessons.selectedSportObject"}}),e._v(" "),s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Prowadzący",options:e.leadersTreeselect},model:{value:e.lessons.selectedLeader,callback:function(t){e.$set(e.lessons,"selectedLeader",t)},expression:"lessons.selectedLeader"}})],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"selectedYear",staticClass:"w-100 custom mt-4",class:{"error-input-custom":e.veeErrors.has("selectedYear")},attrs:{lang:e.datepickerParams.lang,name:"selectedYear","value-type":"format",format:"YYYY-MM-DD",type:"date",id:"selectedYear",placeholder:"Wybierz datę (obowiązkowo)"},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}}),e._v(" "),s("treeselect",{staticClass:"custom mt-4 mb-2",attrs:{multiple:!0,placeholder:"Dyscyplina",options:e.disciplinesTreeselect},model:{value:e.lessons.selectedDiscipline,callback:function(t){e.$set(e.lessons,"selectedDiscipline",t)},expression:"lessons.selectedDiscipline"}}),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Kategoria",options:e.lessonCategoryTreeselect},model:{value:e.lessons.selectedCategory,callback:function(t){e.$set(e.lessons,"selectedCategory",t)},expression:"lessons.selectedCategory"}}),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Klasa",options:e.lessonClassTreeselect},model:{value:e.lessons.selectedClass,callback:function(t){e.$set(e.lessons,"selectedClass",t)},expression:"lessons.selectedClass"}}),e._v(" "),s("h6",{staticClass:"mt-4 my-3"},[e._v("Lokalizacja")]),e._v(" "),s("treeselect",{staticClass:"custom mb-2",attrs:{multiple:!0,placeholder:"Dzielnica",options:e.districts},model:{value:e.lessons.districtValue,callback:function(t){e.$set(e.lessons,"districtValue",t)},expression:"lessons.districtValue"}}),e._v(" "),s("b-btn",{staticClass:"text-align-right d-block ml-auto",attrs:{variant:"primary"},on:{click:e.filter}},[e._v("Filtruj")])],1)],1)],1)},staticRenderFns:[]};var Ci=s("VU/8")(_i,ki,!1,function(e){s("urfc")},"data-v-c3d40d62",null).exports,wi={name:"Reporting",components:{Treeselect:r.a,Events:ls,TabLinks:$e,Calendar:O,LessonsVisit:Ci},mixins:[F],data:function(){return{generateExcel:!1,generatePdf:!0,checkboxFilterValues:[11,2,6,13,14,15,0,1],google:null,placesPrepared:[],districts:c.f,lessons:{districtValue:null,selectedAccepted:[],schoolsAndClubs:null,selectedDiscipline:null,selectedCategory:null,selectedClass:null,selectedSportObject:null,selectedLeader:null,selectedParticipant:null,selectedLesson:null}}},computed:{},watch:{lessons:{handler:function(e){this.changeAdminNavbarButtonWithParams()},deep:!0}},methods:{changeAdminNavbarButtonWithParams:function(){this.changeAdminNavbarButton({buttonLink:!1,generateExcel:this.generateExcel,generatePdf:this.generatePdf,generationParams:{type:"Wizytacja",lesson:this.lessons,date:this.$refs.lessonVisit.selectedYear,results:this.checkboxFilterValues}})},showList:function(){this.$refs.visitList.show()},setLocations:function(e){if(e.length<1)this.$bvToast.toast("Nie ma zajęć",{title:"Uwaga!",toaster:"b-toaster-bottom-right",solid:!0,variant:"info",appendToast:!1,autoHideDelay:5e3});else{var t=[];for(var s in e)t.push({query:"Lublin, "+e[s].place.address,dataToShow:{title:e[s].title,placeTitle:e[s].place.title,school:e[s].school.name,time:null===e[s].newTimeRange?e[s].timeRange:e[s].newTimeRange},fields:["name","geometry"]});this.placesPrepared=JSON.parse(pt()(t));var a=this.google,i=new a.maps.InfoWindow,n=document.getElementById("map"),o=new a.maps.LatLng(51.246,22.568),r=new a.maps.Map(n,{center:o,zoom:15,gestureHandling:"cooperative"}),c=new a.maps.LatLngBounds,l=new a.maps.places.PlacesService(r),u=function(e){var s=t[e].dataToShow;delete t[e].dataToShow,l.findPlaceFromQuery(t[e],function(e,t){if(t===a.maps.places.PlacesServiceStatus.OK){console.log(e);for(var i=0;i<e.length;i++)p(e[i],s);r.setCenter(e[0].geometry.location)}})};for(var d in t)u(d);r.fitBounds(c),r.panToBounds(c)}function p(e,t){var s=new a.maps.Marker({map:r,position:e.geometry.location}),n=new a.maps.LatLng(s.position.lat(),s.position.lng());c.extend(n),a.maps.event.addListener(s,"click",function(){i.setContent("\n          Nazwa: "+t.title+" <br>\n          Szkoła / Klub: "+t.school+" <br>\n          Obiekt sportowy: "+t.placeTitle+" <br>\n          Czas: "+t.time.join("-")+" <br>\n          Adres: "+e.name+" <br>\n        "),i.open(r,this)})}}},mounted:function(){var e=this;return k()(y.a.mark(function t(){var s,a,i;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y();case 3:e.google=t.sent,s=e.google,a=document.getElementById("map"),i=new s.maps.LatLng(51.246,22.568),new s.maps.Map(a,{center:i,zoom:8,gestureHandling:"cooperative"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:e.$watch("$refs.lessonVisit.selectedYear",function(t,s){e.changeAdminNavbarButtonWithParams()});case 14:case"end":return t.stop()}},t,e,[[0,10]])}))()},created:function(){this.changeAdminNavbarButton({buttonLink:!1,generatePdf:!0}),this.$store.dispatch("getSchools",{confirmed:1,getAll:!0}),this.$store.dispatch("getSportObjects",{confirmed:1}),this.$store.dispatch("getLeaders",{confirmed:1}),this.$store.dispatch("getDisciplines"),this.$store.dispatch("getLessonCategories"),this.$store.dispatch("getClasses")}},xi={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("b-col",[s("lessons-visit",{ref:"lessonVisit",attrs:{lessons:e.lessons}})],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("h2",{staticClass:"my-3 d-inline-block"},[e._v("Mapa")]),e._v(" "),s("b-btn",{staticClass:"ml-3 text-align-right d-inline-block",attrs:{variant:"primary",size:"sm"},on:{click:e.showList}},[e._v("Zobacz listę")]),e._v(" "),s("div",{attrs:{id:"map"}}),e._v(" "),s("div",{attrs:{id:"infowindow-content"}},[s("img",{attrs:{src:"",width:"16",height:"16",id:"place-icon"}}),e._v(" "),s("span",{staticClass:"title",attrs:{id:"place-name"}}),s("br"),e._v(" "),s("span",{attrs:{id:"place-address"}})])],1),e._v(" "),s("b-modal",{ref:"visitList",attrs:{title:"Zajęcia","hide-footer":"",size:"md"}},e._l(e.placesPrepared,function(t,a){return s("div",{key:a,staticClass:"my-3"},[s("p",[e._v("Nazwa: "+e._s(t.dataToShow.title))]),e._v(" "),s("p",[e._v("Szkoła / Klub: "+e._s(t.dataToShow.school))]),e._v(" "),s("p",[e._v("Obiekt sportowy: "+e._s(t.dataToShow.placeTitle))]),e._v(" "),s("p",[e._v("Czas: "+e._s(t.dataToShow.time.join("-")))]),e._v(" "),s("p",[e._v("Adres: "+e._s(t.query))]),e._v(" "),s("hr")])}),0)],1)},staticRenderFns:[]};var $i={components:{TabLinks:$e,Reporting:yi,Visit:s("VU/8")(wi,xi,!1,function(e){s("3zoS")},"data-v-a975233c",null).exports},mixins:[F],data:function(){return{tabLinks:[{title:"Raportowanie",link:"reports",tab:"reporting"},{title:"Wizytacja",link:"reports",tab:"visit"}]}},computed:{isLoading:function(){return this.$store.getters.isLoading}},watch:{isLoading:function(e){e?this.$refs.loadingModal.show():this.$refs.loadingModal.hide()}},created:function(){this.$store.getters.isAdmin||(this.tabLinks=[]),void 0===this.$route.params.tab&&this.$router.push({name:"reports",params:{tab:"reporting"}}),this.$store.dispatch("getSchools",{confirmed:1}),this.$store.dispatch("getSportObjects",{confirmed:1}),this.$store.dispatch("getLeaders",{confirmed:1,forLesson:!0}),this.$store.dispatch("getDisciplines"),this.$store.dispatch("getLessonCategories"),this.$store.dispatch("getClasses"),this.changeAdminNavbarBreadcrumbs([{text:"Raporty",active:!0}])}},Ti={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("TabLinks",{attrs:{links:e.tabLinks}})],1)],1),e._v(" "),"reporting"===e.$route.params.tab?s("reporting",{key:e.$route.params.tab}):e._e(),e._v(" "),"visit"===e.$route.params.tab?s("visit",{key:e.$route.params.tab}):e._e(),e._v(" "),s("b-modal",{ref:"loadingModal",attrs:{centered:"","hide-header":"","hide-header-close":"","hide-footer":"",size:"lg"}},[s("h3",{staticClass:"text-center"},[e._v("Trwa ladowanie...")])])],1)},staticRenderFns:[]};var Si=s("VU/8")($i,Ti,!1,function(e){s("2Q4D")},"data-v-5449b74a",null).exports,Pi={name:"FormParticipants",props:["participantGroup","isValidForm","participantYearsSelected"],components:{Treeselect:r.a},mixins:[F,ft,Et],data:function(){return{years:c.j,selectedParticipants:[]}},computed:{},watch:{participantYearsSelected:{handler:function(e){var t=this,s=function(s){var a=void 0===t.participantGroup.participants[s]?null:t.participantGroup.participants[s].id;if(void 0===a||null===a)return"continue";var i=t.$store.getters.participant(a);void 0===i?t.$store.dispatch("getParticipant",{id:a}).then(function(a){parseInt(a.year)!==parseInt(e[s].year)&&(t.participantGroup.participants[s].id=null)}):parseInt(i.year)!==parseInt(e[s].year)&&(t.participantGroup.participants[s].id=null)};for(var a in e)s(a)},deep:!0},"participantGroup.participants":{handler:function(e){var t=[];for(var s in e)t.push(e[s].id);this.selectedParticipants=t},deep:!0}},methods:{participantsTreeselect:function(e,t){var s=this.$store.getters.participants,a=[];for(var i in console.log(s),s)e&&parseInt(s[i].year)===parseInt(e)&&(-1===this.selectedParticipants.indexOf(s[i].id)?a.push({id:s[i].id,label:s[i].firstName+" "+s[i].lastName}):a.push({id:s[i].id,label:s[i].firstName+" "+s[i].lastName,isDisabled:!0}));return a},addParticipant:function(){this.$parent.addParticipant()},removeParticipant:function(e){this.$parent.removeParticipant(e)},submitCheckMainTabForm:function(e){e?this.isValidForm?this.submit(e):this.$parent.goToFormTab("main-data",{validateForm:!0}):this.submit(e)},submit:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.preSubmit().then(function(t){t?(e.loading=!1,e.$parent.submit()):e.loading=!1}):this.$parent.submit()}},created:function(){this.$store.dispatch("getParticipants",{schools:this.participantGroup.school.id})}},ji={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.participantGroup?s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("h5",{staticClass:"my-3"},[e._v("Zawodnicy")]),e._v(" "),e._l(e.participantGroup.participants,function(t,a){return e.participantGroup.participants?s("div",{key:a,staticClass:"row"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"text-center _custom-css"},[s("p",{staticClass:"m-auto"},[e._v(e._s(a+1))])]),e._v(" "),e.participantGroup.participants.length>0?s("p",{on:{click:function(t){return e.removeParticipant(a)}}},[e._v("usuń")]):e._e()]),e._v(" "),s("div",{staticClass:"col-10"},[e.participantYearsSelected&&e.participantYearsSelected[a]?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantYearsSelected.years"+a,staticClass:"custom mb-2",class:{"error-input-custom":e.veeErrors.has("participantYearsSelected.years"+a)},attrs:{multiple:!1,placeholder:"Rocznik",options:e.years,name:"participantYearsSelected.years"+a},model:{value:e.participantYearsSelected[a].year,callback:function(t){e.$set(e.participantYearsSelected[a],"year",t)},expression:"participantYearsSelected[index].year"}}):e._e(),e._v(" "),e.participantGroup.participants&&e.participantGroup.participants[a]?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.participants.fullName"+a,staticClass:"custom mb-2",class:{"error-input-custom":e.veeErrors.has("participantGroup.participants.fullName"+a)},attrs:{multiple:!1,placeholder:"Imie Nazwisko",name:"participantGroup.participants.fullName"+a,options:e.participantsTreeselect(e.participantYearsSelected[a]?e.participantYearsSelected[a].year:null,e.selectedParticipants)},model:{value:e.participantGroup.participants[a].id,callback:function(t){e.$set(e.participantGroup.participants[a],"id",t)},expression:"participantGroup.participants[index].id"}}):e._e()],1)]):e._e()}),e._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"text-center _custom-css"},[s("p",{staticClass:"m-auto"},[e._v(e._s(e.participantGroup.participants.length+1))])])]),e._v(" "),s("div",{staticClass:"col-10"},[s("b-btn",{staticClass:"w-50",attrs:{variant:"primary",block:""},on:{click:e.addParticipant}},[e._v("+ Dodaj")])],1)]),e._v(" "),s("b-row",{staticClass:"mt-4 justify-content-end"},[s("b-col",{attrs:{cols:"5"}},[s("b-btn",{staticClass:"custom btn",attrs:{block:"",to:{name:"participant.groups"}}},[e._v("\n          Anuluj\n        ")])],1),e._v(" "),s("b-col",{attrs:{cols:"5"}},[s("b-btn",{staticClass:"custom",attrs:{variant:"primary",block:""},on:{click:function(t){return e.submitCheckMainTabForm(!0)}}},[e._v("\n          Zapisz\n        ")])],1)],1)],2)],1):e._e()},staticRenderFns:[]};var Di=s("VU/8")(Pi,ji,!1,function(e){s("XlhS")},"data-v-ff1a9496",null).exports,Li={name:"FormMainData",props:["participantGroup"],components:{Treeselect:r.a},mixins:[F,ft,rt],data:function(){return{participants:[],participantGroupDefault:{active:1,sex:"",title:"",disciplines:[],categories:[],classes:[],school:{id:null}},isValidForm:!1}},computed:{disciplines:function(){return this.$store.getters.disciplines},classes:function(){return this.$store.getters.classes},lessonCategories:function(){return this.$store.getters.lessonCategories},seasons:function(){return this.$store.getters.seasons}},watch:{"participantGroup.school.id":function(e){void 0!==e&&null!==e&&(this.$store.dispatch("getParticipants",{schools:e}),this.$parent.clearParticipants(e))}},methods:{submit:function(e){var t=this;e?this.preSubmit().then(function(e){e?(t.loading=!1,t.$parent.submit()):t.loading=!1}):this.$parent.submit()},goToFormTab:function(e){this.$parent.goToFormTab(e)}},mounted:function(){this.$route.params.validateForm&&this.checkValidForm(),void 0!==this.id?this.changeAdminNavbarButton({buttonLink:!1,generateExcel:!0,generatePdf:!0,generationParams:{type:"Lista zawodników",id:this.id,results:[0,1,2,3,4,5,6,7]}}):this.changeAdminNavbarButton({buttonLink:!1})},created:function(){this.$store.dispatch("getSeasons"),this.$store.dispatch("getSchools"),this.$store.dispatch("getParticipantGroups"),this.$store.dispatch("getDisciplines"),this.$store.dispatch("getLessonCategories"),this.$store.dispatch("getClasses")}},zi={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.participantGroup?s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("h5",[e._v("Aktywuj")]),e._v(" "),s("b-form-group",e._l([{title:"Tak",value:!0},{title:"Nie",value:!1}],function(t,a){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.active"+a,staticClass:"d-inline-block my-3 mr-3",class:{"error-input-custom":e.veeErrors.has("participantGroup.active")},attrs:{value:t.value,name:"participantGroup.active"},model:{value:e.participantGroup.active,callback:function(t){e.$set(e.participantGroup,"active",t)},expression:"participantGroup.active"}},[e._v("\n          "+e._s(t.title)+"\n        ")])}),1),e._v(" "),s("h2",{staticClass:"mb-4"},[e._v("Płeć")]),e._v(" "),s("b-form-checkbox-group",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.sex",staticClass:"mr-3 mb-3",attrs:{id:"checkbox-group-1",name:"participantGroup.sex",options:[{text:"kobieta",value:0},{text:"mężczyzna",value:1}]},model:{value:e.participantGroup.sex,callback:function(t){e.$set(e.participantGroup,"sex",t)},expression:"participantGroup.sex"}}),e._v(" "),s("h5",{staticClass:"mb-3"},[e._v("Dane ogólne")]),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.title",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("participantGroup.title")},attrs:{id:"title-1",placeholder:"Nazwa listy",name:"participantGroup.title"},model:{value:e.participantGroup.title,callback:function(t){e.$set(e.participantGroup,"title",t)},expression:"participantGroup.title"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[e.participantGroup.school?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.school",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("participantGroup.school")},attrs:{multiple:!1,disabled:e.participantGroup.id&&null!==e.participantGroup.school.id,placeholder:"Szkoła / Klub",options:e.schools,name:"participantGroup.school"},model:{value:e.participantGroup.school.id,callback:function(t){e.$set(e.participantGroup.school,"id",t)},expression:"participantGroup.school.id"}}):e._e()],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[e.participantGroup.discipline?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.discipline",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("participantGroup.discipline")},attrs:{multiple:!1,placeholder:"Dyscyplina",options:e.participantGroupDiscipline,name:"participantGroup.discipline"},model:{value:e.participantGroup.discipline.id,callback:function(t){e.$set(e.participantGroup.discipline,"id",t)},expression:"participantGroup.discipline.id"}}):e._e()],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[e.participantGroup.lessonCategory?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.lessonCategory",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("participantGroup.lessonCategory")},attrs:{multiple:!1,placeholder:"Kategoria",options:e.participantGroupLessonCategory,name:"participantGroup.lessonCategory"},model:{value:e.participantGroup.lessonCategory.id,callback:function(t){e.$set(e.participantGroup.lessonCategory,"id",t)},expression:"participantGroup.lessonCategory.id"}}):e._e()],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[e.participantGroup.class?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.class",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("participantGroup.class")},attrs:{multiple:!1,placeholder:"Klasa",options:e.participantGroupClass,name:"participantGroup.class"},model:{value:e.participantGroup.class.id,callback:function(t){e.$set(e.participantGroup.class,"id",t)},expression:"participantGroup.class.id"}}):e._e()],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[e.participantGroup.season?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.season",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("participantGroup.season")},attrs:{disabled:e.participantGroup.id&&null!==e.participantGroup.season.id,multiple:!1,placeholder:"Sezon",options:e.participantGroupSeason,name:"participantGroup.season"},model:{value:e.participantGroup.season.id,callback:function(t){e.$set(e.participantGroup.season,"id",t)},expression:"participantGroup.season.id"}}):e._e()],1),e._v(" "),s("b-row",{staticClass:"mt-4 justify-content-end"},[this.id?s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("b-btn",{staticClass:"custom",attrs:{variant:"delete"},on:{click:function(t){return e.deleteFromForm("deleteParticipantGroup",e.participantGroup.id,void 0,"participant.groups",{})}}},[e._v("\n            Usuń\n          ")])],1):e._e(),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[s("b-btn",{staticClass:"custom btn",attrs:{block:"",to:{name:"participant.groups"}}},[e._v("\n            Anuluj\n          ")])],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[e.participantGroup.id?s("b-btn",{staticClass:"custom",attrs:{variant:"primary",block:""},on:{click:function(t){return e.submit(!0)}}},[e._v("\n            Zapisz\n          ")]):s("b-btn",{staticClass:"custom",attrs:{variant:"primary",block:""},on:{click:function(t){return e.goToFormTab("participants")}}},[e._v("\n            Dalej\n          ")])],1),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{xl:"4",lg:"4",md:"12",sm:"12"}},[e.participantGroup.id?s("b-btn",{staticClass:"custom",attrs:{variant:"primary",block:""},on:{click:function(t){return e.$router.push({name:"participant.group",params:{tab:"clone",id:e.id}})}}},[e._v("\n            Duplikuj\n          ")]):e._e()],1)],1)],1)],1):e._e()},staticRenderFns:[]};var Fi=s("VU/8")(Li,zi,!1,function(e){s("Hvo2")},"data-v-6128511d",null).exports,Ii={name:"FormParticipants",components:{lessonList:_s},props:["participantGroup"]},Ni={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("lessonList",{attrs:{participantGroup:this.participantGroup}})],1)},staticRenderFns:[]};var Ei=s("VU/8")(Ii,Ni,!1,function(e){s("mRh0")},"data-v-07f2b2b0",null).exports,Oi={name:"FormMTSF",props:["participantGroup"],components:{Treeselect:r.a,DatePicker:Qt.a},mixins:[F,ft],data:function(){return{generateExcel:!0,generatePdf:!0,selectedType:"Mtsf",datepickerParams:c.e,searchText:"",selectedSeasons:null,selectedDate:null,mtsf:{season:{id:null},participant:{id:null},birthday:null,height:null,weight:null,bieg50m:null,skokDalZMiejsca:null,biegDlugaDystancja:null,silaDloni:null,zwisNaUgietychRekach:null,bieg4x10:null,siadyZLezenia:null,sklonTulowia:null,finalDate:null,index:null},points:{},fields:[{key:"firstName",label:"Imię",sortable:!0},{key:"lastName",label:"Nazwisko",sortable:!0},{key:"sex",label:"Płec",sortable:!0},{key:"enterDate",label:"Data wpisu",sortable:!0},{key:"removeDate",label:"Data wypisania",sortable:!0},{key:"season",label:"Sezon",sortable:!0},{key:"finalDate",label:"Data obliczenia",sortable:!0},{key:"totalPoints",label:"Punkty",sortable:!0},{key:"edit",label:"Zobacz"}]}},computed:{participantsTreeselect:function(){var e=this,t=this.$store.getters.participants;console.log(t);var s=[],a=function(a){if(e.participantGroup.participants.length<1||void 0===e.participantGroup.participants.find(function(e){return e.id===t[a].id}))return"continue";(e.participantMtsfs&&e.participantMtsfs.length>0?e.participantMtsfs.filter(function(e){return e.participant.id===t[a].id}):[]).length>1?s.push({id:t[a].id,label:t[a].firstName+" "+t[a].lastName,isDisabled:!0}):s.push({id:t[a].id,label:t[a].firstName+" "+t[a].lastName})};for(var i in t)a(i);return s},participantMtsfs:function(){var e=this.$store.getters.mtsfList,t=[];for(var s in console.log(this.participantGroup),e){var a=" "+(e[s].participant.firstName?e[s].participant.firstName.toLowerCase()+" ":"")+(e[s].participant.lastName?e[s].participant.lastName.toLowerCase()+" ":"")+(e[s].participant.enterDate?e[s].participant.enterDate.toLowerCase()+" ":"")+(e[s].participant.removeDate?e[s].participant.removeDate.toLowerCase()+" ":"")+(e[s].finalDate?e[s].finalDate.toLowerCase()+" ":"");this.searchText.length>0&&-1===a.indexOf(this.searchText.toLowerCase())||this.participantGroup.season.id===e[s].season.id&&t.push(e[s])}return t},seasonsTreeselect:function(){var e=this.$store.getters.seasons,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t},seasonsForFormTreeselect:function(){var e=this;return function(t){console.log(t);var s=L()({},e.$store.getters.seasons),a=[],i=e.participantMtsfs.length>0?e.participantMtsfs.filter(function(e){return e.participant.id===t}):[],n=function(e){var t=i.filter(function(t){return t.season.id==s[e].id});t&&t.length>1?a.push({id:s[e].id,label:s[e].title,isDisabled:!0}):a.push({id:s[e].id,label:s[e].title})};for(var o in s)n(o);return a}}},watch:{searchText:function(e){this.changeAdminNavbarButtonWithParams()}},methods:{changeAdminNavbarButtonWithParams:function(){this.changeAdminNavbarButton({eventBusMethod:"OPEN_MTSF_MODAL",generateExcel:this.generateExcel,generatePdf:this.generatePdf,generationParams:{type:this.selectedType,filters:{searchText:this.searchText,participantGroup:this.id,selectedSeasons:[this.participantGroup.season.id]},results:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]}})},checkPoints:function(e){return 0===$t()(this.points).length?"":"Punkty: "+this.points[e]},resetModal:function(){this.mtsf={season:{id:null},participant:{id:null},birthday:null,height:null,weight:null,bieg50m:null,skokDalZMiejsca:null,biegDlugaDystancja:null,silaDloni:null,zwisNaUgietychRekach:null,bieg4x10:null,siadyZLezenia:null,sklonTulowia:null,finalDate:null,index:null},this.points={}},checkPunkts:function(){var e=this;this.$store.dispatch("checkMtsfPoints",{data:{actionType:"checkMtsfPoints",mtsf:this.mtsf}}).then(function(t){e.points=L()({},t)}).catch(function(t){e.showToast(t.data.error,"Uwaga","danger")})},submit:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.mtsf.finalDate=!0),this.mtsf.season.id=this.participantGroup.season.id;var t=void 0,s=void 0;this.mtsf.id?(t="putMtsf",s=this.mtsf.id):(t="postMtsf",s=this.id),this.$store.dispatch(t,{id:"putMtsf"===t?s:this.mtsf.participant.id,data:this.mtsf}).then(function(t){e.$refs.modalMTSF.hide()}).catch(function(t){console.log(t),e.showToast(t.data.error,"Uwaga","danger"),e.$refs.modalMTSF.hide()})},openMTSFModal:function(e){if(e){var t=this.$store.getters.mtsf(e);console.log(t),t&&(this.mtsf=JSON.parse(pt()(t)))}this.$refs.modalMTSF&&this.$refs.modalMTSF.show()}},created:function(){var e=this;z.a.$on("OPEN_MTSF_MODAL",function(t){e.openMTSFModal()}),this.changeAdminNavbarButtonWithParams(),this.$store.dispatch("getMtsfList",{participantGroupId:this.id}),this.$store.dispatch("getSeasons"),this.$store.dispatch("getParticipants",{schools:this.participantGroup.school.id})}},Ai={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrap"},[s("b-row",[s("b-col",[s("b-row",[s("b-col"),e._v(" "),s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"searchText",staticClass:"custom m-0",attrs:{id:"title-1",placeholder:"Szukaj po imieniu, nazwisku oraz dacie",name:"searchText"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1)],1)],1),e._v(" "),s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.participantMtsfs,fields:e.fields,striped:"","sort-icon-left":"",responsive:"md"},scopedSlots:e._u([{key:"firstName",fn:function(t){return[t.item?s("span",[e._v(e._s(t.item.participant.firstName))]):e._e()]}},{key:"lastName",fn:function(t){return[t.item?s("span",[e._v(e._s(t.item.participant.lastName))]):e._e()]}},{key:"sex",fn:function(t){return[t.item?s("span",[e._v(e._s(1===t.item.participant.sex?"Mężczyzna":"Kobieta"))]):e._e()]}},{key:"enterDate",fn:function(t){return[t.item?s("span",[e._v(e._s(t.item.participant.enterDate))]):e._e()]}},{key:"removeDate",fn:function(t){return[t.item?s("span",[e._v(e._s(t.item.participant.removeDate))]):e._e()]}},{key:"season",fn:function(t){return[t.item?s("span",[e._v(e._s(t.item.season.title))]):e._e()]}},{key:"edit",fn:function(t){return[t.item?s("span",{staticClass:"c-pointer",on:{click:function(s){return e.openMTSFModal(t.item.id)}}},[e._v("\n              Więcej info\n            ")]):e._e()]}}])})],1)],1),e._v(" "),s("b-modal",{ref:"modalMTSF",attrs:{"modal-class":"custom",centered:"",size:"sm","hide-footer":!0,"footer-class":"justify-content-between","title-tag":"h2","header-class":"pr-4 pb-0"},on:{hidden:e.resetModal}},[s("template",{slot:"modal-title"},[e._v("\n        "+e._s(e.mtsf.participant?e.mtsf.participant.firstName:"")+" "+e._s(e.mtsf.participant?e.mtsf.participant.lastName:"")+"\n      ")]),e._v(" "),s("div",{attrs:{slot:"default"},slot:"default"},[s("b-row",{staticClass:"justify-content-center mt-2"},[s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom"},[void 0===e.mtsf.id||null===e.mtsf.id?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.participant.id",staticClass:"custom m-0 mb-2",class:{"error-input-custom":e.veeErrors.has("mtsf.participant.id")},attrs:{multiple:!1,placeholder:"Zawodnik",options:e.participantsTreeselect,name:"mtsf.participant.id"},on:{change:function(t){e.mtsf.season.id=null}},model:{value:e.mtsf.participant.id,callback:function(t){e.$set(e.mtsf.participant,"id",t)},expression:"mtsf.participant.id"}}):e._e()],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.season.id",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.season.id")},attrs:{disabled:!0,multiple:!1,placeholder:"Sezon",options:e.seasonsForFormTreeselect(e.mtsf.participant.id),name:"mtsf.season.id"},model:{value:e.participantGroup.season.id,callback:function(t){e.$set(e.participantGroup.season,"id",t)},expression:"participantGroup.season.id"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Data urodzenia"}},[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.birthday",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.birthday")},attrs:{id:"name-1",lang:e.datepickerParams.lang,"value-type":"format",format:"YYYY-MM-DD",name:"mtsf.birthday"},model:{value:e.mtsf.birthday,callback:function(t){e.$set(e.mtsf,"birthday",t)},expression:"mtsf.birthday"}})],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Wzrost (cm)"}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.height",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.height")},attrs:{id:"name-1",name:"mtsf.height"},model:{value:e.mtsf.height,callback:function(t){e.$set(e.mtsf,"height",t)},expression:"mtsf.height"}})],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Waga (kg)"}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.weight",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.weight")},attrs:{id:"name-1",name:"mtsf.weight"},model:{value:e.mtsf.weight,callback:function(t){e.$set(e.mtsf,"weight",t)},expression:"mtsf.weight"}})],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Bieg na 50m (s)"}},[s("b-input-group",{attrs:{append:e.checkPoints("bieg50m")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.bieg50m",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.bieg50m")},attrs:{id:"name-1",name:"mtsf.bieg50m"},model:{value:e.mtsf.bieg50m,callback:function(t){e.$set(e.mtsf,"bieg50m",t)},expression:"mtsf.bieg50m"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Skok dal z miejsca (cm)"}},[s("b-input-group",{attrs:{append:e.checkPoints("skokDalZMiejsca")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.skokDalZMiejsca",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.skokDalZMiejsca")},attrs:{id:"name-1",name:"mtsf.skokDalZMiejsca"},model:{value:e.mtsf.skokDalZMiejsca,callback:function(t){e.$set(e.mtsf,"skokDalZMiejsca",t)},expression:"mtsf.skokDalZMiejsca"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Bieg na 600m (Dzieci 7-11lat) / 800m (Dziewczyny 12-19lat) / 1000 m ( Chłopcy 12-19 lat)"}},[s("b-input-group",{attrs:{append:e.checkPoints("biegDlugaDystancja")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.biegDlugaDystancja",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.biegDlugaDystancja")},attrs:{id:"name-1",name:"mtsf.biegDlugaDystancja"},model:{value:e.mtsf.biegDlugaDystancja,callback:function(t){e.$set(e.mtsf,"biegDlugaDystancja",t)},expression:"mtsf.biegDlugaDystancja"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Siła dłoni (kG)"}},[s("b-input-group",{attrs:{append:e.checkPoints("silaDloni")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.silaDloni",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.silaDloni")},attrs:{id:"name-1",name:"mtsf.silaDloni"},model:{value:e.mtsf.silaDloni,callback:function(t){e.$set(e.mtsf,"silaDloni",t)},expression:"mtsf.silaDloni"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Zwis na ugiętych rękach / Uginanie rąk w zwisie ( Chłopcy 12 -19 lat)"}},[s("b-input-group",{attrs:{append:e.checkPoints("zwisNaUgietychRekach")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.zwisNaUgietychRekach",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.zwisNaUgietychRekach")},attrs:{id:"name-1",name:"mtsf.zwisNaUgietychRekach"},model:{value:e.mtsf.zwisNaUgietychRekach,callback:function(t){e.$set(e.mtsf,"zwisNaUgietychRekach",t)},expression:"mtsf.zwisNaUgietychRekach"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:" mb-2",attrs:{label:"Bieg 4x10m(s)"}},[s("b-input-group",{attrs:{append:e.checkPoints("bieg4x10")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.bieg4x10",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.bieg4x10")},attrs:{id:"name-1",name:"mtsf.bieg4x10"},model:{value:e.mtsf.bieg4x10,callback:function(t){e.$set(e.mtsf,"bieg4x10",t)},expression:"mtsf.bieg4x10"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Siady z leżenia"}},[s("b-input-group",{attrs:{append:e.checkPoints("siadyZLezenia")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.siadyZLezenia",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.siadyZLezenia")},attrs:{id:"name-1",name:"mtsf.siadyZLezenia"},model:{value:e.mtsf.siadyZLezenia,callback:function(t){e.$set(e.mtsf,"siadyZLezenia",t)},expression:"mtsf.siadyZLezenia"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-4",attrs:{label:"Skłon tułowia (cm)"}},[s("b-input-group",{attrs:{append:e.checkPoints("sklonTulowia")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.sklonTulowia",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.sklonTulowia")},attrs:{id:"name-1",name:"mtsf.sklonTulowia"},model:{value:e.mtsf.sklonTulowia,callback:function(t){e.$set(e.mtsf,"sklonTulowia",t)},expression:"mtsf.sklonTulowia"}})],1)],1)],1)],1),e._v(" "),void 0===e.mtsf.finalDate||null===e.mtsf.finalDate?s("b-row",{staticClass:"mb-3"},[s("b-col",[s("b-btn",{staticClass:"custom",attrs:{variant:"primary"},on:{click:function(t){return e.submit(!1)}}},[e._v("\n              Zapisz\n            ")])],1),e._v(" "),s("b-col",[s("b-btn",{staticClass:"custom",attrs:{variant:"primary"},on:{click:e.checkPunkts}},[e._v("\n              Zobacz punkty\n            ")])],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-btn",{staticClass:"custom mt-3",attrs:{variant:"primary"},on:{click:function(t){return e.submit(!0)}}},[e._v("\n              Zakończ test\n            ")])],1)],1):e._e()],1)],2)],1)},staticRenderFns:[]};var Mi=s("VU/8")(Oi,Ai,!1,function(e){s("0Vyv")},"data-v-48c84d65",null).exports,qi={components:{Treeselect:r.a,ParticipantList:Mt},props:["participantGroup","isValidForm"],mixins:[F,Et,Se.a],data:function(){return{selectedParticipants:[]}},computed:{statusSlot:function(){var e={},t={};for(var s in this.participantGroup.participants)t[this.participantGroup.participants[s].id]=this.participantGroup.participants[s].status;return e.ids=t,e.columnWord="Status dla listy",e.event="participant-participant-list-change-status",console.log(this.participantGroup),console.log(e),e},participantsTreeselect:function(){var e=this;console.log(this.participantGroup);var t=this.$store.getters.participantsBySchoolId,s=[];console.log(t);var a=function(a){(e.participantGroup.participants.length<1||void 0===e.participantGroup.participants.find(function(e){return e.id===t[a].id}))&&s.push({id:t[a].id,label:t[a].firstName+" "+t[a].lastName})};for(var i in t)a(i);return s}},methods:{addParticipants:function(){var e=this;this.$store.dispatch("putParticipantGroup",{id:this.participantGroup.id,participants:this.selectedParticipants}).then(function(t){e.$parent.refreshParticipantGroup(),e.showToast("Dane zostały zapisane","Uwaga","success")}).catch(function(t){t&&t.data&&t.data.error?e.showToast(t.data.error,"Uwaga!","danger"):e.showToast("Wystąpił błąd","Uwaga!","danger")}),this.selectedParticipants=[],this.$refs.participantPGModal.hide()},openParticipantListModal:function(){this.$refs.participantPGModal&&this.$refs.participantPGModal.show()}},created:function(){var e=this;this.$store.dispatch("getParticipantsBySchool",{schools:this.participantGroup.school.id}),z.a.$on("OPEN_PARTICIPANT_LIST_MODAL",function(t){e.openParticipantListModal()}),this.changeAdminNavbarButton({eventBusMethod:"OPEN_PARTICIPANT_LIST_MODAL"})}},Ri={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("ParticipantList",{attrs:{"status-slot":e.statusSlot,disableNavButton:!0,school:e.participantGroup.school},on:{"participant-participant-list-change-status":e.$parent.changeParticipantStatusInList}}),e._v(" "),s("b-modal",{ref:"participantPGModal",attrs:{centered:"",title:"Dodaj zawodnika","hide-footer":"",size:"md"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Zawodnik",options:e.participantsTreeselect},model:{value:e.selectedParticipants,callback:function(t){e.selectedParticipants=t},expression:"selectedParticipants"}}),e._v(" "),s("b-row",{staticClass:"mt-2"},[s("b-col",[s("b-btn",{staticClass:"w-25 float-right",attrs:{variant:"primary"},on:{click:e.addParticipants}},[e._v("Zapisz")])],1)],1)],1)],1)},staticRenderFns:[]};var Gi=s("VU/8")(qi,Ri,!1,function(e){s("mynw")},"data-v-5230c463",null).exports,Ui={name:"FormClone",props:["participantGroup"],components:{Treeselect:r.a},mixins:[F,ft,rt],data:function(){return{selectedSeason:null,participants:[],participantGroupDefault:{active:1,sex:"",title:"",disciplines:[],categories:[],classes:[],school:{id:null}},isValidForm:!1}},computed:{disciplines:function(){return this.$store.getters.disciplines},classes:function(){return this.$store.getters.classes},lessonCategories:function(){return this.$store.getters.lessonCategories},seasons:function(){return this.$store.getters.seasons}},watch:{"participantGroup.school.id":function(e){void 0!==e&&null!==e&&(this.$store.dispatch("getParticipants",{schools:e}),this.$parent.clearParticipants(e))}},methods:{submit:function(e){var t=this;e&&this.preSubmit().then(function(e){if(e){t.loading=!1;var s=L()({},t.participantGroup);t.$store.dispatch("cloneParticipantGroup",s).then(function(){t.postSubmitRedirect("participant.groups")}).catch(function(e){t.postSubmitError(e)})}else t.loading=!1})},goToFormTab:function(e){this.$parent.goToFormTab(e)},mounted:function(){this.$route.params.validateForm&&this.checkValidForm()}},created:function(){var e=this;void 0===this.id&&this.$router.push({name:"participant.group",params:{tab:"main-data"}}),this.$store.dispatch("getParticipantGroup",{id:this.id}).then(function(t){console.log(t),e.selectedSeason=t.season.id,e.$parent.participantGroup=t,e.$parent.participantGroup.season={id:null},e.$parent.setDataFromExistedParticipantGroup(t);var s=[{text:"Lista zawodników",to:{name:"participant.groups"}},{text:"Klonowanie",to:{name:"participant.groups"}},{text:t.title,active:!0}];e.changeAdminNavbarBreadcrumbs(s)}),this.changeAdminNavbarButton({buttonLink:!1}),this.$store.dispatch("getSeasons"),this.$store.dispatch("getSchools"),this.$store.dispatch("getParticipantGroups"),this.$store.dispatch("getDisciplines"),this.$store.dispatch("getLessonCategories"),this.$store.dispatch("getClasses")}},Bi={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.participantGroup?s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"6"}},[s("h5",[e._v("Aktywuj")]),e._v(" "),s("b-form-group",e._l([{title:"Tak",value:!0},{title:"Nie",value:!1}],function(t,a){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.active"+a,staticClass:"d-inline-block my-3 mr-3",class:{"error-input-custom":e.veeErrors.has("participantGroup.active")},attrs:{value:t.value,name:"participantGroup.active"},model:{value:e.participantGroup.active,callback:function(t){e.$set(e.participantGroup,"active",t)},expression:"participantGroup.active"}},[e._v("\n        "+e._s(t.title)+"\n      ")])}),1),e._v(" "),s("h2",{staticClass:"mb-4"},[e._v("Płeć")]),e._v(" "),s("b-form-checkbox-group",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.sex",staticClass:"mr-3 mb-3",attrs:{id:"checkbox-group-1",name:"participantGroup.sex",options:[{text:"kobieta",value:0},{text:"mężczyzna",value:1}]},model:{value:e.participantGroup.sex,callback:function(t){e.$set(e.participantGroup,"sex",t)},expression:"participantGroup.sex"}}),e._v(" "),s("h5",{staticClass:"mb-3"},[e._v("Dane ogólne")]),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.title",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("participantGroup.title")},attrs:{id:"title-1",placeholder:"Nazwa listy",name:"participantGroup.title"},model:{value:e.participantGroup.title,callback:function(t){e.$set(e.participantGroup,"title",t)},expression:"participantGroup.title"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[e.participantGroup.school?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.school",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("participantGroup.school")},attrs:{multiple:!1,disabled:e.participantGroup.id&&null!==e.participantGroup.school.id,placeholder:"Szkoła / Klub",options:e.schools,name:"participantGroup.school"},model:{value:e.participantGroup.school.id,callback:function(t){e.$set(e.participantGroup.school,"id",t)},expression:"participantGroup.school.id"}}):e._e()],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[e.participantGroup.discipline?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.discipline",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("participantGroup.discipline")},attrs:{multiple:!1,placeholder:"Dyscyplina",options:e.participantGroupDiscipline,name:"participantGroup.discipline"},model:{value:e.participantGroup.discipline.id,callback:function(t){e.$set(e.participantGroup.discipline,"id",t)},expression:"participantGroup.discipline.id"}}):e._e()],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[e.participantGroup.lessonCategory?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.lessonCategory",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("participantGroup.lessonCategory")},attrs:{multiple:!1,placeholder:"Kategoria",options:e.participantGroupLessonCategory,name:"participantGroup.lessonCategory"},model:{value:e.participantGroup.lessonCategory.id,callback:function(t){e.$set(e.participantGroup.lessonCategory,"id",t)},expression:"participantGroup.lessonCategory.id"}}):e._e()],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[e.participantGroup.class?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.class",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("participantGroup.class")},attrs:{multiple:!1,placeholder:"Klasa",options:e.participantGroupClass,name:"participantGroup.class"},model:{value:e.participantGroup.class.id,callback:function(t){e.$set(e.participantGroup.class,"id",t)},expression:"participantGroup.class.id"}}):e._e()],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[e.participantGroup.season?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participantGroup.season",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("participantGroup.season")},attrs:{multiple:!1,placeholder:"Sezon",options:e.participantGroupSeason,name:"participantGroup.season"},model:{value:e.participantGroup.season.id,callback:function(t){e.$set(e.participantGroup.season,"id",t)},expression:"participantGroup.season.id"}}):e._e()],1),e._v(" "),s("b-row",{staticClass:"mt-4 justify-content-end"},[s("b-col",{attrs:{cols:"4"}},[s("b-btn",{staticClass:"custom btn",attrs:{block:"",to:{name:"participant.groups"}}},[e._v("\n          Anuluj\n        ")])],1),e._v(" "),s("b-col",{attrs:{cols:"4"}},[s("b-btn",{staticClass:"custom",attrs:{variant:"primary",block:""},on:{click:function(t){return e.submit(!0)}}},[e._v("\n          Zapisz\n        ")])],1)],1)],1)],1):e._e()},staticRenderFns:[]};var Vi={name:"ParticipantGroupsForm",components:{FormClone:s("VU/8")(Ui,Bi,!1,function(e){s("0fNN")},"data-v-513ba787",null).exports,ListParticipants:Gi,TabLinks:$e,Treeselect:r.a,FormMainData:Fi,FormParticipants:Di,FormLessons:Ei,FormCalendar:Vt,FormFrequency:is,FormMTSF:Mi},mixins:[F,ft],data:function(){return{tabLinks:[{title:"Dane ogólne",link:"participant.group",tab:"main-data"},{title:"Zawodnicy",link:"participant.group",tab:"participants",method:"checkValidMainForm",methodParams:"participants"}],participantGroup:{active:!0,title:"",sex:[0,1],discipline:{id:null},class:{id:null},season:{id:null},lessonCategory:{id:null},participants:[],school:{id:null},lessons:[]},participantYearsSelected:[],genderOptions:[{text:"kobieta",value:0},{text:"mężczyzna",value:1}],isValidForm:!1,dbSchoolId:null,dbParticipants:[]}},computed:{isLoading:function(){return this.$store.getters.isLoading}},watch:{isLoading:function(e){e?this.$refs.loadingModal.show():(this.$refs.loadingModal.hide(),this.$bvToast.toast("Ilość wyników przy wygenerowaniu MTSF zależy od uprawnień, które masz w szkołach / klubach lub wybranej filtracji.",{title:"Uwaga!",toaster:"b-toaster-bottom-right",solid:!0,variant:"info",appendToast:!1,autoHideDelay:2e4}))}},methods:{clearParticipants:function(e){parseInt(e)!==this.dbSchoolId&&(this.participantGroup.participants=[],this.participantYearsSelected=[]),null!==this.dbSchoolId&&(this.dbSchoolId=null)},setDataFromExistedParticipantGroup:function(e){this.dbSchoolId=e.school.id,this.dbParticipants=JSON.parse(pt()(e.participants));var t=e.participants||[];for(var s in t)console.log(t[s]),this.participantYearsSelected.push({year:t[s].year})},prepareParticipantGroupToSubmit:function(e){var t=e.participants||[],s=[];for(var a in t)s.push(t[a].id);e.participants=s},checkValidMainForm:function(e){var t=this;return"main-data"===this.$route.params.tab?this.$refs.FormMainData.checkValidForm().then(function(s){t.isValidForm=s,s&&t.$router.push({name:"participant.group",params:{tab:e,id:t.id}})}):new M.a(function(s,a){t.$router.push({name:"participant.group",params:{tab:e,id:t.id}})})},addParticipant:function(){this.participantGroup.participants.push({id:null}),this.participantYearsSelected.push({year:null})},removeParticipant:function(e){this.participantGroup.participants.splice(e,1),this.participantYearsSelected.splice(e,1)},submit:function(){var e=this,t=L()({},this.participantGroup);console.log(this.participantGroup),this.prepareParticipantGroupToSubmit(t);var s=void 0===this.id?"postParticipantGroup":"putParticipantGroup";this.$store.dispatch(s,t).then(function(){e.postSubmitRedirect("participant.groups")}).catch(function(t){e.postSubmitError(t)})},goToFormTab:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.checkValidMainForm(e)},changeParticipantStatusInList:function(e){var t=this;this.$store.dispatch("changeParticipantStatusInList",{listId:this.id,participantId:e.id,status:e.status}).then(function(e){console.log(e),t.participantGroup=e,t.setDataFromExistedParticipantGroup(e)})},refreshParticipantGroup:function(){var e=this;this.$store.dispatch("getParticipantGroup",{id:this.id}).then(function(t){console.log(t),e.participantGroup=t,e.setDataFromExistedParticipantGroup(t)})}},created:function(){var e=this;void 0===this.$route.params.tab&&this.$router.push({name:"participant.group",params:{tab:"main-data"}});this.changeAdminNavbarBreadcrumbs([{text:"Lista zawodników",to:{name:"participant.groups"}},{text:"Nowa",active:!0}]),this.id&&this.$store.dispatch("getParticipantGroup",{id:this.id}).then(function(t){console.log(t),e.participantGroup=t,null===t.season&&(e.participantGroup.season={id:null}),e.setDataFromExistedParticipantGroup(t),e.tabLinks=[{title:"Dane ogólne",link:"participant.group",tab:"main-data"},{title:"Zawodnicy",link:"participant.group",tab:"participants",method:"checkValidMainForm",methodParams:"participants"},{title:"Zajęcia",link:"participant.group",tab:"lessons"},{title:"Kalendarz",link:"participant.group",tab:"calendar"},{title:"MTSF",link:"participant.group",tab:"mtsf"}];var s=[{text:"Lista zawodników",to:{name:"participant.groups"}},{text:t.title,active:!0}];e.changeAdminNavbarBreadcrumbs(s)})}},Yi={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},["clone"!==e.$route.params.tab?s("TabLinks",{attrs:{links:e.tabLinks}}):e._e(),e._v(" "),["main-data"===e.$route.params.tab?s("FormMainData",{key:e.$route.params.tab+"FormMainData",ref:"FormMainData",attrs:{participantGroup:e.participantGroup},on:{childSubmit:e.submit}}):e._e(),e._v(" "),"clone"===e.$route.params.tab?s("FormClone",{key:e.$route.params.tab+"FormClone",ref:"FormClone",attrs:{participantGroup:e.participantGroup},on:{childSubmit:e.submit}}):e._e(),e._v(" "),e.dbParticipants.length<1&&"participants"===e.$route.params.tab?s("FormParticipants",{key:e.$route.params.tab+"FormParticipants",ref:"FormParticipants",attrs:{participantGroup:e.participantGroup,isValidForm:e.isValidForm,participantYearsSelected:e.participantYearsSelected},on:{childSubmit:e.submit}}):e._e(),e._v(" "),e.participantGroup.id&&e.dbParticipants.length>0&&"participants"===e.$route.params.tab&&e.participantGroup.school&&e.participantGroup.school.id?s("ListParticipants",{key:e.$route.params.tab+"ListParticipants"+e.dbParticipants.length,ref:"ListParticipants",attrs:{participantGroup:e.participantGroup,isValidForm:e.isValidForm}}):e._e(),e._v(" "),"lessons"===e.$route.params.tab?s("FormLessons",{key:e.$route.params.tab+"FormLessons",ref:"FormLessons",attrs:{participantGroup:e.participantGroup},on:{childSubmit:e.submit}}):e._e(),e._v(" "),e.participantGroup.id&&"calendar"===e.$route.params.tab?s("FormCalendar",{key:e.$route.params.tab+"FormCalendar",ref:"FormCalendar",attrs:{participantGroup:e.participantGroup.id},on:{childSubmit:e.submit}}):e._e(),e._v(" "),"mtsf"===e.$route.params.tab?s("FormMTSF",{key:e.$route.params.tab+"FormMTSF",ref:"FormMTSF",attrs:{participantGroup:e.participantGroup},on:{childSubmit:e.submit}}):e._e()]],2)],1),e._v(" "),s("b-modal",{ref:"loadingModal",attrs:{centered:"","hide-header":"","hide-header-close":"","hide-footer":"",size:"lg"}},[s("h3",{staticClass:"text-center"},[e._v("Trwa ladowanie...")])])],1)},staticRenderFns:[]};var Zi=s("VU/8")(Vi,Yi,!1,function(e){s("Y+JV")},"data-v-90ef77ce",null).exports,Ki={components:{Treeselect:r.a,Lessons:Ht,Events:ls,Calendar:O,DatePicker:Qt.a},mixins:[F],data:function(){return{datepickerParams:c.e,parsedChanges:{},currentPage:1,perPage:100,totalRows:0,selectedAction:null,selectedYearFrom:null,selectedYearTo:null,selectedType:[],typeOptions:[{text:"klub",value:0},{text:"szkola",value:1}],actions:[{id:1,label:"Dodanie"},{id:2,label:"Edycja"},{id:3,label:"Usunięcie"}],actionsBE:[{val:"POST",label:"Dodanie"},{val:"PUT",label:"Edycja"},{val:"DELETE",label:"Usunięcie"}],years:[{id:1,label:"2000"},{id:2,label:"2001"},{id:3,label:"2002"}],lessons:{districtValue:null,districts:c.f,selectedType:[],typeOptions:[{text:"klub",value:0},{text:"szkola",value:1}],selectedGender:[],genderOptions:[{text:"kobieta",value:0},{text:"mężczyzna",value:1}],schoolsAndClubs:null,selectedDiscipline:null,selectedCategory:null,selectedClass:null,selectedYear:null,selectedSportObject:null,selectedLeader:null,selectedParticipant:null,selectedLesson:null,disciplines:[{id:1,label:"Basen"},{id:2,label:"Siłownia"},{id:3,label:"Bieg"}],categories:[{id:1,label:"pierwsza"},{id:2,label:"druga"},{id:3,label:"cos cos"}],classes:[{id:1,label:"2b"},{id:2,label:"6a"},{id:3,label:"8c"}],sportObjects:[{id:1,label:"Park"},{id:2,label:"Siłownia"},{id:3,label:"Basen"}],leaders:[{id:1,label:"Mark White"},{id:2,label:"Ben Stiffler"},{id:3,label:"Thomas Shelby"}]},events:{districtValue:null,districts:c.f,selectedDiscipline:null,disciplines:[{id:1,label:"Basen"},{id:2,label:"Siłownia"},{id:3,label:"Bieg"}],selectedSportObject:null,sportObjects:[{id:1,label:"Park"},{id:2,label:"Siłownia"},{id:3,label:"Basen"}],selectedSchoolOrCLub:null,schoolsOrClubs:[{id:1,label:"Park"},{id:2,label:"Siłownia"},{id:3,label:"Basen"}]},showLessons:[1],showEvents:[1],historyFields:[{key:"createdLog",label:"Kiedy",sortable:!0},{key:"user",label:"Kto",sortable:!0},{key:"method",label:"Rodzaj akcji",sortable:!0},{key:"object",label:"Gdzie",sortable:!0},{key:"school",label:"szkoła / klub",sortable:!0},{key:"changes",label:"Zmiana",sortable:!0},{key:"id",label:"id",sortable:!0}],historyData:[{id:1,name:"Admin",date:"11/10/19",changes:'Nazwa Kłubu "Lead" -> "Moc"'},{id:2,name:"Kłub",date:"10/10/19",changes:"Test"},{id:3,name:"Prowadzący",date:"10/10/19",changes:"Test"}]}},computed:{schoolsAndClubsPrepared:function(){var e=this.$store.getters.schools,t=[];for(var s in e)this.selectedType.length>0&&!this.selectedType.includes(e[s].type)||t.push({id:e[s].id,label:e[s].name});return t}},watch:{currentPage:function(e){this.filter(e)},selectedType:function(e){this.lessons.schoolsAndClubs=null}},methods:{sortingChanged:function(e){console.log(e)},hideModal:function(){this.$refs.modalChanges.hide()},showChanges:function(e){this.parsedChanges=JSON.parse(e),this.$refs.modalChanges.show()},getMethodName:function(e){var t=this.actionsBE.find(function(t){return t.val===e});return void 0===t?"":t.label},filter:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={selectedYearFrom:this.selectedYearFrom,selectedYearTo:this.selectedYearTo,selectedAction:this.selectedAction,schoolsAndClubs:this.lessons.schoolsAndClubs};this.$store.dispatch("getLogs",{filters:a,currentPage:t,perPage:this.perPage}).then(function(t){e.filterResponse(t,s)})},filterResponse:function(e,t){this.historyData=e.data,this.totalRows=e.totalCount,t&&(this.currentPage=1)}},created:function(){var e=this;this.$store.dispatch("getSchools",{}),this.$store.dispatch("getLogs",{currentPage:this.currentPage,perPage:this.perPage}).then(function(t){e.filterResponse(t)}),this.changeAdminNavbarButton({buttonLink:!1}),this.changeAdminNavbarBreadcrumbs([{text:"Logi",active:!0}])}},Wi={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("h4",[e._v("Zakres")]),e._v(" "),s("b-row",{},[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("b-row",{staticClass:"my-2"},[s("b-col",{attrs:{cols:"5"}},[s("date-picker",{key:"history.from",staticClass:"w-100 custom mb-3",class:{"error-input-custom":e.veeErrors.has("history.from")},attrs:{lang:e.datepickerParams.lang,name:"history.from",id:"inputDatapicFrom",placeholder:""},model:{value:e.selectedYearFrom,callback:function(t){e.selectedYearFrom=t},expression:"selectedYearFrom"}})],1),e._v(" "),s("b-col",{attrs:{cols:"2"}},[s("hr",{staticClass:"mt-4"})]),e._v(" "),s("b-col",{attrs:{cols:"5"}},[s("date-picker",{key:"history.to",staticClass:"w-100 custom mb-3",class:{"error-input-custom":e.veeErrors.has("history.to")},attrs:{lang:e.datepickerParams.lang,name:"history.to",id:"inputDatapicTo",placeholder:""},model:{value:e.selectedYearTo,callback:function(t){e.selectedYearTo=t},expression:"selectedYearTo"}})],1)],1)],1),e._v(" "),s("b-col",{staticClass:"my-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!1,placeholder:"Rodzaj akcji",options:e.actions},model:{value:e.selectedAction,callback:function(t){e.selectedAction=t},expression:"selectedAction"}})],1)],1),e._v(" "),s("b-row",{staticClass:"align-items-center mb-2"},[s("b-col",[s("b-form-group",{staticClass:"custom"},[s("b-form-checkbox-group",{attrs:{id:"checkbox-group-type",options:e.typeOptions,name:"checkbox-group-type"},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1)],1),e._v(" "),s("b-col",[s("treeselect",{key:"sportObject.schools",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("sportObject.schools")},attrs:{multiple:!0,searchable:!1,placeholder:"Kto wprowadził zmianę",options:e.schoolsAndClubsPrepared,name:"sportObject.schools"},model:{value:e.lessons.schoolsAndClubs,callback:function(t){e.$set(e.lessons,"schoolsAndClubs",t)},expression:"lessons.schoolsAndClubs"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-row",{staticClass:"justify-content-end"},[s("b-btn",{staticClass:"mr-3",attrs:{variant:"primary"},on:{click:function(t){return e.filter(1,!0)}}},[e._v("Filtruj")])],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("h4",[e._v("Wyniki")]),e._v(" "),s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm","aria-controls":"history-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),e._v(" "),s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("b-table",{staticClass:"custom table-responsive",attrs:{id:"history-table",items:e.historyData,fields:e.historyFields,"per-page":e.perPage,striped:"","sort-icon-left":"",responsive:"md"},on:{"sort-changed":e.sortingChanged},scopedSlots:e._u([{key:"user",fn:function(t){return[t.item.user?s("span",[e._v(e._s(t.item.user.firstName)+" "+e._s(t.item.user.lastName))]):e._e(),e._v(" "),s("br"),e._v(" "),t.item.user?s("span",[e._v(e._s(t.item.user.email))]):e._e()]}},{key:"method",fn:function(t){return[t.item?s("span",[e._v(e._s(e.getMethodName(t.item.method)))]):e._e()]}},{key:"school",fn:function(t){return[t.item.school?s("span",[e._v(e._s(t.item.school.name))]):e._e()]}},{key:"changes",fn:function(t){return[s("span",{directives:[{name:"show",rawName:"v-show",value:"DELETE"!==t.item.method,expression:"scope.item.method !== 'DELETE'"}],staticClass:"c-pointer",on:{click:function(s){return e.showChanges(t.item.changes)}}},[e._v("Szczegóły")])]}}])})],1)],1)],1)],1),e._v(" "),s("b-modal",{ref:"modalChanges",attrs:{"modal-class":"custom",centered:"",size:"md","hide-footer":!0,"footer-class":"justify-content-between","title-tag":"h2","header-class":"pr-4 pb-0"}},[s("template",{slot:"modal-title"},[e._v("\n      Dane po zmianie\n    ")]),e._v(" "),s("div",{staticClass:"d-flex",attrs:{slot:"default"},slot:"default"},[s("b-row",[s("ul",{staticClass:"d-block"},e._l(e.parsedChanges,function(t,a,i){return s("li",{key:i},[e._v("\n            "+e._s(a)+": "+e._s(t)+"\n          ")])}),0)])],1)],2)],1)},staticRenderFns:[]};var Hi=s("VU/8")(Ki,Wi,!1,function(e){s("K2AU")},"data-v-31bdbeba",null).exports,Ji={name:"FormMainData",props:["leader"],components:{Treeselect:r.a},mixins:[F,ft],data:function(){return{selectedDisciplinesIds:[],confirmPassword:""}},watch:{"leader.disciplines":{handler:function(e){for(var t in this.selectedDisciplinesIds=[],e)e[t]&&e[t].id&&-1===this.selectedDisciplinesIds.indexOf(e[t].id)&&this.selectedDisciplinesIds.push(e[t].id)},deep:!0}},computed:{disciplines:function(){return this.$store.getters.disciplines},disciplinesTreeselect:function(){var e=this.disciplines,t=[];for(var s in e)-1===this.selectedDisciplinesIds.indexOf(e[s].id)?t.push({id:e[s].id,label:e[s].title}):t.push({id:e[s].id,label:e[s].title,isDisabled:!0});return t}},methods:{addDiscipline:function(){this.$parent.addDiscipline()},removeDiscipline:function(e){this.$parent.removeDiscipline(e)},submit:function(e){var t=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(this.confirmPassword.length>0||this.leader.password.length>0||this.leader.newPassword.length>0)&&!this.checkPassword()||(s?this.preSubmit().then(function(s){s?(t.loading=!1,t.leader.confirmed=e,t.$parent.submit()):t.loading=!1}):(this.leader.confirmed=e,this.$parent.submit()))},checkPassword:function(){return this.confirmPassword!==this.leader.newPassword?(this.showToast("Hasła nie są identyczne","Uwaga","danger"),!1):!(this.leader.newPassword.length<6)||(this.showToast("Hasło nie może być mniej niż 6 znaków","Uwaga","danger"),!1)}},created:function(){for(var e in this.changeAdminNavbarButton({buttonLink:!1}),this.leader.disciplines)this.leader.disciplines[e]&&this.leader.disciplines[e].id&&-1===this.selectedDisciplinesIds.indexOf(this.leader.disciplines[e].id)&&this.selectedDisciplinesIds.push(this.leader.disciplines[e].id)}},Qi={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("h5",[e._v("Aktywuj")]),e._v(" "),s("b-form-group",e._l([{title:"Tak",value:!0},{title:"Nie",value:!1}],function(t,a){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"leader.active1"+a,staticClass:"d-inline-block my-3 mr-3",class:{"error-input-custom":e.veeErrors.has("leader.active1")},attrs:{value:t.value,name:"leader.active1"},model:{value:e.leader.active,callback:function(t){e.$set(e.leader,"active",t)},expression:"leader.active"}},[e._v("\n          "+e._s(t.title)+"\n        ")])}),1),e._v(" "),s("h5",{staticClass:"mb-3"},[e._v("Dane ogólne")]),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"leader.firstName",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("leader.firstName")},attrs:{id:"name-1",placeholder:"Imię",name:"leader.firstName"},model:{value:e.leader.firstName,callback:function(t){e.$set(e.leader,"firstName",t)},expression:"leader.firstName"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"leader.lastName",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("leader.lastName")},attrs:{id:"surname-1",placeholder:"Nazwisko",name:"leader.lastName"},model:{value:e.leader.lastName,callback:function(t){e.$set(e.leader,"lastName",t)},expression:"leader.lastName"}})],1),e._v(" "),s("h5",{staticClass:"my-3"},[e._v("Dyscipliny")]),e._v(" "),e._l(e.leader.disciplines,function(t,a){return e.leader.disciplines?s("div",{key:a,staticClass:"row"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"text-center _custom-css"},[s("p",{staticClass:"m-auto"},[e._v(e._s(a+1))])]),e._v(" "),e.leader.disciplines.length>0?s("p",{on:{click:function(t){return e.removeDiscipline(a)}}},[e._v("usuń")]):e._e()]),e._v(" "),s("div",{staticClass:"col-10"},[e.leader.disciplines[a]?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"leader.discipline"+a,staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("leader.discipline"+a)},attrs:{multiple:!1,name:"leader.discipline"+a,placeholder:"Dyscyplina",options:e.disciplinesTreeselect},model:{value:e.leader.disciplines[a].id,callback:function(t){e.$set(e.leader.disciplines[a],"id",t)},expression:"leader.disciplines[index].id"}}):e._e()],1)]):e._e()}),e._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"text-center _custom-css"},[s("p",{staticClass:"m-auto"},[e._v(e._s(e.leader.disciplines.length+1))])])]),e._v(" "),s("div",{staticClass:"col-10"},[s("b-btn",{staticClass:"w-50",attrs:{variant:"primary",block:""},on:{click:e.addDiscipline}},[e._v("+ Dodaj")])],1)]),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,email:!0},expression:"{'required':true, 'email': true}"}],key:"leader.email",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("leader.email")},attrs:{id:"email-1",placeholder:"E-mail",name:"leader.email"},model:{value:e.leader.email,callback:function(t){e.$set(e.leader,"email",t)},expression:"leader.email"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"leader.phone",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("leader.phone")},attrs:{id:"phone-1",placeholder:"Telefon",type:"number",name:"leader.phone"},model:{value:e.leader.phone,callback:function(t){e.$set(e.leader,"phone",t)},expression:"leader.phone"}})],1),e._v(" "),void 0!==e.id?s("div",{staticClass:"mt-5"},[s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:void 0===e.leader.id},expression:"{'required': leader.id === undefined}"}],key:"leader.password",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("leader.password")},attrs:{id:"password-1",placeholder:"Stare hasło (zostaw pustym jeśli nie chcesz zmieniać)",type:"password",name:"leader.password"},model:{value:e.leader.password,callback:function(t){e.$set(e.leader,"password",t)},expression:"leader.password"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:void 0===e.leader.id},expression:"{'required': leader.id === undefined}"}],key:"leader.newPassword",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("leader.newPassword")},attrs:{id:"password-1",placeholder:"Nowe hasło (zostaw pustym jeśli nie chcesz zmieniać)",type:"password",name:"leader.newPassword"},model:{value:e.leader.newPassword,callback:function(t){e.$set(e.leader,"newPassword",t)},expression:"leader.newPassword"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:void 0===e.leader.id},expression:"{'required': leader.id === undefined}"}],key:"confirmPassword",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("leader.confirmPassword")},attrs:{id:"password-1",placeholder:"Powtórz nowe hasło (zostaw pustym jeśli nie chcesz zmieniać)",type:"password",name:"confirmPassword"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1):e._e(),e._v(" "),e.$store.getters.isAdmin?s("b-row",{staticClass:"mt-4"},[s("b-col",[s("b-btn",{staticClass:"custom mt-3",attrs:{variant:"delete",disabled:void 0===e.leader.id},on:{click:function(t){return e.deleteFromForm("deleteLeader",e.leader.id,void 0,"leaders",{tab:"confirmed"})}}},[e._v("\n            Usuń\n          ")])],1),e._v(" "),s("b-col",[s("b-link",{staticClass:"custom btn mt-3",attrs:{block:"",to:{name:"leaders",params:{tab:"confirmed"}}}},[e._v("\n            Anuluj\n          ")])],1),e._v(" "),s("b-col",[s("b-btn",{staticClass:"custom mt-3",attrs:{block:""},on:{click:function(t){return e.submit(e.leader.confirmed,!0)}}},[e._v("\n            Zapisz\n          ")])],1),e._v(" "),s("b-col",[e.leader.confirmed?s("b-btn",{staticClass:"mt-3 custom",attrs:{block:"",variant:"primary"},on:{click:function(t){return e.submit(0)}}},[e._v("\n            Odtwierdz\n          ")]):s("b-btn",{staticClass:"mt-3 custom",attrs:{block:"",variant:"primary"},on:{click:function(t){return e.submit(1,!0)}}},[e._v("\n            Zatwierdź\n          ")])],1)],1):e._e()],2)],1)},staticRenderFns:[]};var Xi=s("VU/8")(Ji,Qi,!1,function(e){s("SlFI")},"data-v-2b088d85",null).exports,en={name:"FormMainData",props:["leader","schoolIds"],components:{Treeselect:r.a},mixins:[F,ft],data:function(){return{isPlacesAreAnArray:!1,selectedSchoolsIds:[],selectedPermissions:{},permissionsData:c.i}},computed:{isAdmin:function(){return this.$store.getters.isAdmin},isDirector:function(){return this.$store.getters.isDirector},permissions:{get:function(){return console.log("get computed permissions"),this.checkUniqSchools(this.$store.getters.permissions),this.$store.getters.permissions},set:function(e){console.log(e),this.$store.dispatch("setPermissions",e)}},schools:function(){return this.$store.getters.schools},sportObjects:function(){return this.$store.getters.sportObjects},schoolsTreeselect:function(){var e=this.schools,t=[];for(var s in console.log(e),e)this.schoolIds.includes(e[s].id)&&(-1===this.selectedSchoolsIds.indexOf(e[s].id)?t.push({id:e[s].id,label:e[s].name}):t.push({id:e[s].id,label:e[s].name,isDisabled:!0}));return t},sportObjectsTreeselect:function(){var e=this;return function(t){var s=e.sportObjects,a=[];for(var i in s)parseInt(s[i].school.id)===parseInt(t)&&a.push({id:s[i].id,label:s[i].title});return a}}},methods:{setAllPermissions:function(e){},checkAccessToAdd:function(e){if(this.isAdmin)return!0;if(this.isDirector){var t=this.$store.getters.authUser;if(void 0===t||null===t||!1===t||t.schoolsUsers.length<1)return!1;if(e&&e.length<1)return!0;if(void 0===e.find(function(e){return-1===e.id}))return!0}return!1},checkAccess:function(e){if(console.log(e),console.log(this.isAdmin),console.log(this.isDirector),-1===e.id)return!0;if(this.isAdmin)return!0;if(this.isDirector){var t=this.$store.getters.authUser;return console.log(t),void 0===t||null===t||!1===t||t.schoolsUsers.length<1?!1:void 0!==t.schoolsUsers.find(function(t){return t.school.id===e.schoolUser.school.id})}return!1},clearPermissionsSelected:function(e){[2,3,4,6,8].includes(e.id)||(e.selected=[])},permissionOptions:function(e){return[2,3,4].includes(e)?[{text:"tworzy",value:"2"},{text:"zmienia",value:"3"}]:6===parseInt(e)&&[{text:"tworzy",value:"2"},{text:"zmienia",value:"3"}]},permissionsDataTreeselect:function(e){var t=this.permissionsData,s=[];for(var a in t)-1===this.selectedPermissions[e].indexOf(t[a].id)?s.push({id:t[a].id,label:t[a].label}):s.push({id:t[a].id,label:t[a].label,isDisabled:!0});return s},checkUniqSchools:function(e){for(var t in console.log(e),this.selectedSchoolsIds=[],e)for(var s in-1===this.selectedSchoolsIds.indexOf(e[t].schoolUser.school.id)&&this.selectedSchoolsIds.push(e[t].schoolUser.school.id),this.selectedPermissions[t]=[],e[t].permissions)this.clearPermissionsSelected(e[t].permissions[s]),this.selectedPermissions[t].push(e[t].permissions[s].id)},addDiscipline:function(){this.$parent.addDiscipline()},removeDiscipline:function(e){this.$parent.removeDiscipline(e)},submit:function(){var e=this;this.preSubmit().then(function(t){if(t){var s=JSON.parse(pt()(e.permissions));for(var a in s){var i=pt()(s[a].permissions);console.log(i),s[a].permissions=i}e.$store.dispatch("putPermissions",{id:e.leader.id,permissions:s}).then(function(t){e.showToast("Dane zostały zapisane","Uwaga","success")}),e.loading=!1}else e.loading=!1})}},created:function(){this.changeAdminNavbarButton({buttonLink:!1}),this.$store.dispatch("getSchools"),this.$store.dispatch("getSportObjects",{confirmed:0}),this.$store.dispatch("getSportObjects",{confirmed:1})}},tn={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[e._l(e.permissions,function(t,a){return e.permissions?s("div",{key:a,staticClass:"row mt-2"},[e.checkAccess(t)?s("div",{staticClass:"col-2"},[s("div",{staticClass:"text-center _custom-css"},[s("p",{staticClass:"m-auto"},[e._v(e._s(e.isAdmin?a+1:1))])]),e._v(" "),e.permissions.length>0?[e.permissions[a].id<0?s("p",{on:{click:function(t){return e.$store.dispatch("deletePermission",{id:e.permissions[a].id})}}},[e._v("usuń")]):s("p",{on:{click:function(t){return e.deleteFromForm("deletePermission",e.permissions[a].id)}}},[e._v("usuń")])]:e._e()],2):e._e(),e._v(" "),e.checkAccess(t)?s("div",{staticClass:"col-10"},[s("h5",{staticClass:"mb-3"},[e._v("Dane ogólne")]),e._v(" "),e.permissions[a].schoolUser.school?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"leader.schoolPermissions.school"+a,staticClass:"custom mb-3",class:{"error-input-custom":e.veeErrors.has("leader.schoolPermissions.school"+a)},attrs:{multiple:!1,name:"leader.schoolPermissions.school"+a,placeholder:"Kłub / szkoła",options:e.schoolsTreeselect},on:{input:function(t){e.permissions[a].places=[]}},model:{value:e.permissions[a].schoolUser.school.id,callback:function(t){e.$set(e.permissions[a].schoolUser.school,"id",t)},expression:"permissions[index].schoolUser.school.id"}}):e._e(),e._v(" "),s("h5",{staticClass:"my-4"},[e._v("Status")]),e._v(" "),s("b-form-group",e._l([{title:"Tak",value:!0},{title:"Nie",value:!1}],function(t,i){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participant.active"+i+"_"+a,staticClass:"d-inline-block mr-3",class:{"error-input-custom":e.veeErrors.has("participant.active"+i+"_"+a)},attrs:{value:t.value,name:"participant.active"+i+"_"+a},model:{value:e.permissions[a].status,callback:function(t){e.$set(e.permissions[a],"status",t)},expression:"permissions[index].status"}},[e._v("\n              "+e._s(t.title)+"\n            ")])}),1),e._v(" "),s("h5",{staticClass:"my-4"},[e._v("Uprawnienia")]),e._v(" "),e._l(e.permissions[a].permissions,function(t,i){return e.permissions[a].permissions?s("div",{key:a+"_"+i,staticClass:"row"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"text-center"},[s("p",{staticClass:"m-auto"},[e._v(e._s(i+1))])]),e._v(" "),e.permissions[a].permissions.length>0?s("p",{staticClass:"_text-delete-left",on:{click:function(t){return e.$store.dispatch("deletePermissionRow",{parentId:e.permissions[a].id,index:i})}}},[e._v("\n                usuń")]):e._e()]),e._v(" "),s("div",{staticClass:"col-10"},[e.permissions[a].permissions[i]?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"permissions.permissions"+a+"_"+i,staticClass:"custom mb-3",class:{"error-input-custom":e.veeErrors.has("permissions.permissions"+a+"_"+i)},attrs:{multiple:!1,name:"permissions.permissions"+a+"_"+i,placeholder:"Dyscyplina",options:e.permissionsDataTreeselect(a)},model:{value:e.permissions[a].permissions[i].id,callback:function(t){e.$set(e.permissions[a].permissions[i],"id",t)},expression:"permissions[index].permissions[permissionIndex].id"}}):e._e(),e._v(" "),e.permissionOptions(e.permissions[a].permissions[i].id)?s("b-form-group",{staticClass:"custom my-3"},[s("b-form-checkbox-group",{attrs:{id:"checkbox-group-type"+a+"_"+i,options:e.permissionOptions(e.permissions[a].permissions[i].id),name:"checkbox-group-type"},model:{value:e.permissions[a].permissions[i].selected,callback:function(t){e.$set(e.permissions[a].permissions[i],"selected",t)},expression:"permissions[index].permissions[permissionIndex].selected"}})],1):e._e()],1)]):e._e()}),e._v(" "),s("div",{staticClass:"row my-2"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"text-center"},[s("p",{staticClass:"m-auto"},[e._v(e._s(e.permissions[a].permissions.length+1))])])]),e._v(" "),s("div",{staticClass:"col-10"},[s("b-btn",{attrs:{variant:"primary",block:""},on:{click:function(t){return e.$store.dispatch("addEmptyPermissionRow",{parentId:e.permissions[a].id})}}},[e._v("+ Dodaj uprawnienie\n              ")])],1)])],2):e._e()]):e._e()}),e._v(" "),e.checkAccessToAdd(e.permissions)?s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col-2"},[e.isAdmin?s("div",{staticClass:"text-center _custom-css"},[s("p",{staticClass:"m-auto"},[e._v(e._s(e.permissions.length+1))])]):e._e()]),e._v(" "),s("div",{staticClass:"col-10"},[s("b-btn",{staticClass:"w-50",attrs:{variant:"primary",block:""},on:{click:function(t){return e.$store.dispatch("addEmptyPermission")}}},[e._v("+ Dodaj obiekt\n          ")])],1)]):e._e(),e._v(" "),s("b-row",{staticClass:"mt-5 col-10 offset-2 p-0"},[s("b-col",[s("b-btn",{staticClass:"custom",attrs:{variant:"delete",disabled:void 0===e.leader.id},on:{click:function(t){return e.deleteFromForm("deleteLeader",e.leader.id,void 0,"sport.objects",{tab:"confirmed"})}}},[e._v("\n            Usuń\n          ")])],1),e._v(" "),s("b-col",[s("b-link",{staticClass:"custom btn",attrs:{block:"",to:{name:"leaders",params:{tab:"confirmed"}}}},[e._v("\n            Anuluj\n          ")])],1),e._v(" "),s("b-col",{staticClass:"p-0"},[s("b-btn",{staticClass:"custom",attrs:{block:""},on:{click:e.submit}},[e._v("\n            Zapisz\n          ")])],1)],1)],2)],1)},staticRenderFns:[]};var sn=s("VU/8")(en,tn,!1,function(e){s("vsZD")},"data-v-24ab8c8e",null).exports,an={name:"FormSportObjects",props:["leader"],components:{LeaderTable:jt,Treeselect:r.a,SportObjectTable:at},mixins:[F],data:function(){return{id:this.$route.params.id,districtValue:null,districts:c.f,search:""}},computed:L()({},Object(I.c)(["leaders","disciplines","sportObjects"]),{leadersTreeselect:function(){var e=[];for(var t in this.leaders)e.push({id:this.leaders[t].id,label:this.leaders[t].email});return e},disciplinesTreeselect:function(){var e=[];for(var t in this.disciplines)e.push({id:this.disciplines[t].id,label:this.disciplines[t].title});return e},sportObjectsTreeselect:function(){var e=[];for(var t in this.sportObjects)e.push({id:this.sportObjects[t].id,label:this.sportObjects[t].title});return e},leadersIdsToPass:function(){var e=this.school.schoolsUsers||[],t=[];for(var s in e)0===parseInt(e[s].role)&&1===parseInt(e[s].user.role)&&t.push(e[s].user.id);return this.selectedLeaders=[].concat(t),t}}),methods:{getStatusPersonInSchool:function(e){return this.school.schoolsUsers.find(function(t){return parseInt(t.user.id)===parseInt(e.id)}).status},openLeadersModal:function(){this.$refs.leaderModal&&this.$refs.leaderModal.show()},submit:function(){var e=this,t={id:this.$route.params.id,leaders:this.selectedLeaders};console.log(t),this.$store.dispatch("putSchool",t).then(function(t){e.$parent.updateSchool()}),this.$refs.leaderModal.hide()}},created:function(){this.$store.dispatch("getDisciplines"),this.$store.dispatch("getSportObjects")}},nn={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrap"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"8"}},[s("b-row",{staticClass:"align-items-center mb-3"},[s("b-col",{attrs:{cols:"6"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Dzielnica",options:e.districts},model:{value:e.districtValue,callback:function(t){e.districtValue=t},expression:"districtValue"}})],1),e._v(" "),s("b-col",{attrs:{cols:"6"}},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"input-1",placeholder:"Szukaj"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1)],1),e._v(" "),s("SportObjectTable",{directives:[{name:"show",rawName:"v-show",value:"sport-objects"===e.$route.params.tab,expression:"$route.params.tab === 'sport-objects'"}],key:e.$route.params.tab+"SportObjects",ref:"SportObjects",attrs:{filters:{districtValue:e.districtValue,search:e.search},leader:e.leader,"is-confirmed":"all",fieldsParams:[{key:"schoolOrClub",label:"Nazwa Klubu/Szkoły",toInsert:!0},{key:"lessons",label:"Zajęcia",toInsert:!0},{key:"status",label:"Status w systemie",sortable:!0,toInsert:!0}]},on:{childSubmit:e.submit}})],1)},staticRenderFns:[]};var on=s("VU/8")(an,nn,!1,function(e){s("/NQd")},"data-v-a1a469b6",null).exports,rn={name:"FormParticipantGroups",components:{ParticipantGroups:ut},props:["leader","schoolIds"],created:function(){console.log(this.leader),console.log(this.schoolIds)}},cn={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("ParticipantGroups",{attrs:{schoolIds:this.schoolIds}})],1)},staticRenderFns:[]};var ln=s("VU/8")(rn,cn,!1,function(e){s("nFPC")},"data-v-9dbd4ea0",null).exports,un={name:"FormParticipants",components:{ParticipantList:Mt},props:["leader","schoolIds"],created:function(){console.log(this.leader),console.log(this.schoolIds)}},dn={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("ParticipantList",{attrs:{schoolIds:this.schoolIds}})],1)},staticRenderFns:[]};var pn={name:"FormParticipants",components:{lessonList:_s},props:["leader","schoolIds"],created:function(){console.log(this.leader),console.log(this.schoolIds)}},mn={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("lessonList",{attrs:{leader:this.leader}})],1)},staticRenderFns:[]};var hn={name:"LeaderForm",components:{TabLinks:$e,FormParticipants:s("VU/8")(un,dn,!1,function(e){s("9pmV")},"data-v-953a5f90",null).exports,FormLessons:s("VU/8")(pn,mn,!1,function(e){s("hoh3")},"data-v-55a12433",null).exports,FormMainData:Xi,FormPermissions:sn,FormSportObjects:on,FormParticipantGroups:ln},mixins:[F,ft,Tt],data:function(){return{tabLinks:[],leader:{id:this.id,role:1,active:!0,confirmed:!0,firstName:"",lastName:"",email:"",password:"",newPassword:"",phone:"",disciplines:[]},schoolIds:[]}},computed:{},watch:{leader:function(e){if(console.log(e),e.id){var t=[];t=void 0===this.$route.params.schoolName||null===this.$route.params.schoolName?[{text:"Prowadzący",to:{name:"leaders",params:{tab:"confirmed"}}},{text:this.leader.firstName+" "+this.leader.lastName,active:!0}]:[{text:this.$route.params.schoolName,to:{name:"school.or.club",params:{tab:"leaders",id:this.$route.params.schoolId}}},{text:this.id?this.leader.firstName+" "+this.leader.lastName:"Nowy",active:!0}],this.changeAdminNavbarBreadcrumbs(t)}}},methods:{prepareToSubmit:function(e){var t=e.disciplines,s=[];for(var a in t)s.push(t[a].id);e.disciplines=s},submit:function(){var e=this,t=L()({},this.leader);this.prepareToSubmit(t),console.log(t);var s=void 0===this.id?"postLeader":"putLeader";this.$store.dispatch(s,t).then(function(){e.postSubmitRedirect("leaders")}).catch(function(t){e.postSubmitError(t)})},addDiscipline:function(){this.leader.disciplines.push({})},removeDiscipline:function(e){this.leader.disciplines.splice(e,1)},prepareLeader:function(e){var t=[];for(var s in e.schoolsUsers)t.push(e.schoolsUsers[s].school.id);this.schoolIds=t,this.leader=e,this.leader.password="",this.leader.newPassword="",console.log(this.leader)}},created:function(){var e=this;this.leader=ht()(this.leader,this.$store.getters.leader(this.id,this.isConfirmed)),void 0===this.$route.params.tab&&this.$router.push({name:"leader",params:{tab:"main-data"}}),this.$route.params.isConfirmed&&(this.isConfirmed=this.$route.params.isConfirmed),this.id&&this.$store.dispatch("getLeader",{id:this.id}).then(function(t){e.prepareLeader(t),console.log(t),e.$store.dispatch("getPermissionsByIds",!!Array.isArray(t.schoolsUsers)&&t.schoolsUsers.map(function(e){if(e.permission&&e.permission.hasOwnProperty("id"))return e.permission.id})),e.tabLinks=[{title:"Dane ogólne",link:"leader",tab:"main-data"},{title:"Uprawnienia",link:"leader",tab:"permissions"},{title:"Lista Zawodników",link:"leader",tab:"participant-list"},{title:"Zawodnicy",link:"leader",tab:"participants"},{title:"Zajęcia",link:"leader",tab:"lessons"}]}),this.$store.dispatch("getDisciplines"),this.changeAdminNavbarButton({buttonLink:!1});var t=[];t=void 0===this.$route.params.schoolName||null===this.$route.params.schoolName?[{text:"Prowadzący",to:{name:"leaders",params:{tab:"confirmed"}}},{text:this.id?this.leader.firstName+" "+this.leader.lastName:"Nowy",active:!0}]:[{text:this.$route.params.schoolName,to:{name:"school.or.club",params:{tab:"leaders",id:this.$route.params.schoolId}}},{text:this.id?this.leader.firstName+" "+this.leader.lastName:"Nowy",active:!0}],this.changeAdminNavbarBreadcrumbs(t)},destroyed:function(){this.$store.dispatch("clearPermissions")}},fn={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[void 0!==e.$route.params.id?s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("TabLinks",{attrs:{links:e.tabLinks}})],1)],1):e._e(),e._v(" "),["main-data"===e.$route.params.tab?s("FormMainData",{key:e.$route.params.tab+"FormMainData",ref:"FormMainData",attrs:{leader:e.leader},on:{childSubmit:e.submit}}):e._e(),e._v(" "),"permissions"===e.$route.params.tab?s("form-permissions",{key:e.$route.params.tab+"Permissions",ref:"Permissions",attrs:{leader:e.leader,schoolIds:e.schoolIds},on:{childSubmit:e.submit}}):e._e(),e._v(" "),"participant-list"===e.$route.params.tab?s("FormParticipantGroups",{key:e.$route.params.tab+"ParticipantList",ref:"ParticipantList",attrs:{leader:e.leader,schoolIds:e.schoolIds},on:{childSubmit:e.submit}}):e._e(),e._v(" "),"participants"===e.$route.params.tab?s("FormParticipants",{key:e.$route.params.tab+"Participants",ref:"Participants",attrs:{leader:e.leader,schoolIds:e.schoolIds},on:{childSubmit:e.submit}}):e._e(),e._v(" "),"lessons"===e.$route.params.tab?s("FormLessons",{key:e.$route.params.tab+"Lessons",ref:"Lessons",attrs:{leader:e.leader,schoolIds:e.schoolIds},on:{childSubmit:e.submit}}):e._e()]],2)},staticRenderFns:[]};var vn=s("VU/8")(hn,fn,!1,function(e){s("HeY8")},"data-v-4d45acb2",null).exports,bn={name:"FormParticipantGroups",components:{ParticipantGroups:ut},props:["participant"],created:function(){}},gn={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("ParticipantGroups",{attrs:{participant:this.participant}})],1)},staticRenderFns:[]};var yn=s("VU/8")(bn,gn,!1,function(e){s("xUv0")},"data-v-cdf618fa",null).exports,_n={name:"FormLessons",components:{lessonList:_s},props:["participant"],created:function(){}},kn={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("lessonList",{attrs:{participant:this.participant}})],1)},staticRenderFns:[]};var Cn=s("VU/8")(_n,kn,!1,function(e){s("NPHr")},"data-v-edb0323e",null).exports,wn={name:"FormMTSF",props:["participant"],components:{Treeselect:r.a,DatePicker:Qt.a},mixins:[F,ft],data:function(){return{generateExcel:!0,generatePdf:!0,selectedType:"Mtsf",datepickerParams:c.e,searchText:"",selectedSeasons:null,selectedDate:null,mtsf:{season:{id:null},birthday:null,height:null,weight:null,bieg50m:null,skokDalZMiejsca:null,biegDlugaDystancja:null,silaDloni:null,zwisNaUgietychRekach:null,bieg4x10:null,siadyZLezenia:null,sklonTulowia:null,finalDate:null,index:null},points:{},fields:[{key:"firstName",label:"Imię",sortable:!0},{key:"lastName",label:"Nazwisko",sortable:!0},{key:"sex",label:"Płec",sortable:!0},{key:"enterDate",label:"Data wpisu",sortable:!0},{key:"removeDate",label:"Data wypisania",sortable:!0},{key:"season",label:"Sezon",sortable:!0},{key:"finalDate",label:"Data obliczenia",sortable:!0},{key:"totalPoints",label:"Punkty",sortable:!0},{key:"edit",label:"Zobacz"}]}},computed:{participantMtsfs:function(){var e=this.$store.getters.mtsfList,t=[];for(var s in console.log(this.searchText),e){var a=" "+(e[s].participant.firstName?e[s].participant.firstName.toLowerCase()+" ":"")+(e[s].participant.lastName?e[s].participant.lastName.toLowerCase()+" ":"")+(e[s].participant.enterDate?e[s].participant.enterDate.toLowerCase()+" ":"")+(e[s].participant.removeDate?e[s].participant.removeDate.toLowerCase()+" ":"")+(e[s].finalDate?e[s].finalDate.toLowerCase()+" ":"");this.searchText.length>0&&-1===a.indexOf(this.searchText.toLowerCase())||(this.selectedSeasons&&this.selectedSeasons.length>0&&!this.selectedSeasons.includes(e[s].season.id)||t.push(e[s]))}return t},seasonsTreeselect:function(){var e=this.$store.getters.seasons,t=[];for(var s in e)t.push({id:e[s].id,label:e[s].title});return t},seasonsForFormTreeselect:function(){var e=this.$store.getters.seasons,t=[],s=this.participantMtsfs||[],a=function(a){var i=s.filter(function(t){return t.season.id==e[a].id});i&&i.length>1?t.push({id:e[a].id,label:e[a].title,isDisabled:!0}):t.push({id:e[a].id,label:e[a].title})};for(var i in e)a(i);return t}},watch:{searchText:function(e){this.changeAdminNavbarButtonWithParams()},selectedSeasons:function(e){this.changeAdminNavbarButtonWithParams()}},methods:{changeAdminNavbarButtonWithParams:function(){this.changeAdminNavbarButton({eventBusMethod:"OPEN_MTSF_MODAL",generateExcel:this.generateExcel,generatePdf:this.generatePdf,generationParams:{type:this.selectedType,filters:{searchText:this.searchText,selectedSeasons:this.selectedSeasons,participant:this.id},results:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]}})},checkPoints:function(e){return 0===$t()(this.points).length?"":"Punkty: "+this.points[e]},resetModal:function(){this.mtsf={season:{id:null},birthday:null,height:null,weight:null,bieg50m:null,skokDalZMiejsca:null,biegDlugaDystancja:null,silaDloni:null,zwisNaUgietychRekach:null,bieg4x10:null,siadyZLezenia:null,sklonTulowia:null,finalDate:null,index:null},this.points={}},checkPunkts:function(){var e=this,t=this.mtsf;t.participant={id:this.id},console.log(t),this.$store.dispatch("checkMtsfPoints",{data:{actionType:"checkMtsfPoints",mtsf:t}}).then(function(t){e.points=L()({},t)}).catch(function(t){e.showToast(t.data.error,"Uwaga","danger")})},submit:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.mtsf.finalDate=!0);var t=void 0,s=void 0;this.mtsf.id?(t="putMtsf",s=this.mtsf.id):(t="postMtsf",s=this.id),this.$store.dispatch(t,{id:s,data:this.mtsf}).then(function(t){e.$refs.modalMTSF.hide()}).catch(function(t){console.log(t),e.showToast(t.data.error,"Uwaga","danger"),e.$refs.modalMTSF.hide()})},openMTSFModal:function(e){if(e){var t=this.$store.getters.mtsf(e);t&&(this.mtsf=JSON.parse(pt()(t)))}this.$refs.modalMTSF&&this.$refs.modalMTSF.show()}},created:function(){var e=this;z.a.$on("OPEN_MTSF_MODAL",function(t){e.openMTSFModal()}),this.changeAdminNavbarButtonWithParams(),this.$store.dispatch("getMtsfList",{participantId:this.id}),this.$store.dispatch("getSeasons")}},xn={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrap"},[s("b-row",[s("b-col",[s("b-row",[s("b-col",[s("b-form-group",{staticClass:"custom"},[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"season",staticClass:"custom m-0",attrs:{multiple:!0,placeholder:"Sezon",options:e.seasonsTreeselect,name:"season"},model:{value:e.selectedSeasons,callback:function(t){e.selectedSeasons=t},expression:"selectedSeasons"}})],1)],1),e._v(" "),s("b-col",[s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"searchText",staticClass:"custom m-0",attrs:{id:"title-1",placeholder:"Szukaj po imieniu oraz nazwisku",name:"searchText"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1)],1)],1),e._v(" "),s("b-table",{staticClass:"custom table-responsive",attrs:{items:e.participantMtsfs,fields:e.fields,striped:"","sort-icon-left":"",responsive:"md"},scopedSlots:e._u([{key:"firstName",fn:function(t){return[t.item?s("span",[e._v(e._s(t.item.participant.firstName))]):e._e()]}},{key:"lastName",fn:function(t){return[t.item?s("span",[e._v(e._s(t.item.participant.lastName))]):e._e()]}},{key:"sex",fn:function(t){return[t.item?s("span",[e._v(e._s(1===t.item.participant.sex?"Mężczyzna":"Kobieta"))]):e._e()]}},{key:"enterDate",fn:function(t){return[t.item?s("span",[e._v(e._s(t.item.participant.enterDate))]):e._e()]}},{key:"removeDate",fn:function(t){return[t.item?s("span",[e._v(e._s(t.item.participant.removeDate))]):e._e()]}},{key:"season",fn:function(t){return[t.item?s("span",[e._v(e._s(t.item.season.title))]):e._e()]}},{key:"edit",fn:function(t){return[t.item?s("span",{staticClass:"c-pointer",on:{click:function(s){return e.openMTSFModal(t.item.id)}}},[e._v("\n              Więcej info\n            ")]):e._e()]}}])})],1)],1),e._v(" "),s("b-modal",{ref:"modalMTSF",attrs:{"modal-class":"custom",centered:"",size:"sm","hide-footer":!0,"footer-class":"justify-content-between","title-tag":"h2","header-class":"pr-4 pb-0"},on:{hidden:e.resetModal}},[s("template",{slot:"modal-title"},[e._v("\n        "+e._s(e.participant.firstName)+" "+e._s(e.participant.lastName)+"\n      ")]),e._v(" "),s("div",{attrs:{slot:"default"},slot:"default"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom"},[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.season.id",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.season.id")},attrs:{multiple:!1,disabled:!!e.mtsf.id,placeholder:"Sezon",options:e.seasonsForFormTreeselect,name:"mtsf.season.id"},model:{value:e.mtsf.season.id,callback:function(t){e.$set(e.mtsf.season,"id",t)},expression:"mtsf.season.id"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Data urodzenia"}},[s("date-picker",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.birthday",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.birthday")},attrs:{id:"name-1",lang:e.datepickerParams.lang,"value-type":"format",format:"YYYY-MM-DD",name:"mtsf.birthday"},model:{value:e.mtsf.birthday,callback:function(t){e.$set(e.mtsf,"birthday",t)},expression:"mtsf.birthday"}})],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Wzrost (cm)"}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.height",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.height")},attrs:{id:"name-1",name:"mtsf.height"},model:{value:e.mtsf.height,callback:function(t){e.$set(e.mtsf,"height",t)},expression:"mtsf.height"}})],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Waga (kg)"}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.weight",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.weight")},attrs:{id:"name-1",name:"mtsf.weight"},model:{value:e.mtsf.weight,callback:function(t){e.$set(e.mtsf,"weight",t)},expression:"mtsf.weight"}})],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Bieg na 50m (s)"}},[s("b-input-group",{attrs:{append:e.checkPoints("bieg50m")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.bieg50m",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.bieg50m")},attrs:{id:"name-1",name:"mtsf.bieg50m"},model:{value:e.mtsf.bieg50m,callback:function(t){e.$set(e.mtsf,"bieg50m",t)},expression:"mtsf.bieg50m"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Skok dal z miejsca (cm)"}},[s("b-input-group",{attrs:{append:e.checkPoints("skokDalZMiejsca")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.skokDalZMiejsca",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.skokDalZMiejsca")},attrs:{id:"name-1",name:"mtsf.skokDalZMiejsca"},model:{value:e.mtsf.skokDalZMiejsca,callback:function(t){e.$set(e.mtsf,"skokDalZMiejsca",t)},expression:"mtsf.skokDalZMiejsca"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Bieg na 600m (Dzieci 7-11lat) / 800m (Dziewczyny 12-19lat) / 1000 m ( Chłopcy 12-19 lat)"}},[s("b-input-group",{attrs:{append:e.checkPoints("biegDlugaDystancja")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.biegDlugaDystancja",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.biegDlugaDystancja")},attrs:{id:"name-1",name:"mtsf.biegDlugaDystancja"},model:{value:e.mtsf.biegDlugaDystancja,callback:function(t){e.$set(e.mtsf,"biegDlugaDystancja",t)},expression:"mtsf.biegDlugaDystancja"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Siła dłoni (kG)"}},[s("b-input-group",{attrs:{append:e.checkPoints("silaDloni")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.silaDloni",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.silaDloni")},attrs:{id:"name-1",name:"mtsf.silaDloni"},model:{value:e.mtsf.silaDloni,callback:function(t){e.$set(e.mtsf,"silaDloni",t)},expression:"mtsf.silaDloni"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Zwis na ugiętych rękach / Uginanie rąk w zwisie ( Chłopcy 12 -19 lat)"}},[s("b-input-group",{attrs:{append:e.checkPoints("zwisNaUgietychRekach")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.zwisNaUgietychRekach",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.zwisNaUgietychRekach")},attrs:{id:"name-1",name:"mtsf.zwisNaUgietychRekach"},model:{value:e.mtsf.zwisNaUgietychRekach,callback:function(t){e.$set(e.mtsf,"zwisNaUgietychRekach",t)},expression:"mtsf.zwisNaUgietychRekach"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:" mb-2",attrs:{label:"Bieg 4x10m(s)"}},[s("b-input-group",{attrs:{append:e.checkPoints("bieg4x10")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.bieg4x10",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.bieg4x10")},attrs:{id:"name-1",name:"mtsf.bieg4x10"},model:{value:e.mtsf.bieg4x10,callback:function(t){e.$set(e.mtsf,"bieg4x10",t)},expression:"mtsf.bieg4x10"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Siady z leżenia"}},[s("b-input-group",{attrs:{append:e.checkPoints("siadyZLezenia")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.siadyZLezenia",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.siadyZLezenia")},attrs:{id:"name-1",name:"mtsf.siadyZLezenia"},model:{value:e.mtsf.siadyZLezenia,callback:function(t){e.$set(e.mtsf,"siadyZLezenia",t)},expression:"mtsf.siadyZLezenia"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom mb-4",attrs:{label:"Skłon tułowia (cm)"}},[s("b-input-group",{attrs:{append:e.checkPoints("sklonTulowia")}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"mtsf.sklonTulowia",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("mtsf.sklonTulowia")},attrs:{id:"name-1",name:"mtsf.sklonTulowia"},model:{value:e.mtsf.sklonTulowia,callback:function(t){e.$set(e.mtsf,"sklonTulowia",t)},expression:"mtsf.sklonTulowia"}})],1)],1)],1)],1),e._v(" "),void 0===e.mtsf.finalDate||null===e.mtsf.finalDate?s("b-row",{staticClass:"mb-3"},[s("b-col",[s("b-btn",{staticClass:"custom",attrs:{variant:"primary"},on:{click:function(t){return e.submit(!1)}}},[e._v("\n              Zapisz\n            ")])],1),e._v(" "),s("b-col",[s("b-btn",{staticClass:"custom",attrs:{variant:"primary"},on:{click:e.checkPunkts}},[e._v("\n              Zobacz punkty\n            ")])],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-btn",{staticClass:"custom mt-3",attrs:{variant:"primary"},on:{click:function(t){return e.submit(!0)}}},[e._v("\n              Zakończ test\n            ")])],1)],1):e._e()],1)],2)],1)},staticRenderFns:[]};var $n=s("VU/8")(wn,xn,!1,function(e){s("/LEW")},"data-v-51f88848",null).exports,Tn={name:"FormCalendar",props:["participant"],components:{Calendar:O},computed:{storeLessons:function(){return this.$store.getters.lessons}},created:function(){this.$store.dispatch("getLessons",{filters:{participants:[this.participant]}})}},Sn={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrap"},[t("Calendar",{ref:"mainCalendar",attrs:{"split-components":this.participant,lessons:this.storeLessons,showLessons:[1]}})],1)},staticRenderFns:[]};var Pn=s("VU/8")(Tn,Sn,!1,function(e){s("baVP")},"data-v-72a734d5",null).exports,jn={name:"FormMainData",props:["participant","years","participantYearsSelected"],components:{Treeselect:r.a},mixins:[F,ft,Et],data:function(){return{selectedDisciplinesIds:[]}},watch:{"participant.disciplines":{handler:function(e){for(var t in this.selectedDisciplinesIds=[],e)e[t]&&e[t].id&&-1===this.selectedDisciplinesIds.indexOf(e[t].id)&&this.selectedDisciplinesIds.push(e[t].id)},deep:!0}},computed:{disciplines:function(){return this.$store.getters.disciplines},categories:function(){return this.$store.getters.lessonCategories},classes:function(){return this.$store.getters.classes},schools:function(){return this.$store.getters.schools}},methods:{addDiscipline:function(){this.$parent.addDiscipline()},removeDiscipline:function(e){this.$parent.removeDiscipline(e)},submit:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.preSubmit().then(function(t){t?(e.loading=!1,e.$parent.submit()):e.loading=!1}):this.$parent.submit()}},mounted:function(){this.$route.params.validateForm&&this.checkValidForm()},created:function(){for(var e in this.changeAdminNavbarButton({buttonLink:!1}),this.participant.disciplines)this.participant.disciplines[e]&&this.participant.disciplines[e].id&&-1===this.selectedDisciplinesIds.indexOf(this.participant.disciplines[e].id)&&this.selectedDisciplinesIds.push(this.participant.disciplines[e].id);this.$store.dispatch("getParticipants"),this.$store.dispatch("getDisciplines"),this.$store.dispatch("getLessonCategories"),this.$store.dispatch("getClasses"),this.$store.dispatch("getSchools",{})}},Dn={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.participant?s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"mb-2",attrs:{cols:"12",xl:"6",lg:"6",md:"12",sm:"12"}},[s("h5",[e._v("Aktywuj")]),e._v(" "),s("b-form-group",e._l([{title:"Tak",value:!0},{title:"Nie",value:!1}],function(t,a){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participant.active"+a,staticClass:"d-inline-block my-3 mr-3",class:{"error-input-custom":e.veeErrors.has("participant.active")},attrs:{value:t.value,name:"participant.active"},model:{value:e.participant.active,callback:function(t){e.$set(e.participant,"active",t)},expression:"participant.active"}},[e._v("\n          "+e._s(t.title)+"\n        ")])}),1),e._v(" "),s("h2",{staticClass:"mb-4"},[e._v("Płeć")]),e._v(" "),e._l([{title:"mężczyzna",value:1},{title:"kobieta",value:0}],function(t,a){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participant.sex"+a,staticClass:"d-inline-block mr-3 mb-3",class:{"error-input-custom":e.veeErrors.has("participant.sex")},attrs:{value:t.value,name:"participant.sex"},model:{value:e.participant.sex,callback:function(t){e.$set(e.participant,"sex",t)},expression:"participant.sex"}},[e._v("\n        "+e._s(t.title)+"\n      ")])}),e._v(" "),s("h5",{staticClass:"mb-3"},[e._v("Dane ogólne")]),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participant.firstName",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("participant.firstName")},attrs:{id:"name-1",placeholder:"Imię",name:"participant.firstName"},model:{value:e.participant.firstName,callback:function(t){e.$set(e.participant,"firstName",t)},expression:"participant.firstName"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participant.lastName",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("participant.lastName")},attrs:{id:"surname-1",placeholder:"Nazwisko",name:"participant.lastName"},model:{value:e.participant.lastName,callback:function(t){e.$set(e.participant,"lastName",t)},expression:"participant.lastName"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,pesel:!0,numeric:!0},expression:"{'required':true, 'pesel': true, 'numeric': true}"}],key:"participant.pesel",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("participant.pesel")},attrs:{id:"name-1",placeholder:"Pesel",name:"participant.pesel"},model:{value:e.participant.pesel,callback:function(t){e.$set(e.participant,"pesel",t)},expression:"participant.pesel"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participant.year",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("participant.year")},attrs:{multiple:!1,placeholder:"Rocznik",options:e.years,name:"participant.year"},model:{value:e.participant.year,callback:function(t){e.$set(e.participant,"year",t)},expression:"participant.year"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participant.school",staticClass:"custom mb-2",class:{"error-input-custom":e.veeErrors.has("participant.school")},attrs:{disabled:e.participant.id&&null!==e.participant.school.id,multiple:!1,placeholder:"Szkoła / Klub",options:e.schoolsTreeselect,name:"participant.school"},model:{value:e.participant.school.id,callback:function(t){e.$set(e.participant.school,"id",t)},expression:"participant.school.id"}})],1),e._v(" "),s("h5",{staticClass:"my-3"},[e._v("Dyscypliny")]),e._v(" "),e._l(e.participant.disciplines,function(t,a){return e.participant.disciplines?s("div",{key:a,staticClass:"row"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"text-center _custom-css"},[s("p",{staticClass:"m-auto"},[e._v(e._s(a+1))])]),e._v(" "),e.participant.disciplines.length>0?s("p",{on:{click:function(t){return e.removeDiscipline(a)}}},[e._v("usuń")]):e._e()]),e._v(" "),s("div",{staticClass:"col-10"},[e.participant.disciplines[a]?s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"participant.discipline"+a,staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("participant.discipline"+a)},attrs:{multiple:!1,name:"participant.discipline"+a,placeholder:"Dyscyplina",options:e.disciplinesTreeselect},model:{value:e.participant.disciplines[a].id,callback:function(t){e.$set(e.participant.disciplines[a],"id",t)},expression:"participant.disciplines[index].id"}}):e._e()],1)]):e._e()}),e._v(" "),s("div",{staticClass:"row mb-2"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"text-center _custom-css"},[s("p",{staticClass:"m-auto"},[e._v(e._s(e.participant.disciplines.length+1))])])]),e._v(" "),s("div",{staticClass:"col-10"},[s("b-btn",{staticClass:"w-50",attrs:{variant:"primary",blocl:""},on:{click:e.addDiscipline}},[e._v("+ Dodaj")])],1)]),e._v(" "),s("b-row",{staticClass:"mt-4"},[s("b-col",[s("b-btn",{staticClass:"custom btn",attrs:{block:"",to:{name:"participants"}}},[e._v("\n            Anuluj\n          ")])],1),e._v(" "),s("b-col",[s("b-btn",{staticClass:"custom",attrs:{block:"",variant:"primary"},on:{click:function(t){return e.submit(1,!0)}}},[e._v("\n            "+e._s(void 0===e.id?"Dodaj":"Zapisz")+"\n          ")])],1)],1)],2)],1):e._e()},staticRenderFns:[]};var Ln={name:"ParticipantForm",components:{TabLinks:$e,FormMainData:s("VU/8")(jn,Dn,!1,function(e){s("Y/Ny")},"data-v-34d387ba",null).exports,FormParticipantGroups:yn,FormLessons:Cn,FormCalendar:Pn,FormMTSF:$n},mixins:[F,ft],data:function(){return{tabLinks:[{link:"participant",tab:"main-data"}],years:c.j,participant:{id:this.id,active:!0,firstName:"",lastName:"",pesel:"",year:null,sex:1,school:{id:null},disciplines:[]},participantYearsSelected:[],genderOptions:[{text:"kobieta",value:0},{text:"mężczyzna",value:1}],isValidForm:!1}},computed:{isLoading:function(){return this.$store.getters.isLoading}},watch:{isLoading:function(e){e?this.$refs.loadingModal.show():(this.$refs.loadingModal.hide(),this.$bvToast.toast("Ilość wyników przy wygenerowaniu MTSF zależy od uprawnień, które masz w szkołach / klubach lub wybranej filtracji.",{title:"Uwaga!",toaster:"b-toaster-bottom-right",solid:!0,variant:"info",appendToast:!1,autoHideDelay:2e4}))}},methods:{setDataFromExistedParticipant:function(e){var t=e.disciplines||[];for(var s in t)this.participantYearsSelected.push({years:t[s].year})},prepareToSubmit:function(e){var t=e.disciplines||[],s=[];for(var a in t)s.push(t[a].id);e.disciplines=s;var i=e.participantGroups||[],n=[];for(var o in i)n.push(i[o].participantGroup.id);e.participantGroups=n},checkValidMainForm:function(){var e=this;this.$refs.FormMainData.checkValidForm().then(function(t){e.isValidForm=t})},addDiscipline:function(){this.participant.disciplines.push({})},removeDiscipline:function(e){this.participant.disciplines.splice(e,1)},prepareParticipant:function(e){this.participant=e},submit:function(){var e=this,t=L()({},this.participant);this.prepareToSubmit(t),console.log(t);var s=void 0===this.id?"postParticipant":"putParticipant";this.$store.dispatch(s,t).then(function(){e.postSubmitRedirect("participants")}).catch(function(t){e.postSubmitError(t)})}},created:function(){var e=this;void 0===this.$route.params.tab&&this.$router.push({name:"participant",params:{tab:"main-data"}}),this.changeAdminNavbarButton({buttonLink:!1});this.changeAdminNavbarBreadcrumbs([{text:"Zawodnicy",to:{name:"participants"}},{text:"Nowy",active:!0}]),this.id&&this.$store.dispatch("getParticipant",{id:this.id}).then(function(t){e.prepareParticipant(t),e.setDataFromExistedParticipant(t),e.tabLinks=[{title:"Dane ogólne",link:"participant",tab:"main-data"},{title:"Lista Zawodników",link:"participant",tab:"participants-list"},{title:"Zajęcia",link:"participant",tab:"lessons"},{title:"Kalendarz",link:"participant",tab:"calendar"},{title:"MTSF",link:"participant",tab:"mtsf"}];var s=[{text:"Zawodnicy",to:{name:"participants"}},{text:t.firstName+" "+t.lastName,active:!0}];e.changeAdminNavbarBreadcrumbs(s)})}},zn={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[void 0!==e.$route.params.id?s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12"}},[s("TabLinks",{attrs:{links:e.tabLinks}})],1)],1):e._e(),e._v(" "),s("FormMainData",{directives:[{name:"show",rawName:"v-show",value:"main-data"===e.$route.params.tab,expression:"$route.params.tab === 'main-data'"}],key:e.$route.params.tab+"FormMainData",ref:"FormMainData",attrs:{participant:e.participant,years:e.years},on:{childSubmit:e.submit}}),e._v(" "),"participants-list"===e.$route.params.tab?s("FormParticipantGroups",{key:e.$route.params.tab+"ParticipantList",ref:"ParticipantList",attrs:{participant:e.participant}}):e._e(),e._v(" "),"lessons"===e.$route.params.tab?s("FormLessons",{key:e.$route.params.tab+"LessonForm",ref:"LessonForm",attrs:{participant:e.participant}}):e._e(),e._v(" "),e.participant.id&&"calendar"===e.$route.params.tab?s("FormCalendar",{key:e.$route.params.tab+"FormCalendar",ref:"FormCalendar",attrs:{participant:e.participant.id},on:{childSubmit:e.submit}}):e._e(),e._v(" "),e.participant.id&&"mtsf"===e.$route.params.tab?s("FormMTSF",{key:e.$route.params.tab+"FormMTSF",ref:"FormMTSF",attrs:{participant:e.participant},on:{childSubmit:e.submit}}):e._e(),e._v(" "),s("b-modal",{ref:"loadingModal",attrs:{centered:"","hide-header":"","hide-header-close":"","hide-footer":"",size:"lg"}},[s("h3",{staticClass:"text-center"},[e._v("Trwa ladowanie...")])])],1)},staticRenderFns:[]};var Fn=s("VU/8")(Ln,zn,!1,function(e){s("wuEb")},"data-v-363cfe8a",null).exports,In={mixins:[F,ft],name:"CoAdministrator",data:function(){return{admin:{role:2,active:!1,firstName:"",lastName:"",phone:"",email:"",password:"",newPassword:""},confirmPassword:""}},methods:{submit:function(){var e=this;this.$validator.validateScopes().then(function(t){if(!1!==t){var s=void 0===e.id?"postAdministrator":"putAdministrator";(e.confirmPassword.length>0||e.admin.password.length>0||e.admin.newPassword.length>0)&&!e.checkPassword()||e.$store.dispatch(s,e.admin).then(function(t){var s={};s.toastText="Dane zostały zapisane"+e.id===void 0?". Email zostal nadeslany z linkiem do wprowadzenia hasła":"",s.toastVariant="success",e.$router.push({name:"co.administrators",params:s})}).catch(function(t){console.log(t),e.showToast(t&&t.data&&t.data.error?t.data.error:"Wystąpil błąd","Uwaga","danger")})}})},checkPassword:function(){return this.confirmPassword!==this.admin.newPassword?(this.showToast("Hasła nie są identyczne","Uwaga","danger"),!1):!(this.admin.newPassword.length<6)||(this.showToast("Hasło nie może być mniej niż 6 znaków","Uwaga","danger"),!1)}},created:function(){var e=this;this.changeAdminNavbarButton({buttonLink:!1});this.changeAdminNavbarBreadcrumbs([{text:"Współadministratorzy",to:{name:"co.administrators"}},{text:"Nowy",active:!0}]),this.id&&this.$store.dispatch("getAdministrator",{id:this.id}).then(function(t){e.admin=t,e.admin.password="",e.admin.newPassword="",console.log(t);var s=[{text:"Współadministratorzy",to:{name:"co.administrators"}},{text:t.firstName+" "+t.lastName,active:!0}];e.changeAdminNavbarBreadcrumbs(s)})}},Nn={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"8"}},[s("h2",{staticClass:"mb-4"},[e._v("Aktywuj")]),e._v(" "),s("b-form-group",e._l([{title:"Tak",value:!0},{title:"Nie",value:!1}],function(t,a){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"admin.active"+a,staticClass:"d-inline-block mr-3",class:{"error-input-custom":e.veeErrors.has("admin.active")},attrs:{value:t.value,name:"admin.active"},model:{value:e.admin.active,callback:function(t){e.$set(e.admin,"active",t)},expression:"admin.active"}},[e._v("\n          "+e._s(t.title)+"\n        ")])}),1),e._v(" "),s("h5",{staticClass:"mb-3"},[e._v("Dane ogólne")]),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"admin.firstName",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("admin.firstName")},attrs:{id:"name-1",placeholder:"Imię",name:"admin.firstName"},model:{value:e.admin.firstName,callback:function(t){e.$set(e.admin,"firstName",t)},expression:"admin.firstName"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"admin.lastName",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("admin.lastName")},attrs:{id:"surname-1",placeholder:"Nazwisko",name:"admin.lastName"},model:{value:e.admin.lastName,callback:function(t){e.$set(e.admin,"lastName",t)},expression:"admin.lastName"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"admin.phone",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("admin.phone")},attrs:{id:"phone-1",placeholder:"Telefon",type:"number",name:"admin.phone"},model:{value:e.admin.phone,callback:function(t){e.$set(e.admin,"phone",t)},expression:"admin.phone"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,email:!0},expression:"{'required':true, 'email': true}"}],key:"admin.email",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("admin.email")},attrs:{id:"email-1",placeholder:"E-mail",name:"admin.email"},model:{value:e.admin.email,callback:function(t){e.$set(e.admin,"email",t)},expression:"admin.email"}})],1),e._v(" "),void 0!==e.id?s("div",{staticClass:"mt-5"},[s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:void 0===e.admin.id},expression:"{'required': admin.id === undefined}"}],key:"admin.password",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("admin.password")},attrs:{id:"password-1",placeholder:"Stare hasło (zostaw pustym jeśli nie chcesz zmieniać)",type:"password",name:"admin.password"},model:{value:e.admin.password,callback:function(t){e.$set(e.admin,"password",t)},expression:"admin.password"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:void 0===e.admin.id},expression:"{'required': admin.id === undefined}"}],key:"admin.newPassword",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("admin.newPassword")},attrs:{id:"password-1",placeholder:"Nowe hasło (zostaw pustym jeśli nie chcesz zmieniać)",type:"password",name:"admin.newPassword"},model:{value:e.admin.newPassword,callback:function(t){e.$set(e.admin,"newPassword",t)},expression:"admin.newPassword"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:void 0===e.admin.id},expression:"{'required': admin.id === undefined}"}],key:"confirmPassword",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("admin.confirmPassword")},attrs:{id:"password-1",placeholder:"Powtórz nowe hasło (zostaw pustym jeśli nie chcesz zmieniać)",type:"password",name:"confirmPassword"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1):e._e(),e._v(" "),s("b-row",{staticClass:"mt-4"},[s("b-col",[s("b-btn",{staticClass:"custom",attrs:{variant:"delete"},on:{click:function(t){return e.deleteFromForm("deleteAdministrator",e.admin.id,void 0,"co.administrators",{})}}},[e._v("\n            Usuń\n          ")])],1),e._v(" "),s("b-col",[s("b-link",{staticClass:"custom btn",attrs:{block:"",to:{name:"co.administrators"}}},[e._v("\n            Anuluj\n          ")])],1),e._v(" "),s("b-col",[s("b-btn",{staticClass:"custom",attrs:{block:""},on:{click:e.submit}},[e._v("\n            Zapisz\n          ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var En=s("VU/8")(In,Nn,!1,function(e){s("UeXQ")},"data-v-6b133b21",null).exports,On={mixins:[F,ft,Se.a],name:"Profile",components:{Treeselect:r.a},data:function(){return{selectedSchools:[],user:{role:2,active:!1,firstName:"",lastName:"",phone:"",email:""},password:"",newPassword:"",confirmPassword:"",schoolName:""}},watch:{authUser:function(e){var t=this;this.authUser&&1===this.authUser.role&&(this.authUser.schoolsUsers.length<1||0===this.authUser.schoolsUsers[0].role)&&this.changeAdminNavbarButton({eventBusMethod:"OPEN_SCHOOLS_INVITE_MODAL",eventBusButtonName:"Dodaj szkołę / klub"}),this.authUser&&1===this.authUser.role&&this.authUser.schoolsUsers.length>0&&1===this.authUser.schoolsUsers[0].role&&this.$store.dispatch("getSchool",{id:this.authUser.schoolsUsers[0].school.id}).then(function(e){t.schoolName=e.name})}},computed:{authUser:function(){return this.$store.getters.authUser},isDirector:function(){return this.$store.getters.isDirector},schoolsTreeselect:function(){var e=this.$store.getters.schools;if(void 0===this.authUser||null===this.authUser)return[];var t=this.authUser.schoolsUsers;console.log(t);var s=[],a=function(a){if(t.length>0){var i=t.find(function(t){return t.school.id===e[a].id});console.log(i),void 0===i&&s.push({id:e[a].id,label:e[a].name})}else s.push({id:e[a].id,label:e[a].name})};for(var i in e)a(i);return s}},methods:{submitReplacement:function(e){var t=this;this.$store.dispatch("putLeader",{id:this.authUser.id,replacementId:e,actionType:"acceptReplacement"}).then(function(e){t.$store.dispatch("getCurrentUser")})},sendInvite:function(){var e=this;this.$store.dispatch("putLeader",{id:this.authUser.id,schools:this.selectedSchools,actionType:"sendSchoolInvitation"}).then(function(t){e.$bvToast.toast("Twoja prośba o dołączenie do wybranej Szkoły / Klubu została wysłana. Zachowaj teraz cierpliwość. Szkoła / Klub musi zatwierdzić Twoje zgłoszenie. Jeśli zgłoszenie zostanie zatwierdzone zobaczysz wybraną Szkołę / Klub w swoim panelu Prowadzącego w zakładce „Kluby i Szkoły – zatwierdzone.”",{title:"Uwaga!",toaster:"b-toaster-bottom-right",solid:!0,variant:"info",appendToast:!1,autoHideDelay:5e5})}).catch(function(t){e.showToast(t.data.error,"Wystąpil błąd")}),this.selectedSchools=[],this.$refs.schoolInviteModal.hide()},submit:function(){var e=this;this.$validator.validateScopes().then(function(t){if(!1!==t){if(e.confirmPassword.length>0||e.password.length>0||e.newPassword.length>0){if(!e.checkPassword())return;e.user.password=e.password,e.user.newPassword=e.newPassword}e.$store.dispatch("putUser",e.user).then(function(t){e.showToast("Dane zostały zapisane","Uwaga","success"),delete e.user.password,delete e.user.newPassword,e.password="",e.newPassword="",e.confirmPassword=""}).catch(function(t){delete e.user.password,delete e.user.newPassword,e.password="",e.newPassword="",e.confirmPassword="",e.showToast(t&&t.data&&t.data.error?t.data.error:"Wystąpil błąd","Uwaga","danger")})}})},checkPassword:function(){return this.confirmPassword!==this.newPassword?(this.showToast("Hasła nie są identyczne","Uwaga","danger"),!1):!(this.newPassword.length<6)||(this.showToast("Hasło nie może być mniej niż 6 znaków","Uwaga","danger"),!1)},openSchoolsInviteModal:function(){this.$refs.schoolInviteModal&&this.$refs.schoolInviteModal.show()}},mounted:function(){this.authUser&&1===this.authUser.role&&(this.authUser.schoolsUsers.length<1||0===this.authUser.schoolsUsers[0].role)&&this.changeAdminNavbarButton({eventBusMethod:"OPEN_SCHOOLS_INVITE_MODAL",eventBusButtonName:"Dodaj szkołę / klub"})},created:function(){var e=this;z.a.$on("OPEN_SCHOOLS_INVITE_MODAL",function(t){e.openSchoolsInviteModal()}),this.$store.dispatch("getSchools",{getAll:!0}),this.changeAdminNavbarButton({buttonLink:!1}),this.changeAdminNavbarBreadcrumbs([{text:"Mój profil",active:!0}]),this.$store.dispatch("getCurrentUser").then(function(t){e.user=t})}},An={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"8"}},[e.isDirector&&1===e.authUser.role?s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Nazwa profilu (Szkoła / Klub)"}},[s("b-form-input",{staticClass:"custom m-0",attrs:{id:"name-1",disabled:!0},model:{value:e.schoolName,callback:function(t){e.schoolName=t},expression:"schoolName"}})],1):e._e(),e._v(" "),e.isDirector&&1===e.authUser.role?e._e():s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Imię"}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"user.firstName",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("user.firstName")},attrs:{id:"name-1",name:"user.firstName"},model:{value:e.user.firstName,callback:function(t){e.$set(e.user,"firstName",t)},expression:"user.firstName"}})],1),e._v(" "),e.isDirector&&1===e.authUser.role?e._e():s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Nazwisko"}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"user.lastName",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("user.lastName")},attrs:{id:"surname-1",name:"user.lastName"},model:{value:e.user.lastName,callback:function(t){e.$set(e.user,"lastName",t)},expression:"user.lastName"}})],1),e._v(" "),e.isDirector&&1===e.authUser.role?e._e():s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Telefon"}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"user.phone",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("user.phone")},attrs:{id:"phone-1",type:"number",name:"user.phone"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2",attrs:{label:"Email do logowania"}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,email:!0},expression:"{'required':true, 'email': true}"}],key:"user.email",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("user.email")},attrs:{id:"email-1",name:"user.email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),s("div",{staticClass:"mt-5"},[s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:void 0===e.user.id},expression:"{'required': user.id === undefined}"}],key:"user.password",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("user.password")},attrs:{id:"password-1",placeholder:"Stare hasło (zostaw puste jeśli nie chcesz zmieniać)",type:"password",name:"user.password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:void 0===e.user.id},expression:"{'required': user.id === undefined}"}],key:"user.newPassword",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("user.newPassword")},attrs:{id:"password-1",placeholder:"Nowe hasło (zostaw puste jeśli nie chcesz zmieniać)",type:"password",name:"user.newPassword"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom mb-2"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:void 0===e.user.id},expression:"{'required': user.id === undefined}"}],key:"confirmPassword",staticClass:"custom m-0",class:{"error-input-custom":e.veeErrors.has("user.confirmPassword")},attrs:{id:"password-1",placeholder:"Powtórz nowe hasło (zostaw puste jeśli nie chcesz zmieniać)",type:"password",name:"confirmPassword"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1),e._v(" "),s("b-row",{staticClass:"mt-4 justify-content-end"},[s("b-col",{attrs:{lg:"3",md:"6",sm:"12"}},[s("b-btn",{staticClass:"custom",attrs:{block:""},on:{click:e.submit}},[e._v("\n            Zapisz\n          ")])],1)],1),e._v(" "),e.authUser&&e.authUser.replacements.length>0?s("div",{staticClass:"mt-2"},[s("h4",[e._v("Zastępstwa")]),e._v(" "),e._l(e.authUser.replacements,function(t,a){return!1===t.checked?s("div",{staticClass:"mb-1"},[s("b-row",{staticClass:"justify-content-end"},[s("b-col",[e._v("\n              "+e._s(t.lesson.title)+"\n            ")]),e._v(" "),s("b-col",[s("b-link",{staticClass:"tab-link-item",attrs:{to:{name:"lesson",params:{tab:"main-data",id:t.lesson.id}},target:"_blank","active-class":"active",event:""}},[e._v("\n                Zobacz\n              ")])],1),e._v(" "),s("b-col",[s("b-btn",{staticClass:"custom",attrs:{variant:"primary"},on:{click:function(s){return e.submitReplacement(t.id)}}},[e._v("\n                Zatwierdż\n              ")])],1)],1)],1):e._e()})],2):e._e()],1)],1),e._v(" "),s("b-modal",{ref:"schoolInviteModal",attrs:{centered:"",title:"Dodaj szkołę / klub","hide-footer":"",size:"lg"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!0,placeholder:"Szkoła / klub",options:e.schoolsTreeselect},model:{value:e.selectedSchools,callback:function(t){e.selectedSchools=t},expression:"selectedSchools"}}),e._v(" "),s("b-row",{staticClass:"mt-2"},[s("b-col",[s("b-btn",{staticClass:"w-25 float-right",attrs:{variant:"primary"},on:{click:e.sendInvite}},[e._v("Wyślij")])],1)],1)],1)],1)},staticRenderFns:[]};var Mn=s("VU/8")(On,An,!1,function(e){s("ntvf")},"data-v-01666771",null).exports,qn={name:"CmsFormMainData",components:{ImageInputAdvanced:De},mixins:[F,ft],data:function(){return{section:{id:this.id,active:!1,adminTitle:"",sliderImages:[],sportProjects:[],sectionDescriptions:{title:"",description:"",imgPath:null,bgPath:null}}}},methods:{addImage:function(){var e=-1;for(var t in this.section.sliderImages)this.section.sliderImages[t].id&&this.section.sliderImages[t].id<=e&&(e=this.section.sliderImages[t].id-1);this.section.sliderImages.push({path:null,id:e})},removeImage:function(e){var t=this.section.sliderImages.findIndex(function(t){return t.id===e});this.section.sliderImages.splice(t,1)},afterCropImage:function(e){for(var t in console.log(e),this.section.sliderImages)this.section.sliderImages[t].id===e.id&&(this.section.sliderImages[t].path=e.image)},goToProject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;console.log(e),void 0!==e?this.$router.push({name:"menu.section.sport.project",params:{id:e}}):this.$router.push({name:"menu.section.sport.project"})},prepareCms:function(e){this.section=e},submit:function(){var e=this,t=L()({},this.section);this.$store.dispatch("putSection",t).then(function(){e.postSubmitRedirect("www")}).catch(function(t){e.postSubmitRedirect(t)})}},computed:L()({},Object(I.c)(["sectionDescription"])),created:function(){var e=this;void 0===this.$route.params&&this.$router.push({name:"www",params:{tab:"menu"}}),this.changeAdminNavbarButton({buttonLink:!1});this.changeAdminNavbarBreadcrumbs([{text:"Strona www",to:{name:"www",params:{tab:"cms"}}},{text:"Nowa",active:!0}]),this.id&&this.$store.dispatch("getSection",{id:this.id}).then(function(t){e.prepareCms(t);var s=[{text:"Strona www",to:{name:"www",params:{tab:"cms"}}},{text:t.adminTitle,active:!0}];e.changeAdminNavbarBreadcrumbs(s)})}},Rn={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"6"}},[s("h2",{staticClass:"mb-4"},[e._v("Aktywuj")]),e._v(" "),s("b-form-group",e._l([{title:"Tak",value:!0},{title:"Nie",value:!1}],function(t,a){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"section.active"+a,staticClass:"d-inline-block mr-3",class:{"error-input-custom":e.veeErrors.has("section.active"+a)},attrs:{value:t.value,name:"section.active"+a},model:{value:e.section.active,callback:function(t){e.$set(e.section,"active",t)},expression:"section.active"}},[e._v("\n        "+e._s(t.title)+"\n      ")])}),1),e._v(" "),"Slider"===e.section.adminTitle?s("div",[s("h2",[e._v("Zdjęcie")]),e._v(" "),e._l(e.section.sliderImages,function(t,a){return s("div",{key:t.id},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{staticClass:"custom mt-3",attrs:{id:"input-1",placeholder:"Tytuł"},model:{value:e.section.sliderImages[a].title,callback:function(t){e.$set(e.section.sliderImages[a],"title",t)},expression:"section.sliderImages[index].title"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.section.sliderImages[a].description,expression:"section.sliderImages[index].description"}],staticClass:"custom mt-1 mb-0 w-100",attrs:{id:"input-1",placeholder:"Opis"},domProps:{value:e.section.sliderImages[a].description},on:{input:function(t){t.target.composing||e.$set(e.section.sliderImages[a],"description",t.target.value)}}})]),e._v(" "),s("ImageInputAdvanced",{attrs:{imgPath:e.section.sliderImages[a].path,"image-multiple":!0,imageId:t.id,"min-aspect-ratio":21/11,"max-aspect-ratio":21/11,"min-height":420,"min-width":790,"max-height":1e4,"max-width":1e4},on:{afterCropImage:e.afterCropImage}}),e._v(" "),s("hr")],1)}),e._v(" "),s("b-btn",{staticClass:"custom mt-4",attrs:{variant:"primary",block:""},on:{click:e.addImage}},[e._v("Dodaj kolejne")])],2):e._e(),e._v(" "),"Projekty sportowe"===e.section.adminTitle?s("div",[s("h2",[e._v("Projekty")]),e._v(" "),e._l(e.section.sportProjects,function(t,a){return s("div",{key:a},[s("b-row",[s("b-col",[s("p",{staticClass:"d-inline"},[e._v(e._s(t.id)+". ")]),s("h6",{staticClass:"d-inline"},[e._v(e._s(t.title))])]),e._v(" "),s("b-col",[t?s("span",{staticClass:"d-inline status inactive py-1",class:{active:t.active}},[e._v(e._s(1==t.active?"aktywny":"nieaktywny"))]):e._e()]),e._v(" "),s("b-col",[t?s("span",{staticClass:"d-inline c-pointer",on:{click:function(s){return e.$router.push({name:"menu.section.sport.project",params:{id:t.id}})}}},[e._v("Edytuj")]):e._e()])],1)],1)}),e._v(" "),s("b-btn",{staticClass:"custom mt-4",attrs:{variant:"primary",block:""},on:{click:function(t){return e.goToProject(void 0)}}},[e._v("Dodaj kolejny")])],2):e._e(),e._v(" "),s("b-row",{staticClass:"mt-3 justify-content-center justify-content-sm-end"},[s("b-col",{attrs:{cols:"12",sm:"4"}},[s("b-btn",{staticClass:"custom",attrs:{block:"",variant:"primary"},on:{click:function(t){return e.submit(1,!0)}}},[e._v("\n          Zapisz\n        ")])],1)],1)],1)],1)},staticRenderFns:[]};var Gn=s("VU/8")(qn,Rn,!1,function(e){s("8jDA")},"data-v-ea234636",null).exports,Un={name:"MenuItemData",components:{ImageInputAdvanced:De},mixins:[F,ft],data:function(){return{menuItem:{id:this.id,title:"",www:"",mainTitle:"",description:"",youtubeLinks:"",link:"",sliderImages:[],pdfFiles:[]}}},methods:{addVideo:function(){console.log(this.menuItem.youtubeLinks),this.menuItem.youtubeLinks.push("")},removeVideo:function(e){this.menuItem.youtubeLinks.splice(e,1)},addImage:function(){var e=-1;for(var t in this.menuItem.sliderImages)this.menuItem.sliderImages[t].id&&this.menuItem.sliderImages[t].id<=e&&(e=this.menuItem.sliderImages[t].id-1);this.menuItem.sliderImages.push({path:null,id:e})},removeImage:function(e){var t=this.menuItem.sliderImages.findIndex(function(t){return t.id===e});this.menuItem.sliderImages.splice(t,1)},afterCropImage:function(e){for(var t in console.log(e),this.menuItem.sliderImages)this.menuItem.sliderImages[t].id===e.id&&(this.menuItem.sliderImages[t].path=e.image)},addPdf:function(){var e=-1;for(var t in this.menuItem.pdfFiles)this.menuItem.pdfFiles[t].id&&this.menuItem.pdfFiles[t].id<=e&&(e=this.menuItem.pdfFiles[t].id-1);return this.menuItem.pdfFiles.push({path:null,id:e,title:""}),e},removePdf:function(e){var t=this.menuItem.pdfFiles.findIndex(function(t){return t.id===e});this.menuItem.pdfFiles.splice(t,1)},convertPdf:function(e){var t=this,s=new FileReader,a=e.target.files||e.dataTransfer.files,i=this.addPdf();console.log(a);var n=this.menuItem.pdfFiles.findIndex(function(e){return e.id===i});s.addEventListener("load",function(){t.menuItem.pdfFiles[n].title=a[0].name,t.menuItem.pdfFiles[n].path=s.result},!1),a[0]&&s.readAsDataURL(a[0])},prepareMenuItem:function(e){console.log(e),null===e.youtubeLinks||e.youtubeLinks.length<1?e.youtubeLinks=[]:e.youtubeLinks=e.youtubeLinks.split("|||"),this.menuItem=e},submit:function(){var e=this,t=L()({},this.menuItem);t.youtubeLinks.length>0?t.youtubeLinks=t.youtubeLinks.join("|||"):t.youtubeLinks="",console.log(t);this.$store.dispatch("putMenuItem",t).then(function(){e.postSubmitRedirect("www")}).catch(function(t){e.postSubmitRedirect(t)})}},created:function(){var e=this;void 0===this.$route.params&&this.$router.push({name:"www",params:{tab:"menu"}}),this.changeAdminNavbarButton({buttonLink:!1});this.changeAdminNavbarBreadcrumbs([{text:"Strona www",to:{name:"www"}},{text:"Nowy",active:!0}]),this.id&&this.$store.dispatch("getMenuItem",{id:this.id}).then(function(t){e.prepareMenuItem(t),e.changeAdminNavbarButton({buttonLink:!1});var s=[{text:"Strona www",to:{name:"www"}},{text:t.title,active:!0}];e.changeAdminNavbarBreadcrumbs(s)})}},Bn={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"14",lg:"5"}},[s("h2",{staticClass:"center"},[e._v("Nazwa i link (w nawbarze)")]),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"menuItem.title",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("menuItem.title")},attrs:{id:"input-1",placeholder:"Tytuł",name:"menuItem.title"},model:{value:e.menuItem.title,callback:function(t){e.$set(e.menuItem,"title",t)},expression:"menuItem.title"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"menuItem.link",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("menuItem.link")},attrs:{id:"input-1",placeholder:"Link",name:"menuItem.link"},model:{value:e.menuItem.link,callback:function(t){e.$set(e.menuItem,"link",t)},expression:"menuItem.link"}})],1),e._v(" "),s("hr"),e._v(" "),4===e.menuItem.id?s("div",[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{key:"menuItem.www",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("menuItem.www")},attrs:{id:"input-1",placeholder:"WWW link",name:"menuItem.www"},model:{value:e.menuItem.www,callback:function(t){e.$set(e.menuItem,"www",t)},expression:"menuItem.www"}})],1)],1):e._e(),e._v(" "),5===e.menuItem.id||4===e.menuItem.id?s("div",[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"menuItem.mainTitle",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("menuItem.mainTitle")},attrs:{id:"input-1",placeholder:"Tytuł na stronie",name:"menuItem.mainTitle"},model:{value:e.menuItem.mainTitle,callback:function(t){e.$set(e.menuItem,"mainTitle",t)},expression:"menuItem.mainTitle"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-textarea",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"menuItem.description",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("menuItem.description")},attrs:{id:"input-1",placeholder:"Opis na stronie",name:"menuItem.description"},model:{value:e.menuItem.description,callback:function(t){e.$set(e.menuItem,"description",t)},expression:"menuItem.description"}})],1)],1):e._e(),e._v(" "),5===e.menuItem.id?s("div",[s("h2",[e._v("Pliki PDF")]),e._v(" "),e._l(e.menuItem.pdfFiles,function(t,a){return s("div",{key:t.id,staticClass:"mb-3"},[s("img",{attrs:{src:"/static/img/icon_file.svg",alt:""}}),e._v("\n        "+e._s(t.title)+"\n        "),s("p",{staticClass:"c-red-dark c-pointer d-inline-block",on:{click:function(s){return e.removePdf(t.id)}}},[e._v("(usuń)")])])}),e._v(" "),s("label",{staticClass:"pt-2 w-100 text-center custom btn btn-primary c-pointer",attrs:{for:"pdf-file"}},[e._v("Dodaj PDF")]),e._v(" "),s("input",{staticClass:"d-none",attrs:{type:"file",id:"pdf-file",accept:"application/pdf"},on:{change:e.convertPdf}})],2):e._e(),e._v(" "),5===e.menuItem.id||4===e.menuItem.id?s("div",{staticClass:"my-3"},[s("h2",[e._v("Wiedo (link z youtube)")]),e._v(" "),e._l(e.menuItem.youtubeLinks,function(t,a){return e.menuItem.youtubeLinks&&"object"==typeof e.menuItem.youtubeLinks?s("div",{key:a,staticClass:"mb-3"},[s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"menuItem.mainTitle",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("menuItem.mainTitle")},attrs:{id:"input-1",placeholder:"Link",name:"menuItem.mainTitle"},model:{value:e.menuItem.youtubeLinks[a],callback:function(t){e.$set(e.menuItem.youtubeLinks,a,t)},expression:"menuItem.youtubeLinks[index]"}})],1),e._v(" "),s("p",{staticClass:"c-red-dark c-pointer d-inline-block",on:{click:function(t){return e.removeVideo(a)}}},[e._v("(usuń)")])],1):e._e()}),e._v(" "),s("b-btn",{staticClass:"custom mt-4",attrs:{variant:"primary",block:""},on:{click:e.addVideo}},[e._v("Dodaj kolejne")])],2):e._e(),e._v(" "),5===e.menuItem.id||4===e.menuItem.id?s("div",[s("h2",[e._v("Zdjęcie")]),e._v(" "),e._l(e.menuItem.sliderImages,function(t,a){return s("div",{key:t.id},[s("ImageInputAdvanced",{attrs:{imgPath:e.menuItem.sliderImages[a].path,"image-multiple":!0,imageId:t.id,"min-aspect-ratio":21/11,"max-aspect-ratio":21/11,"min-height":420,"min-width":790,"max-height":1e4,"max-width":1e4},on:{afterCropImage:e.afterCropImage}}),e._v(" "),s("hr")],1)}),e._v(" "),s("b-btn",{staticClass:"custom mt-4",attrs:{variant:"primary",block:""},on:{click:e.addImage}},[e._v("Dodaj kolejne")])],2):e._e(),e._v(" "),s("b-row",{staticClass:"justify-content-center justify-content-sm-end mt-3"},[s("b-col",{attrs:{cols:"12",sm:"4"}},[s("b-btn",{staticClass:"custom",attrs:{block:"",variant:"primary"},on:{click:function(t){return e.submit(1,!0)}}},[e._v("\n          Zapisz\n        ")])],1)],1)],1)],1)},staticRenderFns:[]};var Vn=s("VU/8")(Un,Bn,!1,function(e){s("2ny2")},"data-v-08ff35a9",null).exports,Yn={name:"SportProjectForm",components:{ImageInputAdvanced:De},mixins:[F,ft],data:function(){return{id:this.$route.params.id,sportProject:{id:this.id,title:"",active:!1,link:"",description:"",image:null,section:{id:4}},loaded:!1}},computed:{footerComputed:function(){return null!==this.$store.getters.footer&&(this.loaded=!0,this.footer=this.$store.getters.footer),this.$store.getters.footer}},methods:L()({},Object(I.b)(["getFooters"]),{afterCropImage:function(e){this.sportProject.image=e},submit:function(){var e=this,t=this.sportProject,s=void 0===this.id?"postSportProject":"putSportProject";this.$store.dispatch(s,t).then(function(){e.postSubmitRedirect("www")}).catch(function(t){e.postSubmitError(t)})}}),created:function(){var e=this;this.changeAdminNavbarButton({buttonLink:!1});this.changeAdminNavbarBreadcrumbs([{text:"Strona www",to:{name:"www",params:{tab:"menu"}}},{text:"Home",to:{name:"www",params:{tab:"cms"}}},{text:"Nowy",active:!0}]),this.$route.params.id?(console.log(this.$route),this.$store.dispatch("getSportProject",{id:this.$route.params.id}).then(function(t){e.sportProject=t,e.loaded=!0;var s=[{text:"Strona www",to:{name:"www",params:{tab:"menu"}}},{text:"Home",to:{name:"www",params:{tab:"cms"}}},{text:t.title,active:!0}];e.changeAdminNavbarBreadcrumbs(s)})):this.loaded=!0}},Zn={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"3"}},[s("h2",[e._v("Logo")]),e._v(" "),e.loaded?s("ImageInputAdvanced",{attrs:{imgPath:e.sportProject.image,"min-aspect-ratio":1,"max-aspect-ratio":1.25,"min-height":100,"min-width":100,"max-height":5e3,"max-width":5e3},on:{afterCropImage:e.afterCropImage}}):e._e()],1),e._v(" "),e.sportProject?s("b-col",{attrs:{cols:"12",lg:"5"}},[s("h2",{staticClass:"mb-4"},[e._v("Aktywuj")]),e._v(" "),s("b-form-group",e._l([{title:"Tak",value:!0},{title:"Nie",value:!1}],function(t,a){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"sportProject.active"+a,staticClass:"d-inline-block mr-3",class:{"error-input-custom":e.veeErrors.has("sportProject.active"+a)},attrs:{value:t.value,name:"sportProject.active"+a},model:{value:e.sportProject.active,callback:function(t){e.$set(e.sportProject,"active",t)},expression:"sportProject.active"}},[e._v("\n          "+e._s(t.title)+"\n        ")])}),1),e._v(" "),s("h2",[e._v("Projekt")]),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"sportProject.title",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("sportProject.title")},attrs:{id:"input-1",placeholder:"Tytuł",name:"sportProject.title"},model:{value:e.sportProject.title,callback:function(t){e.$set(e.sportProject,"title",t)},expression:"sportProject.title"}})],1),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.sportProject.description,expression:"sportProject.description"}],key:"sportProject.description",staticClass:"custom w-100 mb-3",class:{"error-input-custom":e.veeErrors.has("sportProject.description")},attrs:{placeholder:"Opis",name:"event.description","v-validate":"required"},domProps:{value:e.sportProject.description},on:{input:function(t){t.target.composing||e.$set(e.sportProject,"description",t.target.value)}}}),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"sportProject.link",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("sportProject.link")},attrs:{id:"input-3",placeholder:"Link",name:"sportProject.link"},model:{value:e.sportProject.link,callback:function(t){e.$set(e.sportProject,"link",t)},expression:"sportProject.link"}})],1),e._v(" "),s("b-row",{staticClass:"mt-4"},[s("b-col"),e._v(" "),s("b-col",[s("b-link",{staticClass:"custom btn",attrs:{block:"",to:{name:"www"}}},[e._v("\n            Anuluj\n          ")])],1),e._v(" "),s("b-col",[s("b-btn",{staticClass:"custom",attrs:{block:""},on:{click:e.submit}},[e._v("\n            Zapisz\n          ")])],1)],1)],1):e._e(),e._v(" "),s("p",{staticClass:"invisible"},[e._v(e._s(e.footerComputed))])],1)},staticRenderFns:[]};var Kn=s("VU/8")(Yn,Zn,!1,function(e){s("Gzte")},"data-v-3b41b199",null).exports,Wn={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"8"}},[s("div",[s("h4",[e._v("Wiadomość")]),e._v(" "),s("h6",{attrs:{id:"op"}},[e._v("Tytuł")]),e._v(" "),s("div",[e._v(e._s(e.sender))]),e._v(" "),s("h6",{attrs:{id:"op1"}},[e._v("Wiadomość")]),e._v(" "),s("div",[e._v(e._s(e.mails))])])])],1)},staticRenderFns:[]};var Hn=s("VU/8")({name:"Recipient",data:function(){return{mailTemplates:{title:"",description:""}}},computed:{sender:function(){return this.$store.getters.sender},mailTitles:function(){return this.sender?this.sender.mailTemplates.title:[]},mails:function(){return this.sender?this.mailTemplates.title:[]}},methods:{},created:function(){this.$store.dispatch("getSender",{id:this.$route.params.id})}},Wn,!1,function(e){s("seU7")},"data-v-11003234",null).exports,Jn={name:"CmsRestPageData",components:{ImageInputAdvanced:De,VueEditor:ue.b,Quill:ue.a},mixins:[F,ft],data:function(){return{customToolbar:[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link"]],restPage:{id:this.id,active:!1,adminTitle:"",description:""}}},methods:{prepareCms:function(e){this.restPage=e},submit:function(){var e=this,t=L()({},this.restPage);this.$store.dispatch("putRestPage",t).then(function(){e.postSubmitRedirect("www")}).catch(function(t){e.postSubmitRedirect(t)})}},computed:{},created:function(){var e=this;void 0===this.$route.params&&this.$router.push({name:"www",params:{tab:"menu"}}),this.changeAdminNavbarButton({buttonLink:!1});this.changeAdminNavbarBreadcrumbs([{text:"Strona www",to:{name:"www",params:{tab:"cms"}}},{text:"Nowa",active:!0}]),this.id&&this.$store.dispatch("getRestPage",{id:this.id}).then(function(t){e.prepareCms(t);var s=[{text:"Strona www",to:{name:"www",params:{tab:"cms"}}},{text:t.adminTitle,active:!0}];e.changeAdminNavbarBreadcrumbs(s)})}},Qn={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"10"}},[s("vue-editor",{attrs:{editorToolbar:e.customToolbar},model:{value:e.restPage.description,callback:function(t){e.$set(e.restPage,"description",t)},expression:"restPage.description"}}),e._v(" "),s("b-row",{staticClass:"mt-3 justify-content-center justify-content-sm-end"},[s("b-col",{attrs:{cols:"12",sm:"4"}},[s("b-btn",{staticClass:"custom",attrs:{block:"",variant:"primary"},on:{click:function(t){return e.submit(1,!0)}}},[e._v("\n            Zapisz\n          ")])],1)],1)],1)],1)},staticRenderFns:[]};var Xn={path:"/admin",component:function(){return s.e(0).then(s.bind(null,"Ndx3"))},children:[{path:"test-content",name:"test.content",component:Ce},{path:"dashboard",name:"dashboard",component:Gs},{path:"www/:tab?",name:"www",component:Re},{path:"www/cms-section/:id?",name:"cms.section",component:Gn},{path:"www/cms-rest-page/:id?",name:"cms.rest.page",component:s("VU/8")(Jn,Qn,!1,function(e){s("G1lq")},"data-v-79b91e3d",null).exports},{path:"www/menu/item-data/:id?",name:"menu.item.data",component:Vn},{path:"www/cms-section/sport-project/:id?",name:"menu.section.sport.project",component:Kn},{path:"schools-and-clubs/:tab?",name:"schools.and.clubs",component:Qe},{path:"school-or-club/:tab?/:id?",name:"school.or.club",component:$s},{path:"sport-objects/:tab?",name:"sport.objects",component:ot},{path:"sport-object/:tab?/:id?",name:"sport.object",component:Ms},{path:"leaders/:tab?",name:"leaders",component:Vs},{path:"leader/:tab/:id?",name:"leader",component:vn},{path:"participant-groups",name:"participant.groups",component:ut},{path:"participant-group/:tab?/:id?",name:"participant.group",component:Zi},{path:"participants",name:"participants",component:Mt},{path:"participant/:tab?/:id?",name:"participant",component:Fn},{path:"lessons/:tab?",name:"lessons",component:_s},{path:"lesson/:tab?/:id?",name:"lesson",component:da},{path:"calendar/:tab?",name:"calendar",component:va},{path:"frequency",name:"frequency",component:ts},{path:"mtsf/:tab?",name:"mtsf",component:ei},{path:"events/:tab?",name:"events",component:ni},{path:"event/:tab?/:id?",name:"event",component:ui},{path:"reports/:tab?",name:"reports",component:Si},{path:"dictionary/:tab?",name:"dictionary",component:Ka},{path:"history/:tab?",name:"history",component:Hi},{path:"co-administrators",name:"co.administrators",component:ya},{path:"co-administrator/:id?",name:"co.administrator",component:En},{path:"messages",name:"messages",component:Ca},{path:"messages/recipient/:id?",name:"recipient",component:Hn},{path:"profile",name:"profile",component:Mn}]},eo={name:"HelloWorld",data:function(){return{email:"",password:"",msg:"Welcome to Your Vue.js App"}},methods:{resetModal:function(){this.email="",this.password=""},validateEmail:function(e){return e},login:function(){var e=this;if(""===this.email)return this.emptyEmail=!1,!1;if(this.password.length<6)return this.passwordSimilarity=!1,!1;if(!this.validateEmail(this.email))return this.$bvToast.toast("Niepoprawny format adresu e-mail",{title:"Uwaga!",toaster:"b-toaster-bottom-full",solid:!0,variant:"danger"}),!1;var t={email:this.email,password:this.password};this.$store.dispatch("login",t).then(function(t){console.log(t),e.$router.push({name:"test.content"})}).catch(function(e){console.log(e)})}}},to={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("h1",[e._v(e._s(e.msg))]),e._v(" "),s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-login",modifiers:{"modal-login":!0}}]},[e._v("Login")]),e._v(" "),s("b-modal",{ref:"modal-login",attrs:{id:"modal-login",title:"Logowanie",size:"sm","hide-footer":""},on:{show:e.resetModal,hidden:e.resetModal}},[s("b-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[s("b-form-group",{attrs:{"label-for":"name-input"}},[s("b-form-input",{attrs:{id:"name-input",type:"email",required:"",placeholder:"E-mail"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),s("b-form-group",{attrs:{"label-for":"name-input"}},[s("b-form-input",{attrs:{id:"name-input",type:"password",placeholder:"Hasło",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),s("b-btn",{staticClass:"mt-4",attrs:{type:"submit",block:""}},[e._v("\n        Zaloguj się\n      ")])],1)],1)],1)},staticRenderFns:[]};var so=s("VU/8")(eo,to,!1,function(e){s("KhU/")},"data-v-23d7527a",null).exports,ao=s("IC97"),io={components:{Datepicker:ao.a,Treeselect:r.a,DatePick:w.a},data:function(){return{date:"2019-09-01",selected:[],selectedRadio:"A",options:[{text:"first",value:"1"},{text:"secondary",value:"2"},{text:"third",value:"3"}],value:null,optionsTS:[{id:"a",label:"first",children:[{id:"aa",label:"aa"},{id:"ab",label:"ab"}]},{id:"b",label:"second"},{id:"c",label:"third"}]}}},no={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 pt-5"},[s("b-btn",{staticClass:"custom",attrs:{variant:"primary"}},[e._v("Primary")]),e._v(" "),s("b-btn",{staticClass:"custom"},[e._v("Primary")]),e._v(" "),s("b-btn",{staticClass:"custom",attrs:{variant:"outline-primary"}},[s("span",{staticClass:"icon-icon_login"}),e._v(" Primary\n      ")]),e._v(" "),e._m(0),e._v(" "),s("h1",[e._v("Lorem ipsum. ")]),e._v(" "),s("h1",{staticClass:"c-green"},[e._v("Lorem ipsum. ")]),e._v(" "),s("h1",{staticClass:"bgc-green"},[e._v("Lorem ipsum. ")])],1),e._v(" "),s("div",{staticClass:"col-12 mt-5"},[s("b-form-group",{staticClass:"custom",attrs:{label:"Enter your name","label-for":"input-1"}},[s("b-form-input",{staticClass:"custom",attrs:{id:"input-1",placeholder:"E-mail"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom",attrs:{label:"Enter your name","label-for":"input-2"}},[s("b-form-input",{staticClass:"custom",attrs:{id:"input-2"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{staticClass:"custom",attrs:{label:"Using options array:"}},[s("b-form-checkbox-group",{attrs:{id:"checkbox-group-1",options:e.options,name:"flavour-1"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-form-group",{attrs:{label:"Individual radios"}},[s("b-form-radio",{attrs:{name:"some-radios",value:"A"},model:{value:e.selectedRadio,callback:function(t){e.selectedRadio=t},expression:"selectedRadio"}},[e._v("Option A")]),e._v(" "),s("b-form-radio",{attrs:{name:"some-radios",value:"B"},model:{value:e.selectedRadio,callback:function(t){e.selectedRadio=t},expression:"selectedRadio"}},[e._v("Option B")])],1)],1),e._v(" "),s("b-col",{staticClass:"mb-3",attrs:{cols:"4"}},[s("b-card",{staticClass:"custom",attrs:{"footer-class":"p-0"}},[s("h2",{staticClass:"card-title nowrap",attrs:{title:"lorem8"}},[e._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit.")]),e._v(" "),s("p",{},[e._v("ul. Krochmalna 29")]),e._v(" "),s("p",{staticClass:"card-signature mb-0"},[s("span",{staticClass:"icon icon-discipline"}),e._v("Dyscyplina")]),e._v(" "),s("a",{staticClass:"card-arrow",attrs:{href:"#"}},[s("span",{staticClass:" icon-icon_arrow_24"})]),e._v(" "),s("template",{slot:"footer"},[s("div",{staticClass:"d-inline-block type-card float-right"},[e._v("KLUB")])])],2)],1),e._v(" "),s("b-col",{staticClass:"mb-3",attrs:{cols:"3"}},[s("b-card",{staticClass:"custom",attrs:{"footer-class":"p-0"}},[s("p",{staticClass:"card-signature mb-0"},[e._v("Dyscyplina")]),e._v(" "),s("p",{},[e._v("Piotr Wójcik")]),e._v(" "),s("p",{staticClass:"card-signature mb-0"},[e._v("Czas trwania")]),e._v(" "),s("p",{},[e._v("17:00 - 18:30")]),e._v(" "),s("p",{staticClass:"card-signature mb-0"},[e._v("Obiekt sportowy")]),e._v(" "),s("p",{},[e._v("Gimnazjum nr 14 - Orlik (ul. Pogodna 19)")]),e._v(" "),s("p",{staticClass:"card-signature mb-0"},[e._v("Typ")]),e._v(" "),s("p",{},[e._v("Sport dzieci i młodzieży")]),e._v(" "),s("p",{staticClass:"card-signature mb-0"},[e._v("Finansowane ze środków Gminy Lublin")]),e._v(" "),s("p",{},[e._v("Tak")])])],1),e._v(" "),s("b-col",{attrs:{cols:"12",lg:"6"}},[[s("date-pick",{attrs:{hasInputElement:!1},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})]],2),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("treeselect",{staticClass:"custom",attrs:{multiple:!1,options:e.optionsTS},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("h1",[e._v("Akademia Piłkarska Bronowice Lublin")])]),e._v(" "),s("b-col",{attrs:{cols:"4"}},[s("div",{staticClass:"info-box border-r"},[s("h2",[s("span",{staticClass:"icon icon-icon_pin_2 pr-3"}),e._v("ul. Montażowa 16")]),e._v(" "),s("p",[s("span",{staticClass:"icon icon-discipline pr-3"}),e._v("Piłka nożna")]),e._v(" "),s("p",[s("span",{staticClass:"icon icon-icon_mail pr-3"}),e._v("testing@test.com")]),e._v(" "),s("p",[s("span",{staticClass:"icon icon-icon_phone pr-3"}),e._v("+11 111 111 111")])])]),e._v(" "),s("b-col",{attrs:{cols:"4"}},[s("div",{staticClass:"info-box"},[s("p",{staticClass:"signature mb-0"},[e._v("Typ")]),e._v(" "),s("p",{},[e._v("ORLIK")]),e._v(" "),s("p",[s("span",{staticClass:"icon icon-icon_pin_2 pr-3"}),e._v("ul. Montażowa 16")]),e._v(" "),s("p",[s("span",{staticClass:"icon icon-icon_phone pr-3"}),e._v("+11 111 111 111")])])]),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("span",{staticClass:"status active"},[e._v("aktywny")]),e._v(" "),s("span",{staticClass:"status inactive"},[e._v("nieaktywny")])]),e._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-row",[s("b-col",[s("h1",{},[e._v("Lorem ipsum.")])]),e._v(" "),s("b-col",{attrs:{cols:"2"}},[s("b-btn",{attrs:{variant:"primary",block:""}},[e._v("Primary")])],1)],1)],1),e._v(" "),s("b-col",{staticClass:"mb-3",attrs:{cols:"4"}},[s("b-card",{staticClass:"custom",attrs:{"footer-class":"p-0","img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":""}},[s("b-card-text",{staticClass:"height-hidden",attrs:{"text-tag":"div"}},[s("h2",{staticClass:"card-title ",attrs:{title:"lorem8"}},[e._v("Lorem ipsum dolor sit amet,")]),e._v(" "),s("p",{},[e._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit. Asperiores, consequatur eligendi esse iusto minima non officia temporibus veniam! Beatae dolor in inventore minus pariatur, soluta suscipit! Ad aspernatur atque dignissimos eligendi, fugit inventore iure labore nesciunt non temporibus veniam veritatis!")])]),e._v(" "),s("p",{staticClass:"card-signature mb-0"},[s("span",{staticClass:"icon icon-icon_date_16 pl-0"}),e._v("11.07.19")]),e._v(" "),s("a",{staticClass:"card-arrow",attrs:{href:"#"}},[s("span",{staticClass:" icon-icon_arrow_24"})])],1)],1),e._v(" "),s("b-col",{attrs:{cols:"4"}},[s("div",{staticClass:"android-box pt-5 pl-5"},[s("header",{staticClass:"header-android"},[s("span",{staticClass:"circle"}),e._v(" "),s("span",{staticClass:"circle right"})]),e._v(" "),s("div",{staticClass:"body-android"}),e._v(" "),s("footer",{staticClass:"footer-android"})])]),e._v(" "),s("b-col",{attrs:{cols:"4"}},[s("div",{staticClass:"android-box pt-5 pl-5"},[s("div",{staticClass:"smile"},[s("span",{staticClass:"circle"}),e._v(" "),s("span",{staticClass:"circle two"}),e._v(" "),s("span",{staticClass:"past"})])])])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("span",{staticClass:"icon-icon_login"}),this._v("Primary\n      ")])}]};var oo=s("VU/8")(io,no,!1,function(e){s("guoP")},"data-v-26f644a4",null).exports,ro=s("kNw6"),co={components:{Datepicker:ao.a,Treeselect:r.a,DatePick:w.a,AdminNavbar:ro.a},data:function(){return{showSidebar:!1,date:"2019-09-01",selected:[],selectedRadio:"A",options:[{text:"first",value:"1"},{text:"secondary",value:"2"},{text:"third",value:"3"}],value:null,optionsTS:[{id:"a",label:"first",children:[{id:"aa",label:"aa"},{id:"ab",label:"ab"}]},{id:"b",label:"second"},{id:"c",label:"third"}]}},methods:{toggleSidebar:function(){z.a.$emit("TOGGLE_SIDEBAR")}},created:function(){var e=this;z.a.$on("TOGGLE_SIDEBAR",function(t){e.showSidebar=!e.showSidebar})}},lo={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"d-flex",class:{toggled:this.showSidebar},attrs:{id:"wrapper"}},[this._m(0),this._v(" "),t("div",{attrs:{id:"page-content-wrapper"}},[t("nav",{staticClass:"navbar"},[t("AdminNavbar")],1),this._v(" "),t("div",{staticClass:"container-fluid"},[t("button",{staticClass:"btn btn-primary btn-sidebar-toggle",attrs:{id:"menu-toggle"},on:{click:this.toggleSidebar}},[t("span",{staticClass:"icon-icon_arrow_24"})])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"border-right",attrs:{id:"sidebar-wrapper"}},[s("div",{staticClass:"sidebar-heading"},[e._v("Start Bootstrap")]),e._v(" "),s("div",{staticClass:"list-group list-group-flush"},[s("a",{staticClass:"list-group-item list-group-item-action bg-light",attrs:{href:"#"}},[e._v("Dashboard")]),e._v(" "),s("a",{staticClass:"list-group-item list-group-item-action bg-light",attrs:{href:"#"}},[e._v("Shortcuts")]),e._v(" "),s("a",{staticClass:"list-group-item list-group-item-action bg-light",attrs:{href:"#"}},[e._v("Overview")]),e._v(" "),s("a",{staticClass:"list-group-item list-group-item-action bg-light",attrs:{href:"#"}},[e._v("Events")]),e._v(" "),s("a",{staticClass:"list-group-item list-group-item-action bg-light",attrs:{href:"#"}},[e._v("Profile")]),e._v(" "),s("a",{staticClass:"list-group-item list-group-item-action bg-light",attrs:{href:"#"}},[e._v("Status")])])])}]};var uo=s("VU/8")(co,lo,!1,function(e){s("hjSL")},"data-v-59e23e5c",null).exports,po={name:"ConfirmMail",mixins:[Se.a],data:function(){return{password:"",passwordConfirm:"",id:this.$route.params.id,hash:this.$route.params.hash,passwordExists:!0}},methods:{submit:function(){var e=this;this.password.length<6||this.passwordConfirm.length<6?this.showToast("Hasło nie może być mniej niż 6 znaków","Uwaga","danger"):this.password===this.passwordConfirm?this.$store.dispatch("sendMailConfirmed",{password:this.password,id:this.id,hash:this.hash,method:"confirmEmail"}).then(function(t){if(t&&t.status&&"OK"===t.status){var s={toastText:"Konto zostało aktywowane",toastVariant:"success"};e.$router.push({name:"home",params:s})}}).catch(function(e){console.log(e)}):this.showToast("Hasła nie są identyczne","Uwaga","danger")}},created:function(){var e=this;void 0===this.id||void 0===this.hash?this.showToast("Nieprawidłowy URL","Uwaga","danger"):this.$store.dispatch("getMailConfirmed",{id:this.id,hash:this.hash,method:"checkConfirmedMail"}).then(function(t){t&&t.message&&"password does not exists"===t.message&&(e.passwordExists=!1),console.log(t)}).catch(function(t){e.showToast(t.data.error,"Uwaga","success")})}},mo={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.id&&e.hash&&!e.passwordExists?s("div",[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"mt-5 d-flex justify-content-center"},[s("b-link",{attrs:{to:{name:"home"}}},[s("div",{staticClass:"sidebar-heading"},[s("img",{attrs:{src:"/static/img/logo.svg",alt:""}})])])],1)],1),e._v(" "),s("b-row",{staticClass:"justify-content-center mt-5"},[s("b-col",{staticClass:"col-lg-4 col-md-6 col-sm-10"},[s("b-input",{staticClass:"mb-3",attrs:{placeholder:"Wprowadż hasło",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),s("b-input",{attrs:{placeholder:"Powtórz hasło",type:"password"},model:{value:e.passwordConfirm,callback:function(t){e.passwordConfirm=t},expression:"passwordConfirm"}})],1)],1),e._v(" "),s("b-row",{staticClass:"justify-content-center mt-4"},[s("b-col",{staticClass:"d-flex justify-content-end col-lg-4 col-md-6 col-sm-10"},[s("b-btn",{attrs:{variant:"primary"},on:{click:e.submit}},[e._v("Zapisz")])],1)],1)],1):e._e()},staticRenderFns:[]};var ho=s("VU/8")(po,mo,!1,function(e){s("16fS")},"data-v-e51818c6",null).exports,fo={name:"ChangeMail",mixins:[Se.a],data:function(){return{password:"",passwordConfirm:"",id:this.$route.params.id,hash:this.$route.params.hash,hashExists:!1}},methods:{},created:function(){var e=this;void 0===this.id||void 0===this.hash?this.showToast("Nieprawidłowy URL","Uwaga","danger"):this.$store.dispatch("getChangeMail",{id:this.id,hash:this.hash,method:"checkChangeMail"}).then(function(t){e.hashExists=!0,e.showToast("Mail się zmienił, możesz zalogować się ponownie!","Uwaga","success")}).catch(function(t){t&&t.data&&t.data.error&&(e.showToast(t.data.error,"Uwaga","success"),e.hashExists=!1)})}},vo={render:function(){var e=this.$createElement,t=this._self._c||e;return this.id&&this.hash&&this.hashExists?t("div",[t("b-row",{staticClass:"justify-content-center"},[t("b-col",{staticClass:"mt-5 d-flex justify-content-center"},[t("b-link",{attrs:{to:{name:"home"}}},[t("div",{staticClass:"sidebar-heading"},[t("img",{attrs:{src:"/static/img/logo.svg",alt:""}})])])],1)],1)],1):this._e()},staticRenderFns:[]};var bo=s("VU/8")(fo,vo,!1,function(e){s("YE2f")},"data-v-3eae8174",null).exports,go={name:"ResetPassword",mixins:[Se.a],data:function(){return{password:"",passwordConfirm:"",id:this.$route.params.id,hash:this.$route.params.hash,hashExists:!1}},methods:{submit:function(){var e=this;this.password.length<6||this.passwordConfirm.length<6?this.showToast("Hasło nie może być mniej niż 6 znaków","Uwaga","danger"):this.password===this.passwordConfirm?this.$store.dispatch("passwordReset",{password:this.password,id:this.id,hash:this.hash,method:"passwordReset"}).then(function(t){if(t&&t.status&&"OK"===t.status){var s={toastText:"Hasło zostało zmienione",toastVariant:"success"};e.$router.push({name:"home",params:s})}}).catch(function(e){console.log(e)}):this.showToast("Hasła nie są identyczne","Uwaga","danger")}},created:function(){var e=this;void 0===this.id||void 0===this.hash?this.showToast("Nieprawidłowy URL","Uwaga","danger"):this.$store.dispatch("getPasswordReset",{id:this.id,hash:this.hash,method:"checkPasswordReset"}).then(function(t){e.hashExists=!0}).catch(function(t){t&&t.data&&t.data.error&&"Nie ma haszu"===t.data.error&&(e.showToast("Sprobuj zresetować hasło jeszcze raz, żeby otrzymać nowy link","Uwaga","success"),e.hashExists=!1)})}},yo={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.id&&e.hash&&e.hashExists?s("div",[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"mt-5 d-flex justify-content-center"},[s("b-link",{attrs:{to:{name:"home"}}},[s("div",{staticClass:"sidebar-heading"},[s("img",{attrs:{src:"/static/img/logo.svg",alt:""}})])])],1)],1),e._v(" "),s("b-row",{staticClass:"justify-content-center mt-5"},[s("b-col",{staticClass:"col-lg-4 col-md-6 col-sm-10"},[s("b-input",{staticClass:"mb-3",attrs:{placeholder:"Wprowadż hasło",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),s("b-input",{attrs:{placeholder:"Powtórz hasło",type:"password"},model:{value:e.passwordConfirm,callback:function(t){e.passwordConfirm=t},expression:"passwordConfirm"}})],1)],1),e._v(" "),s("b-row",{staticClass:"justify-content-center mt-4"},[s("b-col",{staticClass:"d-flex justify-content-end col-lg-4 col-md-6 col-sm-10"},[s("b-btn",{attrs:{variant:"primary"},on:{click:e.submit}},[e._v("Zapisz")])],1)],1)],1):e._e()},staticRenderFns:[]};var _o=s("VU/8")(go,yo,!1,function(e){s("7MvO")},"data-v-50ba72a5",null).exports,ko={name:"ConfirmSchool",components:{Treeselect:r.a,ImageInputAdvanced:De,DistrictSearch:bt},mixins:[Se.a,F,ft],data:function(){return{password:"",passwordConfirm:"",id:this.$route.params.id,hash:this.$route.params.hash,passwordExists:!0,districts:c.f,school:{id:this.id,image:null,active:!0,confirmed:!1,type:0,name:"",email:"",password:"",phone:"",district:null,address:"",postcode:"",mapImg:"",openHours:"",comments:"",personToContactFullName:"",personToContactPhone:"",places:[],schoolsUsers:[]}}},methods:{submit:function(){var e=this;this.$validator.validateScopes().then(function(t){if(t)if(e.school.password.length<6||e.passwordConfirm.length<6)e.showToast("Hasło nie może być mniej niż 6 znaków","Uwaga","danger");else if(e.school.password===e.passwordConfirm){var s=e.school;console.log(e.school),delete s.schoolsUsers,e.$store.dispatch("putSchoolByEmail",{school:s,id:e.id,hash:e.hash,method:"postSchool"}).then(function(t){if(t&&t.status&&"OK"===t.status){var s={toastText:"Konto zostało stworzone. Zachowaj teraz cierpliwość. Szkoła / Klub musi być zatwierdzona przez administratora.",toastVariant:"success"};e.$router.push({name:"home",params:s})}}).catch(function(e){console.log(e)})}else e.showToast("Hasła nie są identyczne","Uwaga","danger")})},afterCropImage:function(e){this.school.image=e},goToFormTab:function(e){this.$parent.goToFormTab(e)}},mounted:function(){this.$route.params.validateForm&&this.checkValidForm()},created:function(){var e=this;void 0===this.id||void 0===this.hash?this.showToast("Nieprawidłowy URL","Uwaga","danger"):this.$store.dispatch("getCreateSchool",{id:this.id,hash:this.hash,method:"checkConfirmedSchool"}).then(function(t){t&&t.id&&(e.passwordExists=!1,e.school=t)}).catch(function(t){e.showToast(t.data.error,"Uwaga","success")})}},Co={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{staticClass:"mt-5 d-flex justify-content-center"},[s("b-link",{attrs:{to:{name:"home"}}},[s("div",{staticClass:"sidebar-heading"},[s("img",{attrs:{src:"/static/img/logo.svg",alt:""}})])])],1)],1),e._v(" "),e.id&&e.hash&&!e.passwordExists?s("div",[s("b-row",{staticClass:"justify-content-center px-2 mt-5"},[s("b-col",{attrs:{cols:"12",lg:"4",md:"5",sm:"10"}},[s("h2",{staticClass:"mb-4"},[e._v("Aktywuj")]),e._v(" "),s("b-form-group",e._l([{title:"Tak",value:!0},{title:"Nie",value:!1}],function(t,a){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.active"+a,staticClass:"d-inline-block mr-3",class:{"error-input-custom":e.veeErrors.has("school.active")},attrs:{value:t.value,name:"school.active"},model:{value:e.school.active,callback:function(t){e.$set(e.school,"active",t)},expression:"school.active"}},[e._v("\n              "+e._s(t.title)+"\n            ")])}),1),e._v(" "),s("h2",{staticClass:"my-4"},[e._v("Dane ogólne")]),e._v(" "),s("b-form-group",e._l([{title:"Klub",value:0},{title:"Szkoła",value:1}],function(t,a){return s("b-form-radio",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.type"+a,staticClass:"d-inline-block mr-3",class:{"error-input-custom":e.veeErrors.has("school.type")},attrs:{value:t.value,name:"school.type"},model:{value:e.school.type,callback:function(t){e.$set(e.school,"type",t)},expression:"school.type"}},[e._v("\n              "+e._s(t.title)+"\n            ")])}),1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.name",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.name")},attrs:{id:"input-1",placeholder:"Nazwa",name:"school.name"},model:{value:e.school.name,callback:function(t){e.$set(e.school,"name",t)},expression:"school.name"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,email:!0},expression:"{'required':true, 'email':true}"}],key:"school.email",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.email")},attrs:{id:"input-1",placeholder:"E-mail",disabled:"",name:"school.email"},model:{value:e.school.email,callback:function(t){e.$set(e.school,"email",t)},expression:"school.email"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"school.password",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.password")},attrs:{id:"input-1",placeholder:"Hasło",name:"school.password"},model:{value:e.school.password,callback:function(t){e.$set(e.school,"password",t)},expression:"school.password"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required': true}"}],key:"passwordConfirm",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("passwordConfirm")},attrs:{id:"input-1",placeholder:"Powtrórz hasło",name:"passwordConfirm"},model:{value:e.passwordConfirm,callback:function(t){e.passwordConfirm=t},expression:"passwordConfirm"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.phone",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.phone")},attrs:{id:"input-1",placeholder:"Telefon",name:"school.phone"},model:{value:e.school.phone,callback:function(t){e.$set(e.school,"phone",t)},expression:"school.phone"}})],1),e._v(" "),s("h2",{staticClass:"my-4"},[e._v("Lokalizacja")]),e._v(" "),s("DistrictSearch"),e._v(" "),s("treeselect",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.district",staticClass:"custom mb-3",class:{"error-input-custom":e.veeErrors.has("school.district")},attrs:{multiple:!1,placeholder:"Dzielnica",options:e.districts,name:"school.district"},model:{value:e.school.district,callback:function(t){e.$set(e.school,"district",t)},expression:"school.district"}}),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.address",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.address")},attrs:{id:"input-1",placeholder:"Adres",name:"school.address"},model:{value:e.school.address,callback:function(t){e.$set(e.school,"address",t)},expression:"school.address"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.postcode",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.postcode")},attrs:{id:"input-1",placeholder:"Kod pocztowy",name:"school.postcode"},model:{value:e.school.postcode,callback:function(t){e.$set(e.school,"postcode",t)},expression:"school.postcode"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.openHours",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.openHours")},attrs:{id:"input-1",placeholder:"Godziny otwarcia",name:"school.openHours"},model:{value:e.school.openHours,callback:function(t){e.$set(e.school,"openHours",t)},expression:"school.openHours"}})],1),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.school.comments,expression:"school.comments"}],key:"school.comments",staticClass:"custom w-100",class:{"error-input-custom":e.veeErrors.has("school.comments")},attrs:{placeholder:"Uwagi",name:"school.comments","v-validate":"required"},domProps:{value:e.school.comments},on:{input:function(t){t.target.composing||e.$set(e.school,"comments",t.target.value)}}}),e._v(" "),s("h2",{staticClass:"my-4"},[e._v("Osoba do kontaktu")]),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.personToContactFullName",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.personToContactFullName")},attrs:{id:"input-1",placeholder:"Imię i Nazwisko",name:"school.personToContactFullName"},model:{value:e.school.personToContactFullName,callback:function(t){e.$set(e.school,"personToContactFullName",t)},expression:"school.personToContactFullName"}})],1),e._v(" "),s("b-form-group",{staticClass:"custom"},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{'required':true}"}],key:"school.personToContactPhone",staticClass:"custom",class:{"error-input-custom":e.veeErrors.has("school.personToContactPhone")},attrs:{id:"input-1",placeholder:"Telefon",name:"school.personToContactPhone"},model:{value:e.school.personToContactPhone,callback:function(t){e.$set(e.school,"personToContactPhone",t)},expression:"school.personToContactPhone"}})],1),e._v(" "),s("b-row",{staticClass:"justify-content-end my-4"},[s("b-col",{staticClass:"d-flex justify-content-end col-lg-4 col-md-6 col-sm-10"},[s("b-btn",{attrs:{variant:"primary"},on:{click:e.submit}},[e._v("Zapisz")])],1)],1)],1)],1)],1):e._e()],1)},staticRenderFns:[]};var wo={path:"/login",name:"login",component:so},xo={path:"/dev",name:"dev",component:oo},$o={path:"/my",name:"my",component:uo},To={path:"/mail/confirm/:id/:hash",name:"confirm.mail",component:ho},So={path:"/mail/change/:id/:hash",name:"change.mail",component:bo},Po={path:"/password/reset/:id/:hash",name:"password.reset",component:_o},jo={path:"/school/confirm/:id/:hash",name:"confirm.school",component:s("VU/8")(ko,Co,!1,function(e){s("Y9a0")},"data-v-57a28c2c",null).exports};s("g7+j");a.default.use(i.a);var Do=[ye,Xn,wo,xo,$o,jo,To,So,Po],Lo=new i.a({routes:Do,mode:"history"});Lo.beforeEach(function(e,t,s){-1!==e.fullPath.indexOf("/admin/")&&!n.a.getters.isLoggedIn&&s("/home"),s()});t.a=Lo},"Z/b0":function(e,t){},Zrmn:function(e,t){},"a/3G":function(e,t,s){"use strict";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments[3],n=arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,b=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],g=e;v(a)&&(g+=o()(a));v(n)&&(g+=o()(n));return new i.a(function(i,o){void 0!==m[g]&&m[g](),h=s,c()({url:l.c+e,method:t,data:a,params:n,cancelToken:new p(function(e){m[g]=e})}).then(function(e){if(void 0!==e){!1===f(e,r)&&i("error");var t=e.data;b.length<1&&!1===v(t,b)&&i("error"),i(t)}else i("error")}).catch(function(e){console.log(e.response),s&&e.response&&"empty user"===e.response.data.error&&(console.log("api service TOKEN_EXPIRED"),d.a.dispatch("clearAuthToken"),u.a.push({name:"home"})),(e.response&&401===e.response.status||401===e.status)&&(console.log("api service 401 [2]"),d.a.dispatch("logout").then(function(e){u.a.push({name:"home"})}).catch(function(e){u.a.push({name:"home"})})),c.a.isCancel(e)&&i("error"),console.log(e),o(e)})})};var a=s("//Fk"),i=s.n(a),n=s("mvHQ"),o=s.n(n),r=s("mtWM"),c=s.n(r),l=s("Nz3/"),u=s("YaEn"),d=s("IcnI"),p=c.a.CancelToken,m={};var h=!1;c.a.interceptors.request.use(function(e){return h&&d.a.getters.isLoggedIn&&(e.headers["X-AUTH-Token"]=d.a.state.authModule.authToken,e.headers["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),e},function(e){return i.a.reject(e)}),c.a.interceptors.response.use(function(e){return e},function(e){if(!(void 0===e||e.length<1||null===e||""===e||void 0===e.response||e.response.length<1||null===e.response||""===e.response||void 0===e.response.status||e.response.status.length<1||null===e.response.status||""===e.response.status))return 401===e.response.status&&console.log("response 401"),i.a.reject(e)});var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return void 0!==e&&null!==e&&(void 0!==e.status&&null!==e.status&&(void 0===t||null===t||e.status===t))},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(void 0===e||null===e)return!1;if(void 0===t||null===t||t.length<1)return!0;for(var s=0;s<t.length;s++){var a=t[s];if(void 0===e[a]||null===e[a])return!1}return!0}},baVP:function(e,t){},bgpu:function(e,t){},bzee:function(e,t){},dneG:function(e,t){},fL3t:function(e,t){},fcMZ:function(e,t){},foiT:function(e,t){},fyyl:function(e,t){},"g7+j":function(e,t,s){"use strict";var a,i=s("//Fk"),n=s.n(i),o=s("a/3G");t.a={state:{authToken:(a=localStorage.getItem("authToken"),null!==a&&""!==a?a:null),authUser:null,userRole:null,isDirector:!1,isAdmin:!1,isSU:!1,sidebarData:{}},getters:{sidebarData:function(e){return e.sidebarData},authToken:function(e){return e.authToken},isLoggedIn:function(e){return!!(e.authToken&&e.authToken.length>0)},authUser:function(e){return console.log(e.authUser),e.authUser},isAdmin:function(e){return console.log(e.isAdmin),e.isAdmin},isSU:function(e){return console.log(e.isSU),e.isSU},isDirector:function(e){return!(!e.isAdmin&&!e.isSU)||(console.log(e.isDirector),e.isDirector)}},mutations:{setSidebarData:function(e,t){e.sidebarData=t},setAuthToken:function(e,t){localStorage.setItem("authToken",t.authToken),e.authToken=t.authToken},destroyAuthToken:function(e){localStorage.setItem("authToken",""),e.authToken=null},setAuthUser:function(e,t){if(console.log(t),null===t)return e.authUser=null,e.userRole=null,e.isDirector=!1,e.isAdmin=!1,void(e.isSU=!1);e.authUser=t.user,e.userRole=t.user.role,2!==t.user.role&&3!==t.user.role||(e.isAdmin=!0,e.isDirector=!0),3===t.user.role&&(e.isSU=!0,e.isAdmin=!0,e.isDirector=!0),t.user.schoolsUsers.length>0&&1===t.user.schoolsUsers[0].role&&(e.isDirector=!0),console.log(e.authUser)}},actions:{autoSignIn:function(e,t){e.commit("setAuthToken",{authToken:t.authToken})},login:function(e,t){return new n.a(function(s,a){o.a("login/","post",!1,t,null,200).then(function(t){"error"!==t?(console.log(t),e.commit("setAuthToken",t),e.commit("setAuthUser",t),e.dispatch("getActualSidebarData"),s(t)):s("error")}).catch(function(e){console.log(e.response),a(e.response)})})},logout:function(e){return console.log("LOGOUT"),new n.a(function(t,s){var a={token:e.getters.authToken};o.a("logout/","post",!0,a,null,200).then(function(s){console.log(s),"error"!==s?(e.commit("destroyAuthToken"),e.commit("setAuthUser",null),t()):t("error")}).catch(function(e){console.log(e),console.log(e.response),s(e.response)})})},clearAuthToken:function(e){e.commit("destroyAuthToken")},getCurrentUser:function(e,t){return new n.a(function(t,s){o.a("me/","get",!0,null,null).then(function(s){console.log(s),"error"!==s?(e.commit("setAuthUser",{user:s}),t(s)):t("error")}).catch(function(e){console.log(e),s(e.response)})})},getActualSidebarData:function(e,t){return new n.a(function(t,s){o.a("me/","get",!0,null,{sidebar:!0}).then(function(s){"error"!==s?(e.commit("setSidebarData",s),t(s)):t("error")}).catch(function(e){console.log(e),s(e.response)})})}}}},ghpF:function(e,t){},guoP:function(e,t){},hJDw:function(e,t){},hjSL:function(e,t){},hoh3:function(e,t){},hui4:function(e,t){},iEIK:function(e,t){},jEfG:function(e,t){},jFya:function(e,t,s){"use strict";t.b=function(e){var t=void 0===e?"undefined":o()(e);if("undefined"===t)return!0;if("boolean"===t)return!e;if(null===e)return!0;if(void 0===e)return!0;if(e instanceof Array){if(e.length<1)return!0}else if("string"===t){if(e.length<1)return!0;if("0"===e)return!0}else if("object"===t){if(i()(e).length<1)return!0}else if("number"===t&&0===e)return!0;return!1},t.a=function(e){if(11!==e.length)return!1;for(var t=[],s=0;s<11;s++)if(t[s]=parseInt(e.substring(s,s+1)),isNaN(t[s]))return!1;for(var a=[1,3,7,9,1,3,7,9,1,3,1],i=0,n=0;n<11;n++)i+=a[n]*t[n];return i%10==0};var a=s("fZjL"),i=s.n(a),n=s("pFYg"),o=s.n(n),r=s("BO1k"),c=(s.n(r),s("d7EF"));s.n(c)},"ju+L":function(e,t){},kBqv:function(e,t){},kNw6:function(e,t,s){"use strict";var a=s("Usg1"),i=(s("a/3G"),s("mtWM"),s("Nz3/"),{name:"AdminNavbar",data:function(){return{eventBusButtonName:!1,eventBusMethod:!1,generateExcel:!1,generatePdf:!1,buttonLink:"#",buttonLinkParams:{},generationParams:{},buttonLinkEventBus:!1,items:[{text:"Admin",href:"#"},{text:"Manage",href:"#"},{text:"Library",active:!0}]}},computed:{errorCached:function(){return this.$store.getters.errorCached}},watch:{errorCached:function(e){this.$bvToast.toast("Wystąpil błąd lub nie masz uprawnień dla wygenerowania raportów lub ilość wyników równa się 0",{title:"Uwaga!",toaster:"b-toaster-bottom-right",solid:!0,variant:"danger",appendToast:!1,autoHideDelay:2e4})}},methods:{callEventBusMethod:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.a.$emit(this.eventBusMethod,e)},callGeneratePdf:function(){void 0===this.generationParams||this.generationParams.results.length<1?this.$bvToast.toast("Wybierz wyniki oraz zaznacz filtry",{title:"Uwaga!",toaster:"b-toaster-bottom-right",solid:!0,variant:"danger",appendToast:!1,autoHideDelay:1e4}):this.$store.dispatch("getPDF",this.generationParams)},callGenerateExcel:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];void 0===this.generationParams||this.generationParams.results.length<1?this.$bvToast.toast("Wybierz wyniki oraz zaznacz filtry",{title:"Uwaga!",toaster:"b-toaster-bottom-right",solid:!0,variant:"danger",appendToast:!1,autoHideDelay:1e4}):this.$store.dispatch("getExcel",this.generationParams)}},created:function(){var e=this;a.a.$on("NAVBAR_BUTTON_LINK",function(t){e.eventBusButtonName=t.eventBusButtonName,e.eventBusMethod=t.eventBusMethod,e.generateExcel=t.generateExcel,e.generatePdf=t.generatePdf,e.generationParams=t.generationParams,e.buttonLink=t.buttonLink,e.buttonLinkParams=t.params,e.buttonLinkEventBus=t.buttonLinkEventBus}),a.a.$on("NAVBAR_CHANGE_BREADCRUMBS",function(t){e.items=t})}}),n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-col",{staticClass:"p-0 mt-2",attrs:{cols:"12"}},[s("b-row",[s("b-col",[s("b-breadcrumb",{staticClass:"custom",attrs:{items:e.items}})],1),e._v(" "),e.buttonLink?s("b-col",{attrs:{sm:"4",md:"2"}},[s("b-link",{staticClass:"nowrap btn btn-primary btn-block mb-2",attrs:{to:{name:e.buttonLink,params:e.buttonLinkParams}}},[e._v("\n          Dodaj...\n        ")])],1):e._e(),e._v(" "),e.generateExcel?s("b-col",{attrs:{sm:"4",md:"2"}},[s("b-link",{staticClass:"nowrap btn btn-primary btn-block mb-2",on:{click:e.callGenerateExcel}},[e._v("\n          Wygeneruj EXCEL\n        ")])],1):e._e(),e._v(" "),e.generatePdf?s("b-col",{attrs:{sm:"4",md:"2"}},[s("b-link",{staticClass:"nowrap btn btn-primary btn-block mb-2",on:{click:e.callGeneratePdf}},[e._v("\n          Wygeneruj PDF\n        ")])],1):e._e(),e._v(" "),e.eventBusMethod?s("b-col",{attrs:{sm:"4",md:"2"}},[s("b-link",{staticClass:"nowrap btn btn-primary btn-block mb-2",on:{click:e.callEventBusMethod}},[e._v("\n          "+e._s(e.eventBusButtonName?e.eventBusButtonName:"Dodaj...")+"\n        ")])],1):e._e()],1)],1),e._v(" "),s("div",{staticClass:"d-none"},[e._v(e._s(e.errorCached))])],1)},staticRenderFns:[]};var o=s("VU/8")(i,n,!1,function(e){s("pcpW")},"data-v-e8dc5f3c",null);t.a=o.exports},kYP2:function(e,t){},m6Bl:function(e,t){},mBjh:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var s=document.createElement("_"),a=s.appendChild(document.createElement("_")),i=s.appendChild(document.createElement("_")),n=a.appendChild(document.createElement("_")),o=void 0,r=void 0;return a.style.cssText=s.style.cssText="height:100%;left:0;opacity:0;overflow:hidden;pointer-events:none;position:absolute;top:0;transition:0s;width:100%;z-index:-1",n.style.cssText=i.style.cssText="display:block;height:100%;transition:0s;width:100%",n.style.width=n.style.height="200%",e.appendChild(s),c(),function(){l(),e.removeChild(s)};function c(){l();var n=e.offsetWidth,u=e.offsetHeight;n===o&&u===r||(o=n,r=u,i.style.width=2*n+"px",i.style.height=2*u+"px",s.scrollLeft=s.scrollWidth,s.scrollTop=s.scrollHeight,a.scrollLeft=a.scrollWidth,a.scrollTop=a.scrollHeight,t({width:n,height:u})),a.addEventListener("scroll",c),s.addEventListener("scroll",c)}function l(){a.removeEventListener("scroll",c),s.removeEventListener("scroll",c)}}},mRh0:function(e,t){},meyX:function(e,t){},mynw:function(e,t){},"n/aS":function(e,t){},n8FL:function(e,t){},nFPC:function(e,t){},ntvf:function(e,t){},nuRO:function(e,t){},oHnh:function(e,t){},oQ1x:function(e,t){},pOKD:function(e,t){},pcpW:function(e,t){},qm6x:function(e,t){},rfJ8:function(e,t){},rymv:function(e,t){},sIvk:function(e,t){},seU7:function(e,t){},szTu:function(e,t){},tzok:function(e,t){},uMKl:function(e,t){},urfc:function(e,t){},vLXq:function(e,t){},vsZD:function(e,t){},"w/lp":function(e,t){},wFbl:function(e,t){},wkbB:function(e,t){},wuEb:function(e,t){},xUv0:function(e,t){},xlcC:function(e,t){},yZRK:function(e,t){},zyIk:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.006d6cdb86459c6bafc8.js.map